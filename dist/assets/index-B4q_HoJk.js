(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const f of s)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function l(s){const f={};return s.integrity&&(f.integrity=s.integrity),s.referrerPolicy&&(f.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?f.credentials="include":s.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(s){if(s.ep)return;s.ep=!0;const f=l(s);fetch(s.href,f)}})();function wg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ju={exports:{}},Jo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh;function D0(){if(Rh)return Jo;Rh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(o,s,f){var m=null;if(f!==void 0&&(m=""+f),s.key!==void 0&&(m=""+s.key),"key"in s){f={};for(var h in s)h!=="key"&&(f[h]=s[h])}else f=s;return s=f.ref,{$$typeof:n,type:o,key:m,ref:s!==void 0?s:null,props:f}}return Jo.Fragment=e,Jo.jsx=l,Jo.jsxs=l,Jo}var Dh;function I0(){return Dh||(Dh=1,ju.exports=D0()),ju.exports}var v=I0(),Qu={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function U0(){if(Ih)return Se;Ih=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.iterator;function _(b){return b===null||typeof b!="object"?null:(b=C&&b[C]||b["@@iterator"],typeof b=="function"?b:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,q={};function B(b,V,Q){this.props=b,this.context=V,this.refs=q,this.updater=Q||M}B.prototype.isReactComponent={},B.prototype.setState=function(b,V){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,V,"setState")},B.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Z(){}Z.prototype=B.prototype;function z(b,V,Q){this.props=b,this.context=V,this.refs=q,this.updater=Q||M}var Y=z.prototype=new Z;Y.constructor=z,D(Y,B.prototype),Y.isPureReactComponent=!0;var X=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function ne(b,V,Q,K,W,ce){return Q=ce.ref,{$$typeof:n,type:b,key:V,ref:Q!==void 0?Q:null,props:ce}}function J(b,V){return ne(b.type,V,void 0,void 0,void 0,b.props)}function j(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function oe(b){var V={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Q){return V[Q]})}var le=/\/+/g;function re(b,V){return typeof b=="object"&&b!==null&&b.key!=null?oe(""+b.key):V.toString(36)}function Me(){}function Re(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(Me,Me):(b.status="pending",b.then(function(V){b.status==="pending"&&(b.status="fulfilled",b.value=V)},function(V){b.status==="pending"&&(b.status="rejected",b.reason=V)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function ge(b,V,Q,K,W){var ce=typeof b;(ce==="undefined"||ce==="boolean")&&(b=null);var ee=!1;if(b===null)ee=!0;else switch(ce){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(b.$$typeof){case n:case e:ee=!0;break;case x:return ee=b._init,ge(ee(b._payload),V,Q,K,W)}}if(ee)return W=W(b),ee=K===""?"."+re(b,0):K,X(W)?(Q="",ee!=null&&(Q=ee.replace(le,"$&/")+"/"),ge(W,V,Q,"",function(nn){return nn})):W!=null&&(j(W)&&(W=J(W,Q+(W.key==null||b&&b.key===W.key?"":(""+W.key).replace(le,"$&/")+"/")+ee)),V.push(W)),1;ee=0;var Xe=K===""?".":K+":";if(X(b))for(var qe=0;qe<b.length;qe++)K=b[qe],ce=Xe+re(K,qe),ee+=ge(K,V,Q,ce,W);else if(qe=_(b),typeof qe=="function")for(b=qe.call(b),qe=0;!(K=b.next()).done;)K=K.value,ce=Xe+re(K,qe++),ee+=ge(K,V,Q,ce,W);else if(ce==="object"){if(typeof b.then=="function")return ge(Re(b),V,Q,K,W);throw V=String(b),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ee}function E(b,V,Q){if(b==null)return b;var K=[],W=0;return ge(b,K,"","",function(ce){return V.call(Q,ce,W++)}),K}function H(b){if(b._status===-1){var V=b._result;V=V(),V.then(function(Q){(b._status===0||b._status===-1)&&(b._status=1,b._result=Q)},function(Q){(b._status===0||b._status===-1)&&(b._status=2,b._result=Q)}),b._status===-1&&(b._status=0,b._result=V)}if(b._status===1)return b._result.default;throw b._result}var ie=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function R(){}return Se.Children={map:E,forEach:function(b,V,Q){E(b,function(){V.apply(this,arguments)},Q)},count:function(b){var V=0;return E(b,function(){V++}),V},toArray:function(b){return E(b,function(V){return V})||[]},only:function(b){if(!j(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Se.Component=B,Se.Fragment=l,Se.Profiler=s,Se.PureComponent=z,Se.StrictMode=o,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Se.__COMPILER_RUNTIME={__proto__:null,c:function(b){return $.H.useMemoCache(b)}},Se.cache=function(b){return function(){return b.apply(null,arguments)}},Se.cloneElement=function(b,V,Q){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var K=D({},b.props),W=b.key,ce=void 0;if(V!=null)for(ee in V.ref!==void 0&&(ce=void 0),V.key!==void 0&&(W=""+V.key),V)!ae.call(V,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&V.ref===void 0||(K[ee]=V[ee]);var ee=arguments.length-2;if(ee===1)K.children=Q;else if(1<ee){for(var Xe=Array(ee),qe=0;qe<ee;qe++)Xe[qe]=arguments[qe+2];K.children=Xe}return ne(b.type,W,void 0,void 0,ce,K)},Se.createContext=function(b){return b={$$typeof:m,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},Se.createElement=function(b,V,Q){var K,W={},ce=null;if(V!=null)for(K in V.key!==void 0&&(ce=""+V.key),V)ae.call(V,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(W[K]=V[K]);var ee=arguments.length-2;if(ee===1)W.children=Q;else if(1<ee){for(var Xe=Array(ee),qe=0;qe<ee;qe++)Xe[qe]=arguments[qe+2];W.children=Xe}if(b&&b.defaultProps)for(K in ee=b.defaultProps,ee)W[K]===void 0&&(W[K]=ee[K]);return ne(b,ce,void 0,void 0,null,W)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(b){return{$$typeof:h,render:b}},Se.isValidElement=j,Se.lazy=function(b){return{$$typeof:x,_payload:{_status:-1,_result:b},_init:H}},Se.memo=function(b,V){return{$$typeof:p,type:b,compare:V===void 0?null:V}},Se.startTransition=function(b){var V=$.T,Q={};$.T=Q;try{var K=b(),W=$.S;W!==null&&W(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(R,ie)}catch(ce){ie(ce)}finally{$.T=V}},Se.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Se.use=function(b){return $.H.use(b)},Se.useActionState=function(b,V,Q){return $.H.useActionState(b,V,Q)},Se.useCallback=function(b,V){return $.H.useCallback(b,V)},Se.useContext=function(b){return $.H.useContext(b)},Se.useDebugValue=function(){},Se.useDeferredValue=function(b,V){return $.H.useDeferredValue(b,V)},Se.useEffect=function(b,V,Q){var K=$.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(b,V)},Se.useId=function(){return $.H.useId()},Se.useImperativeHandle=function(b,V,Q){return $.H.useImperativeHandle(b,V,Q)},Se.useInsertionEffect=function(b,V){return $.H.useInsertionEffect(b,V)},Se.useLayoutEffect=function(b,V){return $.H.useLayoutEffect(b,V)},Se.useMemo=function(b,V){return $.H.useMemo(b,V)},Se.useOptimistic=function(b,V){return $.H.useOptimistic(b,V)},Se.useReducer=function(b,V,Q){return $.H.useReducer(b,V,Q)},Se.useRef=function(b){return $.H.useRef(b)},Se.useState=function(b){return $.H.useState(b)},Se.useSyncExternalStore=function(b,V,Q){return $.H.useSyncExternalStore(b,V,Q)},Se.useTransition=function(){return $.H.useTransition()},Se.version="19.1.0",Se}var Uh;function Uc(){return Uh||(Uh=1,Qu.exports=U0()),Qu.exports}var P=Uc();const k0=wg(P);var Ku={exports:{}},Yo={},Xu={exports:{}},Wu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function L0(){return kh||(kh=1,function(n){function e(E,H){var ie=E.length;E.push(H);e:for(;0<ie;){var R=ie-1>>>1,b=E[R];if(0<s(b,H))E[R]=H,E[ie]=b,ie=R;else break e}}function l(E){return E.length===0?null:E[0]}function o(E){if(E.length===0)return null;var H=E[0],ie=E.pop();if(ie!==H){E[0]=ie;e:for(var R=0,b=E.length,V=b>>>1;R<V;){var Q=2*(R+1)-1,K=E[Q],W=Q+1,ce=E[W];if(0>s(K,ie))W<b&&0>s(ce,K)?(E[R]=ce,E[W]=ie,R=W):(E[R]=K,E[Q]=ie,R=Q);else if(W<b&&0>s(ce,ie))E[R]=ce,E[W]=ie,R=W;else break e}}return H}function s(E,H){var ie=E.sortIndex-H.sortIndex;return ie!==0?ie:E.id-H.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,h=m.now();n.unstable_now=function(){return m.now()-h}}var y=[],p=[],x=1,C=null,_=3,M=!1,D=!1,q=!1,B=!1,Z=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function X(E){for(var H=l(p);H!==null;){if(H.callback===null)o(p);else if(H.startTime<=E)o(p),H.sortIndex=H.expirationTime,e(y,H);else break;H=l(p)}}function $(E){if(q=!1,X(E),!D)if(l(y)!==null)D=!0,ae||(ae=!0,re());else{var H=l(p);H!==null&&ge($,H.startTime-E)}}var ae=!1,ne=-1,J=5,j=-1;function oe(){return B?!0:!(n.unstable_now()-j<J)}function le(){if(B=!1,ae){var E=n.unstable_now();j=E;var H=!0;try{e:{D=!1,q&&(q=!1,z(ne),ne=-1),M=!0;var ie=_;try{t:{for(X(E),C=l(y);C!==null&&!(C.expirationTime>E&&oe());){var R=C.callback;if(typeof R=="function"){C.callback=null,_=C.priorityLevel;var b=R(C.expirationTime<=E);if(E=n.unstable_now(),typeof b=="function"){C.callback=b,X(E),H=!0;break t}C===l(y)&&o(y),X(E)}else o(y);C=l(y)}if(C!==null)H=!0;else{var V=l(p);V!==null&&ge($,V.startTime-E),H=!1}}break e}finally{C=null,_=ie,M=!1}H=void 0}}finally{H?re():ae=!1}}}var re;if(typeof Y=="function")re=function(){Y(le)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Re=Me.port2;Me.port1.onmessage=le,re=function(){Re.postMessage(null)}}else re=function(){Z(le,0)};function ge(E,H){ne=Z(function(){E(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(E){E.callback=null},n.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<E?Math.floor(1e3/E):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(E){switch(_){case 1:case 2:case 3:var H=3;break;default:H=_}var ie=_;_=H;try{return E()}finally{_=ie}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(E,H){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var ie=_;_=E;try{return H()}finally{_=ie}},n.unstable_scheduleCallback=function(E,H,ie){var R=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?R+ie:R):ie=R,E){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ie+b,E={id:x++,callback:H,priorityLevel:E,startTime:ie,expirationTime:b,sortIndex:-1},ie>R?(E.sortIndex=ie,e(p,E),l(y)===null&&E===l(p)&&(q?(z(ne),ne=-1):q=!0,ge($,ie-R))):(E.sortIndex=b,e(y,E),D||M||(D=!0,ae||(ae=!0,re()))),E},n.unstable_shouldYield=oe,n.unstable_wrapCallback=function(E){var H=_;return function(){var ie=_;_=H;try{return E.apply(this,arguments)}finally{_=ie}}}}(Wu)),Wu}var Lh;function V0(){return Lh||(Lh=1,Xu.exports=L0()),Xu.exports}var ec={exports:{}},yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function P0(){if(Vh)return yt;Vh=1;var n=Uc();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},s=Symbol.for("react.portal");function f(y,p,x){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:C==null?null:""+C,children:y,containerInfo:p,implementation:x}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,yt.createPortal=function(y,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return f(y,p,null,x)},yt.flushSync=function(y){var p=m.T,x=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=p,o.p=x,o.d.f()}},yt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(y,p))},yt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},yt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var x=p.as,C=h(x,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?o.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:_,fetchPriority:M}):x==="script"&&o.d.X(y,{crossOrigin:C,integrity:_,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},yt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=h(p.as,p.crossOrigin);o.d.M(y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(y)},yt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,C=h(x,p.crossOrigin);o.d.L(y,x,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},yt.preloadModule=function(y,p){if(typeof y=="string")if(p){var x=h(p.as,p.crossOrigin);o.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(y)},yt.requestFormReset=function(y){o.d.r(y)},yt.unstable_batchedUpdates=function(y,p){return y(p)},yt.useFormState=function(y,p,x){return m.H.useFormState(y,p,x)},yt.useFormStatus=function(){return m.H.useHostTransitionStatus()},yt.version="19.1.0",yt}var Ph;function q0(){if(Ph)return ec.exports;Ph=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ec.exports=P0(),ec.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function B0(){if(qh)return Yo;qh=1;var n=V0(),e=Uc(),l=q0();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(f(t)!==t)throw Error(o(188))}function y(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(o(188));return i!==t?null:t}for(var a=t,c=i;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return h(d),t;if(g===c)return h(d),i;g=g.sibling}throw Error(o(188))}if(a.return!==c.return)a=d,c=g;else{for(var T=!1,S=d.child;S;){if(S===a){T=!0,a=d,c=g;break}if(S===c){T=!0,c=d,a=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===a){T=!0,a=g,c=d;break}if(S===c){T=!0,c=g,a=d;break}S=S.sibling}if(!T)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var x=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function re(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Symbol.for("react.client.reference");function Re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Me?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case B:return"Profiler";case q:return"StrictMode";case $:return"Suspense";case ae:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case Y:return(t.displayName||"Context")+".Provider";case z:return(t._context.displayName||"Context")+".Consumer";case X:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ne:return i=t.displayName||null,i!==null?i:Re(t.type)||"Memo";case J:i=t._payload,t=t._init;try{return Re(t(i))}catch{}}return null}var ge=Array.isArray,E=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},R=[],b=-1;function V(t){return{current:t}}function Q(t){0>b||(t.current=R[b],R[b]=null,b--)}function K(t,i){b++,R[b]=t.current,t.current=i}var W=V(null),ce=V(null),ee=V(null),Xe=V(null);function qe(t,i){switch(K(ee,i),K(ce,t),K(W,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?lh(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=lh(i),t=oh(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(W),K(W,t)}function nn(){Q(W),Q(ce),Q(ee)}function Jl(t){t.memoizedState!==null&&K(Xe,t);var i=W.current,a=oh(i,t.type);i!==a&&(K(ce,t),K(W,a))}function Oi(t){ce.current===t&&(Q(W),Q(ce)),Xe.current===t&&(Q(Xe),Go._currentValue=ie)}var Yl=Object.prototype.hasOwnProperty,mn=n.unstable_scheduleCallback,Zl=n.unstable_cancelCallback,Ls=n.unstable_shouldYield,Vs=n.unstable_requestPaint,Gt=n.unstable_now,Ps=n.unstable_getCurrentPriorityLevel,fi=n.unstable_ImmediatePriority,se=n.unstable_UserBlockingPriority,He=n.unstable_NormalPriority,bt=n.unstable_LowPriority,Fe=n.unstable_IdlePriority,hn=n.log,Vn=n.unstable_setDisableYieldValue,ht=null,lt=null;function Ot(t){if(typeof hn=="function"&&Vn(t),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(ht,t)}catch{}}var It=Math.clz32?Math.clz32:yy,py=Math.log,gy=Math.LN2;function yy(t){return t>>>=0,t===0?32:31-(py(t)/gy|0)|0}var ta=256,na=4194304;function di(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ia(t,i,a){var c=t.pendingLanes;if(c===0)return 0;var d=0,g=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?d=di(c):(T&=S,T!==0?d=di(T):a||(a=S&~t,a!==0&&(d=di(a))))):(S=c&~g,S!==0?d=di(S):T!==0?d=di(T):a||(a=c&~t,a!==0&&(d=di(a)))),d===0?0:i!==0&&i!==d&&(i&g)===0&&(g=d&-d,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:d}function $l(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function vy(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var t=ta;return ta<<=1,(ta&4194048)===0&&(ta=256),t}function Oc(){var t=na;return na<<=1,(na&62914560)===0&&(na=4194304),t}function qs(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function jl(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xy(t,i,a,c,d,g){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,A=t.expirationTimes,U=t.hiddenUpdates;for(a=T&~a;0<a;){var G=31-It(a),F=1<<G;S[G]=0,A[G]=-1;var k=U[G];if(k!==null)for(U[G]=null,G=0;G<k.length;G++){var L=k[G];L!==null&&(L.lane&=-536870913)}a&=~F}c!==0&&zc(t,c,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(T&~i))}function zc(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-It(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|a&4194090}function Hc(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var c=31-It(a),d=1<<c;d&i|t[c]&i&&(t[c]|=i),a&=~d}}function Bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fc(){var t=H.p;return t!==0?t:(t=window.event,t===void 0?32:bh(t.type))}function Ty(t,i){var a=H.p;try{return H.p=t,i()}finally{H.p=a}}var Pn=Math.random().toString(36).slice(2),pt="__reactFiber$"+Pn,Et="__reactProps$"+Pn,zi="__reactContainer$"+Pn,Os="__reactEvents$"+Pn,Cy="__reactListeners$"+Pn,Sy="__reactHandles$"+Pn,Jc="__reactResources$"+Pn,Ql="__reactMarker$"+Pn;function zs(t){delete t[pt],delete t[Et],delete t[Os],delete t[Cy],delete t[Sy]}function Hi(t){var i=t[pt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[zi]||a[pt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=uh(t);t!==null;){if(a=t[pt])return a;t=uh(t)}return i}t=a,a=t.parentNode}return null}function Fi(t){if(t=t[pt]||t[zi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Kl(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function Ji(t){var i=t[Jc];return i||(i=t[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function st(t){t[Ql]=!0}var Yc=new Set,Zc={};function mi(t,i){Yi(t,i),Yi(t+"Capture",i)}function Yi(t,i){for(Zc[t]=i,t=0;t<i.length;t++)Yc.add(i[t])}var _y=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$c={},jc={};function by(t){return Yl.call(jc,t)?!0:Yl.call($c,t)?!1:_y.test(t)?jc[t]=!0:($c[t]=!0,!1)}function la(t,i,a){if(by(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function oa(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function pn(t,i,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+c)}}var Hs,Qc;function Zi(t){if(Hs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Hs=i&&i[1]||"",Qc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+t+Qc}var Fs=!1;function Js(t,i){if(!t||Fs)return"";Fs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(L){var k=L}Reflect.construct(t,[],F)}else{try{F.call()}catch(L){k=L}t.call(F.prototype)}}else{try{throw Error()}catch(L){k=L}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(L){if(L&&k&&typeof L.stack=="string")return[L.stack,k.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var A=T.split(`
`),U=S.split(`
`);for(d=c=0;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(c===A.length||d===U.length)for(c=A.length-1,d=U.length-1;1<=c&&0<=d&&A[c]!==U[d];)d--;for(;1<=c&&0<=d;c--,d--)if(A[c]!==U[d]){if(c!==1||d!==1)do if(c--,d--,0>d||A[c]!==U[d]){var G=`
`+A[c].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=c&&0<=d);break}}}finally{Fs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Zi(a):""}function Ey(t){switch(t.tag){case 26:case 27:case 5:return Zi(t.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return Js(t.type,!1);case 11:return Js(t.type.render,!1);case 1:return Js(t.type,!0);case 31:return Zi("Activity");default:return""}}function Kc(t){try{var i="";do i+=Ey(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ay(t){var i=Xc(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){c=""+T,g.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function aa(t){t._valueTracker||(t._valueTracker=Ay(t))}function Wc(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return t&&(c=Xc(t)?t.checked?"true":"false":t.value),t=c,t!==a?(i.setValue(t),!0):!1}function sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wy=/[\n"\\]/g;function Ht(t){return t.replace(wy,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ys(t,i,a,c,d,g,T,S){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Zs(t,T,zt(i)):a!=null?Zs(t,T,zt(a)):c!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+zt(S):t.removeAttribute("name")}function ef(t,i,a,c,d,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=S?t.checked:!!c,t.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Zs(t,i,a){i==="number"&&sa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function $i(t,i,a,c){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&c&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function tf(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function nf(t,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(o(92));if(ge(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c)}function ji(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var My=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lf(t,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,a):typeof a!="number"||a===0||My.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function of(t,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&a[d]!==c&&lf(t,d,c)}else for(var g in i)i.hasOwnProperty(g)&&lf(t,g,i[g])}function $s(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ny=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ry=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(t){return Ry.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var js=null;function Qs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qi=null,Ki=null;function af(t){var i=Fi(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ys(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==t&&c.form===t.form){var d=c[Et]||null;if(!d)throw Error(o(90));Ys(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===t.form&&Wc(c)}break e;case"textarea":tf(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&$i(t,!!a.multiple,i,!1)}}}var Ks=!1;function sf(t,i,a){if(Ks)return t(i,a);Ks=!0;try{var c=t(i);return c}finally{if(Ks=!1,(Qi!==null||Ki!==null)&&(Za(),Qi&&(i=Qi,t=Ki,Ki=Qi=null,af(i),t)))for(i=0;i<t.length;i++)af(t[i])}}function Xl(t,i){var a=t.stateNode;if(a===null)return null;var c=a[Et]||null;if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(gn)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{Xs=!1}var qn=null,Ws=null,ua=null;function rf(){if(ua)return ua;var t,i=Ws,a=i.length,c,d="value"in qn?qn.value:qn.textContent,g=d.length;for(t=0;t<a&&i[t]===d[t];t++);var T=a-t;for(c=1;c<=T&&i[a-c]===d[g-c];c++);return ua=d.slice(t,1<c?1-c:void 0)}function ca(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function fa(){return!0}function uf(){return!1}function At(t){function i(a,c,d,g,T){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?fa:uf,this.isPropagationStopped=uf,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),i}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=At(hi),eo=x({},hi,{view:0,detail:0}),Dy=At(eo),er,tr,to,ma=x({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==to&&(to&&t.type==="mousemove"?(er=t.screenX-to.screenX,tr=t.screenY-to.screenY):tr=er=0,to=t),er)},movementY:function(t){return"movementY"in t?t.movementY:tr}}),cf=At(ma),Iy=x({},ma,{dataTransfer:0}),Uy=At(Iy),ky=x({},eo,{relatedTarget:0}),nr=At(ky),Ly=x({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vy=At(Ly),Py=x({},hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qy=At(Py),By=x({},hi,{data:0}),ff=At(By),Gy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hy(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zy[t])?!!i[t]:!1}function ir(){return Hy}var Fy=x({},eo,{key:function(t){if(t.key){var i=Gy[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ir,charCode:function(t){return t.type==="keypress"?ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jy=At(Fy),Yy=x({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),df=At(Yy),Zy=x({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ir}),$y=At(Zy),jy=x({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qy=At(jy),Ky=x({},ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xy=At(Ky),Wy=x({},hi,{newState:0,oldState:0}),ev=At(Wy),tv=[9,13,27,32],lr=gn&&"CompositionEvent"in window,no=null;gn&&"documentMode"in document&&(no=document.documentMode);var nv=gn&&"TextEvent"in window&&!no,mf=gn&&(!lr||no&&8<no&&11>=no),hf=" ",pf=!1;function gf(t,i){switch(t){case"keyup":return tv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xi=!1;function iv(t,i){switch(t){case"compositionend":return yf(i);case"keypress":return i.which!==32?null:(pf=!0,hf);case"textInput":return t=i.data,t===hf&&pf?null:t;default:return null}}function lv(t,i){if(Xi)return t==="compositionend"||!lr&&gf(t,i)?(t=rf(),ua=Ws=qn=null,Xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return mf&&i.locale!=="ko"?null:i.data;default:return null}}var ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ov[t.type]:i==="textarea"}function xf(t,i,a,c){Qi?Ki?Ki.push(c):Ki=[c]:Qi=c,i=Wa(i,"onChange"),0<i.length&&(a=new da("onChange","change",null,a,c),t.push({event:a,listeners:i}))}var io=null,lo=null;function av(t){Wm(t,0)}function ha(t){var i=Kl(t);if(Wc(i))return t}function Tf(t,i){if(t==="change")return i}var Cf=!1;if(gn){var or;if(gn){var ar="oninput"in document;if(!ar){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),ar=typeof Sf.oninput=="function"}or=ar}else or=!1;Cf=or&&(!document.documentMode||9<document.documentMode)}function _f(){io&&(io.detachEvent("onpropertychange",bf),lo=io=null)}function bf(t){if(t.propertyName==="value"&&ha(lo)){var i=[];xf(i,lo,t,Qs(t)),sf(av,i)}}function sv(t,i,a){t==="focusin"?(_f(),io=i,lo=a,io.attachEvent("onpropertychange",bf)):t==="focusout"&&_f()}function rv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ha(lo)}function uv(t,i){if(t==="click")return ha(i)}function cv(t,i){if(t==="input"||t==="change")return ha(i)}function fv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ut=typeof Object.is=="function"?Object.is:fv;function oo(t,i){if(Ut(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!Yl.call(i,d)||!Ut(t[d],i[d]))return!1}return!0}function Ef(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Af(t,i){var a=Ef(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=i&&c>=i)return{node:a,offset:i-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ef(a)}}function wf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?wf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Mf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=sa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=sa(t.document)}return i}function sr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var dv=gn&&"documentMode"in document&&11>=document.documentMode,Wi=null,rr=null,ao=null,ur=!1;function Nf(t,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ur||Wi==null||Wi!==sa(c)||(c=Wi,"selectionStart"in c&&sr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ao&&oo(ao,c)||(ao=c,c=Wa(rr,"onSelect"),0<c.length&&(i=new da("onSelect","select",null,i,a),t.push({event:i,listeners:c}),i.target=Wi)))}function pi(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var el={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionrun:pi("Transition","TransitionRun"),transitionstart:pi("Transition","TransitionStart"),transitioncancel:pi("Transition","TransitionCancel"),transitionend:pi("Transition","TransitionEnd")},cr={},Rf={};gn&&(Rf=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function gi(t){if(cr[t])return cr[t];if(!el[t])return t;var i=el[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rf)return cr[t]=i[a];return t}var Df=gi("animationend"),If=gi("animationiteration"),Uf=gi("animationstart"),mv=gi("transitionrun"),hv=gi("transitionstart"),pv=gi("transitioncancel"),kf=gi("transitionend"),Lf=new Map,fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fr.push("scrollEnd");function Wt(t,i){Lf.set(t,i),mi(i,[t])}var Vf=new WeakMap;function Ft(t,i){if(typeof t=="object"&&t!==null){var a=Vf.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Kc(i)},Vf.set(t,i),i)}return{value:t,source:i,stack:Kc(i)}}var Jt=[],tl=0,dr=0;function pa(){for(var t=tl,i=dr=tl=0;i<t;){var a=Jt[i];Jt[i++]=null;var c=Jt[i];Jt[i++]=null;var d=Jt[i];Jt[i++]=null;var g=Jt[i];if(Jt[i++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}g!==0&&Pf(a,d,g)}}function ga(t,i,a,c){Jt[tl++]=t,Jt[tl++]=i,Jt[tl++]=a,Jt[tl++]=c,dr|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function mr(t,i,a,c){return ga(t,i,a,c),ya(t)}function nl(t,i){return ga(t,null,null,i),ya(t)}function Pf(t,i,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var d=!1,g=t.return;g!==null;)g.childLanes|=a,c=g.alternate,c!==null&&(c.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&i!==null&&(d=31-It(a),t=g.hiddenUpdates,c=t[d],c===null?t[d]=[i]:c.push(i),i.lane=a|536870912),g):null}function ya(t){if(50<Io)throw Io=0,xu=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var il={};function gv(t,i,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,i,a,c){return new gv(t,i,a,c)}function hr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yn(t,i){var a=t.alternate;return a===null?(a=kt(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qf(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function va(t,i,a,c,d,g){var T=0;if(c=t,typeof t=="function")hr(t)&&(T=1);else if(typeof t=="string")T=v0(t,a,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=kt(31,a,i,d),t.elementType=j,t.lanes=g,t;case D:return yi(a.children,d,g,i);case q:T=8,d|=24;break;case B:return t=kt(12,a,i,d|2),t.elementType=B,t.lanes=g,t;case $:return t=kt(13,a,i,d),t.elementType=$,t.lanes=g,t;case ae:return t=kt(19,a,i,d),t.elementType=ae,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:case Y:T=10;break e;case z:T=9;break e;case X:T=11;break e;case ne:T=14;break e;case J:T=16,c=null;break e}T=29,a=Error(o(130,t===null?"null":typeof t,"")),c=null}return i=kt(T,a,i,d),i.elementType=t,i.type=c,i.lanes=g,i}function yi(t,i,a,c){return t=kt(7,t,c,i),t.lanes=a,t}function pr(t,i,a){return t=kt(6,t,null,i),t.lanes=a,t}function gr(t,i,a){return i=kt(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ll=[],ol=0,xa=null,Ta=0,Yt=[],Zt=0,vi=null,vn=1,xn="";function xi(t,i){ll[ol++]=Ta,ll[ol++]=xa,xa=t,Ta=i}function Bf(t,i,a){Yt[Zt++]=vn,Yt[Zt++]=xn,Yt[Zt++]=vi,vi=t;var c=vn;t=xn;var d=32-It(c)-1;c&=~(1<<d),a+=1;var g=32-It(i)+d;if(30<g){var T=d-d%5;g=(c&(1<<T)-1).toString(32),c>>=T,d-=T,vn=1<<32-It(i)+d|a<<d|c,xn=g+t}else vn=1<<g|a<<d|c,xn=t}function yr(t){t.return!==null&&(xi(t,1),Bf(t,1,0))}function vr(t){for(;t===xa;)xa=ll[--ol],ll[ol]=null,Ta=ll[--ol],ll[ol]=null;for(;t===vi;)vi=Yt[--Zt],Yt[Zt]=null,xn=Yt[--Zt],Yt[Zt]=null,vn=Yt[--Zt],Yt[Zt]=null}var xt=null,je=null,ke=!1,Ti=null,ln=!1,xr=Error(o(519));function Ci(t){var i=Error(o(418,""));throw uo(Ft(i,t)),xr}function Gf(t){var i=t.stateNode,a=t.type,c=t.memoizedProps;switch(i[pt]=t,i[Et]=c,a){case"dialog":we("cancel",i),we("close",i);break;case"iframe":case"object":case"embed":we("load",i);break;case"video":case"audio":for(a=0;a<ko.length;a++)we(ko[a],i);break;case"source":we("error",i);break;case"img":case"image":case"link":we("error",i),we("load",i);break;case"details":we("toggle",i);break;case"input":we("invalid",i),ef(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),aa(i);break;case"select":we("invalid",i);break;case"textarea":we("invalid",i),nf(i,c.value,c.defaultValue,c.children),aa(i)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||ih(i.textContent,a)?(c.popover!=null&&(we("beforetoggle",i),we("toggle",i)),c.onScroll!=null&&we("scroll",i),c.onScrollEnd!=null&&we("scrollend",i),c.onClick!=null&&(i.onclick=es),i=!0):i=!1,i||Ci(t)}function Of(t){for(xt=t.return;xt;)switch(xt.tag){case 5:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:xt=xt.return}}function so(t){if(t!==xt)return!1;if(!ke)return Of(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Lu(t.type,t.memoizedProps)),a=!a),a&&je&&Ci(t),Of(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){je=tn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}je=null}}else i===27?(i=je,ei(t.type)?(t=Bu,Bu=null,je=t):je=i):je=xt?tn(t.stateNode.nextSibling):null;return!0}function ro(){je=xt=null,ke=!1}function zf(){var t=Ti;return t!==null&&(Nt===null?Nt=t:Nt.push.apply(Nt,t),Ti=null),t}function uo(t){Ti===null?Ti=[t]:Ti.push(t)}var Tr=V(null),Si=null,Tn=null;function Bn(t,i,a){K(Tr,i._currentValue),i._currentValue=a}function Cn(t){t._currentValue=Tr.current,Q(Tr)}function Cr(t,i,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===a)break;t=t.return}}function Sr(t,i,a,c){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var A=0;A<i.length;A++)if(S.context===i[A]){g.lanes|=a,S=g.alternate,S!==null&&(S.lanes|=a),Cr(g.return,a,t),c||(T=null);break e}g=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(o(341));T.lanes|=a,g=T.alternate,g!==null&&(g.lanes|=a),Cr(T,a,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function co(t,i,a,c){t=null;for(var d=i,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var S=d.type;Ut(d.pendingProps.value,T.value)||(t!==null?t.push(S):t=[S])}}else if(d===Xe.current){if(T=d.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Go):t=[Go])}d=d.return}t!==null&&Sr(i,t,a,c),i.flags|=262144}function Ca(t){for(t=t.firstContext;t!==null;){if(!Ut(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _i(t){Si=t,Tn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gt(t){return Hf(Si,t)}function Sa(t,i){return Si===null&&_i(t),Hf(t,i)}function Hf(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Tn===null){if(t===null)throw Error(o(308));Tn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Tn=Tn.next=i;return a}var yv=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},vv=n.unstable_scheduleCallback,xv=n.unstable_NormalPriority,ot={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _r(){return{controller:new yv,data:new Map,refCount:0}}function fo(t){t.refCount--,t.refCount===0&&vv(xv,function(){t.controller.abort()})}var mo=null,br=0,al=0,sl=null;function Tv(t,i){if(mo===null){var a=mo=[];br=0,al=Au(),sl={status:"pending",value:void 0,then:function(c){a.push(c)}}}return br++,i.then(Ff,Ff),i}function Ff(){if(--br===0&&mo!==null){sl!==null&&(sl.status="fulfilled");var t=mo;mo=null,al=0,sl=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Cv(t,i){var a=[],c={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),c}var Jf=E.S;E.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Tv(t,i),Jf!==null&&Jf(t,i)};var bi=V(null);function Er(){var t=bi.current;return t!==null?t:Je.pooledCache}function _a(t,i){i===null?K(bi,bi.current):K(bi,i.pool)}function Yf(){var t=Er();return t===null?null:{parent:ot._currentValue,pool:t}}var ho=Error(o(460)),Zf=Error(o(474)),ba=Error(o(542)),Ar={then:function(){}};function $f(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ea(){}function jf(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ea,Ea),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kf(t),t;default:if(typeof i.status=="string")i.then(Ea,Ea);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kf(t),t}throw po=i,ho}}var po=null;function Qf(){if(po===null)throw Error(o(459));var t=po;return po=null,t}function Kf(t){if(t===ho||t===ba)throw Error(o(483))}var Gn=!1;function wr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function On(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zn(t,i,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Le&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=ya(t),Pf(t,null,a),i}return ga(t,c,i,a),ya(t)}function go(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,Hc(t,a)}}function Nr(t,i){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,a=a.next}while(a!==null);g===null?d=g=i:g=g.next=i}else d=g=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Rr=!1;function yo(){if(Rr){var t=sl;if(t!==null)throw t}}function vo(t,i,a,c){Rr=!1;var d=t.updateQueue;Gn=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var A=S,U=A.next;A.next=null,T===null?g=U:T.next=U,T=A;var G=t.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==T&&(S===null?G.firstBaseUpdate=U:S.next=U,G.lastBaseUpdate=A))}if(g!==null){var F=d.baseState;T=0,G=U=A=null,S=g;do{var k=S.lane&-536870913,L=k!==S.lane;if(L?(De&k)===k:(c&k)===k){k!==0&&k===al&&(Rr=!0),G!==null&&(G=G.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var xe=t,ye=S;k=i;var Oe=a;switch(ye.tag){case 1:if(xe=ye.payload,typeof xe=="function"){F=xe.call(Oe,F,k);break e}F=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ye.payload,k=typeof xe=="function"?xe.call(Oe,F,k):xe,k==null)break e;F=x({},F,k);break e;case 2:Gn=!0}}k=S.callback,k!==null&&(t.flags|=64,L&&(t.flags|=8192),L=d.callbacks,L===null?d.callbacks=[k]:L.push(k))}else L={lane:k,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(U=G=L,A=F):G=G.next=L,T|=k;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;L=S,S=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);G===null&&(A=F),d.baseState=A,d.firstBaseUpdate=U,d.lastBaseUpdate=G,g===null&&(d.shared.lanes=0),Qn|=T,t.lanes=T,t.memoizedState=F}}function Xf(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function Wf(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xf(a[t],i)}var rl=V(null),Aa=V(0);function ed(t,i){t=Mn,K(Aa,t),K(rl,i),Mn=t|i.baseLanes}function Dr(){K(Aa,Mn),K(rl,rl.current)}function Ir(){Mn=Aa.current,Q(rl),Q(Aa)}var Hn=0,be=null,Be=null,tt=null,wa=!1,ul=!1,Ei=!1,Ma=0,xo=0,cl=null,Sv=0;function We(){throw Error(o(321))}function Ur(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Ut(t[a],i[a]))return!1;return!0}function kr(t,i,a,c,d,g){return Hn=g,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,E.H=t===null||t.memoizedState===null?Pd:qd,Ei=!1,g=a(c,d),Ei=!1,ul&&(g=nd(i,a,c,d)),td(t),g}function td(t){E.H=ka;var i=Be!==null&&Be.next!==null;if(Hn=0,tt=Be=be=null,wa=!1,xo=0,cl=null,i)throw Error(o(300));t===null||rt||(t=t.dependencies,t!==null&&Ca(t)&&(rt=!0))}function nd(t,i,a,c){be=t;var d=0;do{if(ul&&(cl=null),xo=0,ul=!1,25<=d)throw Error(o(301));if(d+=1,tt=Be=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}E.H=Nv,g=i(a,c)}while(ul);return g}function _v(){var t=E.H,i=t.useState()[0];return i=typeof i.then=="function"?To(i):i,t=t.useState()[0],(Be!==null?Be.memoizedState:null)!==t&&(be.flags|=1024),i}function Lr(){var t=Ma!==0;return Ma=0,t}function Vr(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Pr(t){if(wa){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}wa=!1}Hn=0,tt=Be=be=null,ul=!1,xo=Ma=0,cl=null}function wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?be.memoizedState=tt=t:tt=tt.next=t,tt}function nt(){if(Be===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var i=tt===null?be.memoizedState:tt.next;if(i!==null)tt=i,Be=t;else{if(t===null)throw be.alternate===null?Error(o(467)):Error(o(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},tt===null?be.memoizedState=tt=t:tt=tt.next=t}return tt}function qr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function To(t){var i=xo;return xo+=1,cl===null&&(cl=[]),t=jf(cl,t,i),i=be,(tt===null?i.memoizedState:tt.next)===null&&(i=i.alternate,E.H=i===null||i.memoizedState===null?Pd:qd),t}function Na(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return To(t);if(t.$$typeof===Y)return gt(t)}throw Error(o(438,String(t)))}function Br(t){var i=null,a=be.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=qr(),be.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),c=0;c<t;c++)a[c]=oe;return i.index++,a}function Sn(t,i){return typeof i=="function"?i(t):i}function Ra(t){var i=nt();return Gr(i,Be,t)}function Gr(t,i,a){var c=t.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=a;var d=t.baseQueue,g=c.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}i.baseQueue=d=g,c.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{i=d.next;var S=T=null,A=null,U=i,G=!1;do{var F=U.lane&-536870913;if(F!==U.lane?(De&F)===F:(Hn&F)===F){var k=U.revertLane;if(k===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),F===al&&(G=!0);else if((Hn&k)===k){U=U.next,k===al&&(G=!0);continue}else F={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(S=A=F,T=g):A=A.next=F,be.lanes|=k,Qn|=k;F=U.action,Ei&&a(g,F),g=U.hasEagerState?U.eagerState:a(g,F)}else k={lane:F,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(S=A=k,T=g):A=A.next=k,be.lanes|=F,Qn|=F;U=U.next}while(U!==null&&U!==i);if(A===null?T=g:A.next=S,!Ut(g,t.memoizedState)&&(rt=!0,G&&(a=sl,a!==null)))throw a;t.memoizedState=g,t.baseState=T,t.baseQueue=A,c.lastRenderedState=g}return d===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Or(t){var i=nt(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var c=a.dispatch,d=a.pending,g=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do g=t(g,T.action),T=T.next;while(T!==d);Ut(g,i.memoizedState)||(rt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function id(t,i,a){var c=be,d=nt(),g=ke;if(g){if(a===void 0)throw Error(o(407));a=a()}else a=i();var T=!Ut((Be||d).memoizedState,a);T&&(d.memoizedState=a,rt=!0),d=d.queue;var S=ad.bind(null,c,d,t);if(Co(2048,8,S,[t]),d.getSnapshot!==i||T||tt!==null&&tt.memoizedState.tag&1){if(c.flags|=2048,fl(9,Da(),od.bind(null,c,d,a,i),null),Je===null)throw Error(o(349));g||(Hn&124)!==0||ld(c,i,a)}return a}function ld(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=be.updateQueue,i===null?(i=qr(),be.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function od(t,i,a,c){i.value=a,i.getSnapshot=c,sd(i)&&rd(t)}function ad(t,i,a){return a(function(){sd(i)&&rd(t)})}function sd(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Ut(t,a)}catch{return!0}}function rd(t){var i=nl(t,2);i!==null&&Bt(i,t,2)}function zr(t){var i=wt();if(typeof t=="function"){var a=t;if(t=a(),Ei){Ot(!0);try{a()}finally{Ot(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:t},i}function ud(t,i,a,c){return t.baseState=a,Gr(t,Be,typeof c=="function"?c:Sn)}function bv(t,i,a,c,d){if(Ua(t))throw Error(o(485));if(t=i.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};E.T!==null?a(!0):g.isTransition=!1,c(g),a=i.pending,a===null?(g.next=i.pending=g,cd(i,g)):(g.next=a.next,i.pending=a.next=g)}}function cd(t,i){var a=i.action,c=i.payload,d=t.state;if(i.isTransition){var g=E.T,T={};E.T=T;try{var S=a(d,c),A=E.S;A!==null&&A(T,S),fd(t,i,S)}catch(U){Hr(t,i,U)}finally{E.T=g}}else try{g=a(d,c),fd(t,i,g)}catch(U){Hr(t,i,U)}}function fd(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){dd(t,i,c)},function(c){return Hr(t,i,c)}):dd(t,i,a)}function dd(t,i,a){i.status="fulfilled",i.value=a,md(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,cd(t,a)))}function Hr(t,i,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,md(i),i=i.next;while(i!==c)}t.action=null}function md(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function hd(t,i){return i}function pd(t,i){if(ke){var a=Je.formState;if(a!==null){e:{var c=be;if(ke){if(je){t:{for(var d=je,g=ln;d.nodeType!==8;){if(!g){d=null;break t}if(d=tn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){je=tn(d.nextSibling),c=d.data==="F!";break e}}Ci(c)}c=!1}c&&(i=a[0])}}return a=wt(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:i},a.queue=c,a=kd.bind(null,be,c),c.dispatch=a,c=zr(!1),g=$r.bind(null,be,!1,c.queue),c=wt(),d={state:i,dispatch:null,action:t,pending:null},c.queue=d,a=bv.bind(null,be,d,g,a),d.dispatch=a,c.memoizedState=t,[i,a,!1]}function gd(t){var i=nt();return yd(i,Be,t)}function yd(t,i,a){if(i=Gr(t,i,hd)[0],t=Ra(Sn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=To(i)}catch(T){throw T===ho?ba:T}else c=i;i=nt();var d=i.queue,g=d.dispatch;return a!==i.memoizedState&&(be.flags|=2048,fl(9,Da(),Ev.bind(null,d,a),null)),[c,g,t]}function Ev(t,i){t.action=i}function vd(t){var i=nt(),a=Be;if(a!==null)return yd(i,a,t);nt(),i=i.memoizedState,a=nt();var c=a.queue.dispatch;return a.memoizedState=t,[i,c,!1]}function fl(t,i,a,c){return t={tag:t,create:a,deps:c,inst:i,next:null},i=be.updateQueue,i===null&&(i=qr(),be.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,i.lastEffect=t),t}function Da(){return{destroy:void 0,resource:void 0}}function xd(){return nt().memoizedState}function Ia(t,i,a,c){var d=wt();c=c===void 0?null:c,be.flags|=t,d.memoizedState=fl(1|i,Da(),a,c)}function Co(t,i,a,c){var d=nt();c=c===void 0?null:c;var g=d.memoizedState.inst;Be!==null&&c!==null&&Ur(c,Be.memoizedState.deps)?d.memoizedState=fl(i,g,a,c):(be.flags|=t,d.memoizedState=fl(1|i,g,a,c))}function Td(t,i){Ia(8390656,8,t,i)}function Cd(t,i){Co(2048,8,t,i)}function Sd(t,i){return Co(4,2,t,i)}function _d(t,i){return Co(4,4,t,i)}function bd(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ed(t,i,a){a=a!=null?a.concat([t]):null,Co(4,4,bd.bind(null,i,t),a)}function Fr(){}function Ad(t,i){var a=nt();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&Ur(i,c[1])?c[0]:(a.memoizedState=[t,i],t)}function wd(t,i){var a=nt();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&Ur(i,c[1]))return c[0];if(c=t(),Ei){Ot(!0);try{t()}finally{Ot(!1)}}return a.memoizedState=[c,i],c}function Jr(t,i,a){return a===void 0||(Hn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Rm(),be.lanes|=t,Qn|=t,a)}function Md(t,i,a,c){return Ut(a,i)?a:rl.current!==null?(t=Jr(t,a,c),Ut(t,i)||(rt=!0),t):(Hn&42)===0?(rt=!0,t.memoizedState=a):(t=Rm(),be.lanes|=t,Qn|=t,i)}function Nd(t,i,a,c,d){var g=H.p;H.p=g!==0&&8>g?g:8;var T=E.T,S={};E.T=S,$r(t,!1,i,a);try{var A=d(),U=E.S;if(U!==null&&U(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=Cv(A,c);So(t,i,G,qt(t))}else So(t,i,c,qt(t))}catch(F){So(t,i,{then:function(){},status:"rejected",reason:F},qt())}finally{H.p=g,E.T=T}}function Av(){}function Yr(t,i,a,c){if(t.tag!==5)throw Error(o(476));var d=Rd(t).queue;Nd(t,d,i,ie,a===null?Av:function(){return Dd(t),a(c)})}function Rd(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dd(t){var i=Rd(t).next.queue;So(t,i,{},qt())}function Zr(){return gt(Go)}function Id(){return nt().memoizedState}function Ud(){return nt().memoizedState}function wv(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=qt();t=On(a);var c=zn(i,t,a);c!==null&&(Bt(c,i,a),go(c,i,a)),i={cache:_r()},t.payload=i;return}i=i.return}}function Mv(t,i,a){var c=qt();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ua(t)?Ld(i,a):(a=mr(t,i,a,c),a!==null&&(Bt(a,t,c),Vd(a,i,c)))}function kd(t,i,a){var c=qt();So(t,i,a,c)}function So(t,i,a,c){var d={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ua(t))Ld(i,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,S=g(T,a);if(d.hasEagerState=!0,d.eagerState=S,Ut(S,T))return ga(t,i,d,0),Je===null&&pa(),!1}catch{}finally{}if(a=mr(t,i,d,c),a!==null)return Bt(a,t,c),Vd(a,i,c),!0}return!1}function $r(t,i,a,c){if(c={lane:2,revertLane:Au(),action:c,hasEagerState:!1,eagerState:null,next:null},Ua(t)){if(i)throw Error(o(479))}else i=mr(t,a,c,2),i!==null&&Bt(i,t,2)}function Ua(t){var i=t.alternate;return t===be||i!==null&&i===be}function Ld(t,i){ul=wa=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Vd(t,i,a){if((a&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,Hc(t,a)}}var ka={readContext:gt,use:Na,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We},Pd={readContext:gt,use:Na,useCallback:function(t,i){return wt().memoizedState=[t,i===void 0?null:i],t},useContext:gt,useEffect:Td,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ia(4194308,4,bd.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ia(4194308,4,t,i)},useInsertionEffect:function(t,i){Ia(4,2,t,i)},useMemo:function(t,i){var a=wt();i=i===void 0?null:i;var c=t();if(Ei){Ot(!0);try{t()}finally{Ot(!1)}}return a.memoizedState=[c,i],c},useReducer:function(t,i,a){var c=wt();if(a!==void 0){var d=a(i);if(Ei){Ot(!0);try{a(i)}finally{Ot(!1)}}}else d=i;return c.memoizedState=c.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},c.queue=t,t=t.dispatch=Mv.bind(null,be,t),[c.memoizedState,t]},useRef:function(t){var i=wt();return t={current:t},i.memoizedState=t},useState:function(t){t=zr(t);var i=t.queue,a=kd.bind(null,be,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Fr,useDeferredValue:function(t,i){var a=wt();return Jr(a,t,i)},useTransition:function(){var t=zr(!1);return t=Nd.bind(null,be,t.queue,!0,!1),wt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var c=be,d=wt();if(ke){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),Je===null)throw Error(o(349));(De&124)!==0||ld(c,i,a)}d.memoizedState=a;var g={value:a,getSnapshot:i};return d.queue=g,Td(ad.bind(null,c,g,t),[t]),c.flags|=2048,fl(9,Da(),od.bind(null,c,g,a,i),null),a},useId:function(){var t=wt(),i=Je.identifierPrefix;if(ke){var a=xn,c=vn;a=(c&~(1<<32-It(c)-1)).toString(32)+a,i="«"+i+"R"+a,a=Ma++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=Sv++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Zr,useFormState:pd,useActionState:pd,useOptimistic:function(t){var i=wt();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=$r.bind(null,be,!0,a),a.dispatch=i,[t,i]},useMemoCache:Br,useCacheRefresh:function(){return wt().memoizedState=wv.bind(null,be)}},qd={readContext:gt,use:Na,useCallback:Ad,useContext:gt,useEffect:Cd,useImperativeHandle:Ed,useInsertionEffect:Sd,useLayoutEffect:_d,useMemo:wd,useReducer:Ra,useRef:xd,useState:function(){return Ra(Sn)},useDebugValue:Fr,useDeferredValue:function(t,i){var a=nt();return Md(a,Be.memoizedState,t,i)},useTransition:function(){var t=Ra(Sn)[0],i=nt().memoizedState;return[typeof t=="boolean"?t:To(t),i]},useSyncExternalStore:id,useId:Id,useHostTransitionStatus:Zr,useFormState:gd,useActionState:gd,useOptimistic:function(t,i){var a=nt();return ud(a,Be,t,i)},useMemoCache:Br,useCacheRefresh:Ud},Nv={readContext:gt,use:Na,useCallback:Ad,useContext:gt,useEffect:Cd,useImperativeHandle:Ed,useInsertionEffect:Sd,useLayoutEffect:_d,useMemo:wd,useReducer:Or,useRef:xd,useState:function(){return Or(Sn)},useDebugValue:Fr,useDeferredValue:function(t,i){var a=nt();return Be===null?Jr(a,t,i):Md(a,Be.memoizedState,t,i)},useTransition:function(){var t=Or(Sn)[0],i=nt().memoizedState;return[typeof t=="boolean"?t:To(t),i]},useSyncExternalStore:id,useId:Id,useHostTransitionStatus:Zr,useFormState:vd,useActionState:vd,useOptimistic:function(t,i){var a=nt();return Be!==null?ud(a,Be,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Br,useCacheRefresh:Ud},dl=null,_o=0;function La(t){var i=_o;return _o+=1,dl===null&&(dl=[]),jf(dl,t,i)}function bo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Va(t,i){throw i.$$typeof===C?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Bd(t){var i=t._init;return i(t._payload)}function Gd(t){function i(N,w){if(t){var I=N.deletions;I===null?(N.deletions=[w],N.flags|=16):I.push(w)}}function a(N,w){if(!t)return null;for(;w!==null;)i(N,w),w=w.sibling;return null}function c(N){for(var w=new Map;N!==null;)N.key!==null?w.set(N.key,N):w.set(N.index,N),N=N.sibling;return w}function d(N,w){return N=yn(N,w),N.index=0,N.sibling=null,N}function g(N,w,I){return N.index=I,t?(I=N.alternate,I!==null?(I=I.index,I<w?(N.flags|=67108866,w):I):(N.flags|=67108866,w)):(N.flags|=1048576,w)}function T(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function S(N,w,I,O){return w===null||w.tag!==6?(w=pr(I,N.mode,O),w.return=N,w):(w=d(w,I),w.return=N,w)}function A(N,w,I,O){var fe=I.type;return fe===D?G(N,w,I.props.children,O,I.key):w!==null&&(w.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===J&&Bd(fe)===w.type)?(w=d(w,I.props),bo(w,I),w.return=N,w):(w=va(I.type,I.key,I.props,null,N.mode,O),bo(w,I),w.return=N,w)}function U(N,w,I,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==I.containerInfo||w.stateNode.implementation!==I.implementation?(w=gr(I,N.mode,O),w.return=N,w):(w=d(w,I.children||[]),w.return=N,w)}function G(N,w,I,O,fe){return w===null||w.tag!==7?(w=yi(I,N.mode,O,fe),w.return=N,w):(w=d(w,I),w.return=N,w)}function F(N,w,I){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=pr(""+w,N.mode,I),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _:return I=va(w.type,w.key,w.props,null,N.mode,I),bo(I,w),I.return=N,I;case M:return w=gr(w,N.mode,I),w.return=N,w;case J:var O=w._init;return w=O(w._payload),F(N,w,I)}if(ge(w)||re(w))return w=yi(w,N.mode,I,null),w.return=N,w;if(typeof w.then=="function")return F(N,La(w),I);if(w.$$typeof===Y)return F(N,Sa(N,w),I);Va(N,w)}return null}function k(N,w,I,O){var fe=w!==null?w.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return fe!==null?null:S(N,w,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _:return I.key===fe?A(N,w,I,O):null;case M:return I.key===fe?U(N,w,I,O):null;case J:return fe=I._init,I=fe(I._payload),k(N,w,I,O)}if(ge(I)||re(I))return fe!==null?null:G(N,w,I,O,null);if(typeof I.then=="function")return k(N,w,La(I),O);if(I.$$typeof===Y)return k(N,w,Sa(N,I),O);Va(N,I)}return null}function L(N,w,I,O,fe){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return N=N.get(I)||null,S(w,N,""+O,fe);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case _:return N=N.get(O.key===null?I:O.key)||null,A(w,N,O,fe);case M:return N=N.get(O.key===null?I:O.key)||null,U(w,N,O,fe);case J:var Ee=O._init;return O=Ee(O._payload),L(N,w,I,O,fe)}if(ge(O)||re(O))return N=N.get(I)||null,G(w,N,O,fe,null);if(typeof O.then=="function")return L(N,w,I,La(O),fe);if(O.$$typeof===Y)return L(N,w,I,Sa(w,O),fe);Va(w,O)}return null}function xe(N,w,I,O){for(var fe=null,Ee=null,pe=w,ve=w=0,ct=null;pe!==null&&ve<I.length;ve++){pe.index>ve?(ct=pe,pe=null):ct=pe.sibling;var Ie=k(N,pe,I[ve],O);if(Ie===null){pe===null&&(pe=ct);break}t&&pe&&Ie.alternate===null&&i(N,pe),w=g(Ie,w,ve),Ee===null?fe=Ie:Ee.sibling=Ie,Ee=Ie,pe=ct}if(ve===I.length)return a(N,pe),ke&&xi(N,ve),fe;if(pe===null){for(;ve<I.length;ve++)pe=F(N,I[ve],O),pe!==null&&(w=g(pe,w,ve),Ee===null?fe=pe:Ee.sibling=pe,Ee=pe);return ke&&xi(N,ve),fe}for(pe=c(pe);ve<I.length;ve++)ct=L(pe,N,ve,I[ve],O),ct!==null&&(t&&ct.alternate!==null&&pe.delete(ct.key===null?ve:ct.key),w=g(ct,w,ve),Ee===null?fe=ct:Ee.sibling=ct,Ee=ct);return t&&pe.forEach(function(oi){return i(N,oi)}),ke&&xi(N,ve),fe}function ye(N,w,I,O){if(I==null)throw Error(o(151));for(var fe=null,Ee=null,pe=w,ve=w=0,ct=null,Ie=I.next();pe!==null&&!Ie.done;ve++,Ie=I.next()){pe.index>ve?(ct=pe,pe=null):ct=pe.sibling;var oi=k(N,pe,Ie.value,O);if(oi===null){pe===null&&(pe=ct);break}t&&pe&&oi.alternate===null&&i(N,pe),w=g(oi,w,ve),Ee===null?fe=oi:Ee.sibling=oi,Ee=oi,pe=ct}if(Ie.done)return a(N,pe),ke&&xi(N,ve),fe;if(pe===null){for(;!Ie.done;ve++,Ie=I.next())Ie=F(N,Ie.value,O),Ie!==null&&(w=g(Ie,w,ve),Ee===null?fe=Ie:Ee.sibling=Ie,Ee=Ie);return ke&&xi(N,ve),fe}for(pe=c(pe);!Ie.done;ve++,Ie=I.next())Ie=L(pe,N,ve,Ie.value,O),Ie!==null&&(t&&Ie.alternate!==null&&pe.delete(Ie.key===null?ve:Ie.key),w=g(Ie,w,ve),Ee===null?fe=Ie:Ee.sibling=Ie,Ee=Ie);return t&&pe.forEach(function(R0){return i(N,R0)}),ke&&xi(N,ve),fe}function Oe(N,w,I,O){if(typeof I=="object"&&I!==null&&I.type===D&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case _:e:{for(var fe=I.key;w!==null;){if(w.key===fe){if(fe=I.type,fe===D){if(w.tag===7){a(N,w.sibling),O=d(w,I.props.children),O.return=N,N=O;break e}}else if(w.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===J&&Bd(fe)===w.type){a(N,w.sibling),O=d(w,I.props),bo(O,I),O.return=N,N=O;break e}a(N,w);break}else i(N,w);w=w.sibling}I.type===D?(O=yi(I.props.children,N.mode,O,I.key),O.return=N,N=O):(O=va(I.type,I.key,I.props,null,N.mode,O),bo(O,I),O.return=N,N=O)}return T(N);case M:e:{for(fe=I.key;w!==null;){if(w.key===fe)if(w.tag===4&&w.stateNode.containerInfo===I.containerInfo&&w.stateNode.implementation===I.implementation){a(N,w.sibling),O=d(w,I.children||[]),O.return=N,N=O;break e}else{a(N,w);break}else i(N,w);w=w.sibling}O=gr(I,N.mode,O),O.return=N,N=O}return T(N);case J:return fe=I._init,I=fe(I._payload),Oe(N,w,I,O)}if(ge(I))return xe(N,w,I,O);if(re(I)){if(fe=re(I),typeof fe!="function")throw Error(o(150));return I=fe.call(I),ye(N,w,I,O)}if(typeof I.then=="function")return Oe(N,w,La(I),O);if(I.$$typeof===Y)return Oe(N,w,Sa(N,I),O);Va(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,w!==null&&w.tag===6?(a(N,w.sibling),O=d(w,I),O.return=N,N=O):(a(N,w),O=pr(I,N.mode,O),O.return=N,N=O),T(N)):a(N,w)}return function(N,w,I,O){try{_o=0;var fe=Oe(N,w,I,O);return dl=null,fe}catch(pe){if(pe===ho||pe===ba)throw pe;var Ee=kt(29,pe,null,N.mode);return Ee.lanes=O,Ee.return=N,Ee}finally{}}}var ml=Gd(!0),Od=Gd(!1),$t=V(null),on=null;function Fn(t){var i=t.alternate;K(at,at.current&1),K($t,t),on===null&&(i===null||rl.current!==null||i.memoizedState!==null)&&(on=t)}function zd(t){if(t.tag===22){if(K(at,at.current),K($t,t),on===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(on=t)}}else Jn()}function Jn(){K(at,at.current),K($t,$t.current)}function _n(t){Q($t),on===t&&(on=null),Q(at)}var at=V(0);function Pa(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||qu(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function jr(t,i,a,c){i=t.memoizedState,a=a(c,i),a=a==null?i:x({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qr={enqueueSetState:function(t,i,a){t=t._reactInternals;var c=qt(),d=On(c);d.payload=i,a!=null&&(d.callback=a),i=zn(t,d,c),i!==null&&(Bt(i,t,c),go(i,t,c))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var c=qt(),d=On(c);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=zn(t,d,c),i!==null&&(Bt(i,t,c),go(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=qt(),c=On(a);c.tag=2,i!=null&&(c.callback=i),i=zn(t,c,a),i!==null&&(Bt(i,t,a),go(i,t,a))}};function Hd(t,i,a,c,d,g,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,T):i.prototype&&i.prototype.isPureReactComponent?!oo(a,c)||!oo(d,g):!0}function Fd(t,i,a,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==t&&Qr.enqueueReplaceState(i,i.state,null)}function Ai(t,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(t=t.defaultProps){a===i&&(a=x({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var qa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Jd(t){qa(t)}function Yd(t){console.error(t)}function Zd(t){qa(t)}function Ba(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function $d(t,i,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Kr(t,i,a){return a=On(a),a.tag=3,a.payload={element:null},a.callback=function(){Ba(t,i)},a}function jd(t){return t=On(t),t.tag=3,t}function Qd(t,i,a,c){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;t.payload=function(){return d(g)},t.callback=function(){$d(i,a,c)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){$d(i,a,c),typeof d!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function Rv(t,i,a,c,d){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&co(i,a,d,!0),a=$t.current,a!==null){switch(a.tag){case 13:return on===null?Cu():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=d,c===Ar?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),_u(t,c,d)),!1;case 22:return a.flags|=65536,c===Ar?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),_u(t,c,d)),!1}throw Error(o(435,a.tag))}return _u(t,c,d),Cu(),!1}if(ke)return i=$t.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==xr&&(t=Error(o(422),{cause:c}),uo(Ft(t,a)))):(c!==xr&&(i=Error(o(423),{cause:c}),uo(Ft(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,c=Ft(c,a),d=Kr(t.stateNode,c,d),Nr(t,d),Qe!==4&&(Qe=2)),!1;var g=Error(o(520),{cause:c});if(g=Ft(g,a),Do===null?Do=[g]:Do.push(g),Qe!==4&&(Qe=2),i===null)return!0;c=Ft(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Kr(a.stateNode,c,t),Nr(a,t),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kn===null||!Kn.has(g))))return a.flags|=65536,d&=-d,a.lanes|=d,d=jd(d),Qd(d,t,a,c),Nr(a,d),!1}a=a.return}while(a!==null);return!1}var Kd=Error(o(461)),rt=!1;function ft(t,i,a,c){i.child=t===null?Od(i,null,a,c):ml(i,t.child,a,c)}function Xd(t,i,a,c,d){a=a.render;var g=i.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return _i(i),c=kr(t,i,a,T,g,d),S=Lr(),t!==null&&!rt?(Vr(t,i,d),bn(t,i,d)):(ke&&S&&yr(i),i.flags|=1,ft(t,i,c,d),i.child)}function Wd(t,i,a,c,d){if(t===null){var g=a.type;return typeof g=="function"&&!hr(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,em(t,i,g,c,d)):(t=va(a.type,null,c,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!ou(t,d)){var T=g.memoizedProps;if(a=a.compare,a=a!==null?a:oo,a(T,c)&&t.ref===i.ref)return bn(t,i,d)}return i.flags|=1,t=yn(g,c),t.ref=i.ref,t.return=i,i.child=t}function em(t,i,a,c,d){if(t!==null){var g=t.memoizedProps;if(oo(g,c)&&t.ref===i.ref)if(rt=!1,i.pendingProps=c=g,ou(t,d))(t.flags&131072)!==0&&(rt=!0);else return i.lanes=t.lanes,bn(t,i,d)}return Xr(t,i,a,c,d)}function tm(t,i,a){var c=i.pendingProps,d=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=g!==null?g.baseLanes|a:a,t!==null){for(d=i.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;i.childLanes=g&~c}else i.childLanes=0,i.child=null;return nm(t,i,c,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&_a(i,g!==null?g.cachePool:null),g!==null?ed(i,g):Dr(),zd(i);else return i.lanes=i.childLanes=536870912,nm(t,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(_a(i,g.cachePool),ed(i,g),Jn(),i.memoizedState=null):(t!==null&&_a(i,null),Dr(),Jn());return ft(t,i,d,a),i.child}function nm(t,i,a,c){var d=Er();return d=d===null?null:{parent:ot._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&_a(i,null),Dr(),zd(i),t!==null&&co(t,i,c,!0),null}function Ga(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Xr(t,i,a,c,d){return _i(i),a=kr(t,i,a,c,void 0,d),c=Lr(),t!==null&&!rt?(Vr(t,i,d),bn(t,i,d)):(ke&&c&&yr(i),i.flags|=1,ft(t,i,a,d),i.child)}function im(t,i,a,c,d,g){return _i(i),i.updateQueue=null,a=nd(i,c,a,d),td(t),c=Lr(),t!==null&&!rt?(Vr(t,i,g),bn(t,i,g)):(ke&&c&&yr(i),i.flags|=1,ft(t,i,a,g),i.child)}function lm(t,i,a,c,d){if(_i(i),i.stateNode===null){var g=il,T=a.contextType;typeof T=="object"&&T!==null&&(g=gt(T)),g=new a(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Qr,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},wr(i),T=a.contextType,g.context=typeof T=="object"&&T!==null?gt(T):il,g.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(jr(i,a,T,c),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Qr.enqueueReplaceState(g,g.state,null),vo(i,c,g,d),yo(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){g=i.stateNode;var S=i.memoizedProps,A=Ai(a,S);g.props=A;var U=g.context,G=a.contextType;T=il,typeof G=="object"&&G!==null&&(T=gt(G));var F=a.getDerivedStateFromProps;G=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,G||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||U!==T)&&Fd(i,g,c,T),Gn=!1;var k=i.memoizedState;g.state=k,vo(i,c,g,d),yo(),U=i.memoizedState,S||k!==U||Gn?(typeof F=="function"&&(jr(i,a,F,c),U=i.memoizedState),(A=Gn||Hd(i,a,A,c,k,U,T))?(G||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=U),g.props=c,g.state=U,g.context=T,c=A):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Mr(t,i),T=i.memoizedProps,G=Ai(a,T),g.props=G,F=i.pendingProps,k=g.context,U=a.contextType,A=il,typeof U=="object"&&U!==null&&(A=gt(U)),S=a.getDerivedStateFromProps,(U=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==F||k!==A)&&Fd(i,g,c,A),Gn=!1,k=i.memoizedState,g.state=k,vo(i,c,g,d),yo();var L=i.memoizedState;T!==F||k!==L||Gn||t!==null&&t.dependencies!==null&&Ca(t.dependencies)?(typeof S=="function"&&(jr(i,a,S,c),L=i.memoizedState),(G=Gn||Hd(i,a,G,c,k,L,A)||t!==null&&t.dependencies!==null&&Ca(t.dependencies))?(U||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,L,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,L,A)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=L),g.props=c,g.state=L,g.context=A,c=G):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),c=!1)}return g=c,Ga(t,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&c?(i.child=ml(i,t.child,null,d),i.child=ml(i,null,a,d)):ft(t,i,a,d),i.memoizedState=g.state,t=i.child):t=bn(t,i,d),t}function om(t,i,a,c){return ro(),i.flags|=256,ft(t,i,a,c),i.child}var Wr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eu(t){return{baseLanes:t,cachePool:Yf()}}function tu(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=jt),t}function am(t,i,a){var c=i.pendingProps,d=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=t!==null&&t.memoizedState===null?!1:(at.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(d?Fn(i):Jn(),ke){var S=je,A;if(A=S){e:{for(A=S,S=ln;A.nodeType!==8;){if(!S){S=null;break e}if(A=tn(A.nextSibling),A===null){S=null;break e}}S=A}S!==null?(i.memoizedState={dehydrated:S,treeContext:vi!==null?{id:vn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},A=kt(18,null,null,0),A.stateNode=S,A.return=i,i.child=A,xt=i,je=null,A=!0):A=!1}A||Ci(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return qu(S)?i.lanes=32:i.lanes=536870912,null;_n(i)}return S=c.children,c=c.fallback,d?(Jn(),d=i.mode,S=Oa({mode:"hidden",children:S},d),c=yi(c,d,a,null),S.return=i,c.return=i,S.sibling=c,i.child=S,d=i.child,d.memoizedState=eu(a),d.childLanes=tu(t,T,a),i.memoizedState=Wr,c):(Fn(i),nu(i,S))}if(A=t.memoizedState,A!==null&&(S=A.dehydrated,S!==null)){if(g)i.flags&256?(Fn(i),i.flags&=-257,i=iu(t,i,a)):i.memoizedState!==null?(Jn(),i.child=t.child,i.flags|=128,i=null):(Jn(),d=c.fallback,S=i.mode,c=Oa({mode:"visible",children:c.children},S),d=yi(d,S,a,null),d.flags|=2,c.return=i,d.return=i,c.sibling=d,i.child=c,ml(i,t.child,null,a),c=i.child,c.memoizedState=eu(a),c.childLanes=tu(t,T,a),i.memoizedState=Wr,i=d);else if(Fn(i),qu(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var U=T.dgst;T=U,c=Error(o(419)),c.stack="",c.digest=T,uo({value:c,source:null,stack:null}),i=iu(t,i,a)}else if(rt||co(t,i,a,!1),T=(a&t.childLanes)!==0,rt||T){if(T=Je,T!==null&&(c=a&-a,c=(c&42)!==0?1:Bs(c),c=(c&(T.suspendedLanes|a))!==0?0:c,c!==0&&c!==A.retryLane))throw A.retryLane=c,nl(t,c),Bt(T,t,c),Kd;S.data==="$?"||Cu(),i=iu(t,i,a)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,je=tn(S.nextSibling),xt=i,ke=!0,Ti=null,ln=!1,t!==null&&(Yt[Zt++]=vn,Yt[Zt++]=xn,Yt[Zt++]=vi,vn=t.id,xn=t.overflow,vi=i),i=nu(i,c.children),i.flags|=4096);return i}return d?(Jn(),d=c.fallback,S=i.mode,A=t.child,U=A.sibling,c=yn(A,{mode:"hidden",children:c.children}),c.subtreeFlags=A.subtreeFlags&65011712,U!==null?d=yn(U,d):(d=yi(d,S,a,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,c=d,d=i.child,S=t.child.memoizedState,S===null?S=eu(a):(A=S.cachePool,A!==null?(U=ot._currentValue,A=A.parent!==U?{parent:U,pool:U}:A):A=Yf(),S={baseLanes:S.baseLanes|a,cachePool:A}),d.memoizedState=S,d.childLanes=tu(t,T,a),i.memoizedState=Wr,c):(Fn(i),a=t.child,t=a.sibling,a=yn(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function nu(t,i){return i=Oa({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Oa(t,i){return t=kt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function iu(t,i,a){return ml(i,t.child,null,a),t=nu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function sm(t,i,a){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Cr(t.return,i,a)}function lu(t,i,a,c,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function rm(t,i,a){var c=i.pendingProps,d=c.revealOrder,g=c.tail;if(ft(t,i,c.children,a),c=at.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sm(t,a,i);else if(t.tag===19)sm(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}switch(K(at,c),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Pa(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),lu(i,!1,d,a,g);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Pa(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}lu(i,!0,a,null,g);break;case"together":lu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Qn|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(co(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,a=yn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=yn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ou(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ca(t)))}function Dv(t,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),Bn(i,ot,t.memoizedState.cache),ro();break;case 27:case 5:Jl(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:Bn(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Fn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?am(t,i,a):(Fn(i),t=bn(t,i,a),t!==null?t.sibling:null);Fn(i);break;case 19:var d=(t.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(co(t,i,a,!1),c=(a&i.childLanes)!==0),d){if(c)return rm(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),K(at,at.current),c)break;return null;case 22:case 23:return i.lanes=0,tm(t,i,a);case 24:Bn(i,ot,t.memoizedState.cache)}return bn(t,i,a)}function um(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)rt=!0;else{if(!ou(t,a)&&(i.flags&128)===0)return rt=!1,Dv(t,i,a);rt=(t.flags&131072)!==0}else rt=!1,ke&&(i.flags&1048576)!==0&&Bf(i,Ta,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var c=i.elementType,d=c._init;if(c=d(c._payload),i.type=c,typeof c=="function")hr(c)?(t=Ai(c,t),i.tag=1,i=lm(null,i,c,t,a)):(i.tag=0,i=Xr(null,i,c,t,a));else{if(c!=null){if(d=c.$$typeof,d===X){i.tag=11,i=Xd(null,i,c,t,a);break e}else if(d===ne){i.tag=14,i=Wd(null,i,c,t,a);break e}}throw i=Re(c)||c,Error(o(306,i,""))}}return i;case 0:return Xr(t,i,i.type,i.pendingProps,a);case 1:return c=i.type,d=Ai(c,i.pendingProps),lm(t,i,c,d,a);case 3:e:{if(qe(i,i.stateNode.containerInfo),t===null)throw Error(o(387));c=i.pendingProps;var g=i.memoizedState;d=g.element,Mr(t,i),vo(i,c,null,a);var T=i.memoizedState;if(c=T.cache,Bn(i,ot,c),c!==g.cache&&Sr(i,[ot],a,!0),yo(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=om(t,i,c,a);break e}else if(c!==d){d=Ft(Error(o(424)),i),uo(d),i=om(t,i,c,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(je=tn(t.firstChild),xt=i,ke=!0,Ti=null,ln=!0,a=Od(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ro(),c===d){i=bn(t,i,a);break e}ft(t,i,c,a)}i=i.child}return i;case 26:return Ga(t,i),t===null?(a=mh(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,c=ts(ee.current).createElement(a),c[pt]=i,c[Et]=t,mt(c,a,t),st(c),i.stateNode=c):i.memoizedState=mh(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Jl(i),t===null&&ke&&(c=i.stateNode=ch(i.type,i.pendingProps,ee.current),xt=i,ln=!0,d=je,ei(i.type)?(Bu=d,je=tn(c.firstChild)):je=d),ft(t,i,i.pendingProps.children,a),Ga(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((d=c=je)&&(c=o0(c,i.type,i.pendingProps,ln),c!==null?(i.stateNode=c,xt=i,je=tn(c.firstChild),ln=!1,d=!0):d=!1),d||Ci(i)),Jl(i),d=i.type,g=i.pendingProps,T=t!==null?t.memoizedProps:null,c=g.children,Lu(d,g)?c=null:T!==null&&Lu(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=kr(t,i,_v,null,null,a),Go._currentValue=d),Ga(t,i),ft(t,i,c,a),i.child;case 6:return t===null&&ke&&((t=a=je)&&(a=a0(a,i.pendingProps,ln),a!==null?(i.stateNode=a,xt=i,je=null,t=!0):t=!1),t||Ci(i)),null;case 13:return am(t,i,a);case 4:return qe(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=ml(i,null,c,a):ft(t,i,c,a),i.child;case 11:return Xd(t,i,i.type,i.pendingProps,a);case 7:return ft(t,i,i.pendingProps,a),i.child;case 8:return ft(t,i,i.pendingProps.children,a),i.child;case 12:return ft(t,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,Bn(i,i.type,c.value),ft(t,i,c.children,a),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,_i(i),d=gt(d),c=c(d),i.flags|=1,ft(t,i,c,a),i.child;case 14:return Wd(t,i,i.type,i.pendingProps,a);case 15:return em(t,i,i.type,i.pendingProps,a);case 19:return rm(t,i,a);case 31:return c=i.pendingProps,a=i.mode,c={mode:c.mode,children:c.children},t===null?(a=Oa(c,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=yn(t.child,c),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return tm(t,i,a);case 24:return _i(i),c=gt(ot),t===null?(d=Er(),d===null&&(d=Je,g=_r(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=a),d=g),i.memoizedState={parent:c,cache:d},wr(i),Bn(i,ot,d)):((t.lanes&a)!==0&&(Mr(t,i),vo(i,null,null,a),yo()),d=t.memoizedState,g=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Bn(i,ot,c)):(c=g.cache,Bn(i,ot,c),c!==d.cache&&Sr(i,[ot],a,!0))),ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function En(t){t.flags|=4}function cm(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vh(i)){if(i=$t.current,i!==null&&((De&4194048)===De?on!==null:(De&62914560)!==De&&(De&536870912)===0||i!==on))throw po=Ar,Zf;t.flags|=8192}}function za(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Oc():536870912,t.lanes|=i,yl|=i)}function Eo(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function $e(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=a,i}function Iv(t,i,a){var c=i.pendingProps;switch(vr(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(i),null;case 1:return $e(i),null;case 3:return a=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Cn(ot),nn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(so(i)?En(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zf())),$e(i),null;case 26:return a=i.memoizedState,t===null?(En(i),a!==null?($e(i),cm(i,a)):($e(i),i.flags&=-16777217)):a?a!==t.memoizedState?(En(i),$e(i),cm(i,a)):($e(i),i.flags&=-16777217):(t.memoizedProps!==c&&En(i),$e(i),i.flags&=-16777217),null;case 27:Oi(i),a=ee.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==c&&En(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return $e(i),null}t=W.current,so(i)?Gf(i):(t=ch(d,c,a),i.stateNode=t,En(i))}return $e(i),null;case 5:if(Oi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&En(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return $e(i),null}if(t=W.current,so(i))Gf(i);else{switch(d=ts(ee.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?t.multiple=!0:c.size&&(t.size=c.size);break;default:t=typeof c.is=="string"?d.createElement(a,{is:c.is}):d.createElement(a)}}t[pt]=i,t[Et]=c;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(mt(t,a,c),a){case"button":case"input":case"select":case"textarea":t=!!c.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&En(i)}}return $e(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&En(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(o(166));if(t=ee.current,so(i)){if(t=i.stateNode,a=i.memoizedProps,c=null,d=xt,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}t[pt]=i,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||ih(t.nodeValue,a)),t||Ci(i)}else t=ts(t).createTextNode(c),t[pt]=i,i.stateNode=t}return $e(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=so(i),c!==null&&c.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[pt]=i}else ro(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$e(i),d=!1}else d=zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(_n(i),i):(_n(i),null)}if(_n(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=c!==null,t=t!==null&&t.memoizedState!==null,a){c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),za(i,i.updateQueue),$e(i),null;case 4:return nn(),t===null&&Ru(i.stateNode.containerInfo),$e(i),null;case 10:return Cn(i.type),$e(i),null;case 19:if(Q(at),d=i.memoizedState,d===null)return $e(i),null;if(c=(i.flags&128)!==0,g=d.rendering,g===null)if(c)Eo(d,!1);else{if(Qe!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=Pa(t),g!==null){for(i.flags|=128,Eo(d,!1),t=g.updateQueue,i.updateQueue=t,za(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)qf(a,t),a=a.sibling;return K(at,at.current&1|2),i.child}t=t.sibling}d.tail!==null&&Gt()>Ja&&(i.flags|=128,c=!0,Eo(d,!1),i.lanes=4194304)}else{if(!c)if(t=Pa(g),t!==null){if(i.flags|=128,c=!0,t=t.updateQueue,i.updateQueue=t,za(i,t),Eo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!ke)return $e(i),null}else 2*Gt()-d.renderingStartTime>Ja&&a!==536870912&&(i.flags|=128,c=!0,Eo(d,!1),i.lanes=4194304);d.isBackwards?(g.sibling=i.child,i.child=g):(t=d.last,t!==null?t.sibling=g:i.child=g,d.last=g)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Gt(),i.sibling=null,t=at.current,K(at,c?t&1|2:t&1),i):($e(i),null);case 22:case 23:return _n(i),Ir(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&($e(i),i.subtreeFlags&6&&(i.flags|=8192)):$e(i),a=i.updateQueue,a!==null&&za(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),t!==null&&Q(bi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Cn(ot),$e(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function Uv(t,i){switch(vr(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Cn(ot),nn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Oi(i),null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));ro()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Q(at),null;case 4:return nn(),null;case 10:return Cn(i.type),null;case 22:case 23:return _n(i),Ir(),t!==null&&Q(bi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Cn(ot),null;case 25:return null;default:return null}}function fm(t,i){switch(vr(i),i.tag){case 3:Cn(ot),nn();break;case 26:case 27:case 5:Oi(i);break;case 4:nn();break;case 13:_n(i);break;case 19:Q(at);break;case 10:Cn(i.type);break;case 22:case 23:_n(i),Ir(),t!==null&&Q(bi);break;case 24:Cn(ot)}}function Ao(t,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var d=c.next;a=d;do{if((a.tag&t)===t){c=void 0;var g=a.create,T=a.inst;c=g(),T.destroy=c}a=a.next}while(a!==d)}}catch(S){ze(i,i.return,S)}}function Yn(t,i,a){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&t)===t){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=i;var A=a,U=S;try{U()}catch(G){ze(d,A,G)}}}c=c.next}while(c!==g)}}catch(G){ze(i,i.return,G)}}function dm(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Wf(i,a)}catch(c){ze(t,t.return,c)}}}function mm(t,i,a){a.props=Ai(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){ze(t,i,c)}}function wo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(d){ze(t,i,d)}}function an(t,i){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(d){ze(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ze(t,i,d)}else a.current=null}function hm(t){var i=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(d){ze(t,t.return,d)}}function au(t,i,a){try{var c=t.stateNode;e0(c,t.type,a,i),c[Et]=i}catch(d){ze(t,t.return,d)}}function pm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ei(t.type)||t.tag===4}function su(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ei(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ru(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=es));else if(c!==4&&(c===27&&ei(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ru(t,i,a),t=t.sibling;t!==null;)ru(t,i,a),t=t.sibling}function Ha(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(c!==4&&(c===27&&ei(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ha(t,i,a),t=t.sibling;t!==null;)Ha(t,i,a),t=t.sibling}function gm(t){var i=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);mt(i,c,a),i[pt]=t,i[Et]=a}catch(g){ze(t,t.return,g)}}var An=!1,et=!1,uu=!1,ym=typeof WeakSet=="function"?WeakSet:Set,ut=null;function kv(t,i){if(t=t.containerInfo,Uu=ss,t=Mf(t),sr(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var T=0,S=-1,A=-1,U=0,G=0,F=t,k=null;t:for(;;){for(var L;F!==a||d!==0&&F.nodeType!==3||(S=T+d),F!==g||c!==0&&F.nodeType!==3||(A=T+c),F.nodeType===3&&(T+=F.nodeValue.length),(L=F.firstChild)!==null;)k=F,F=L;for(;;){if(F===t)break t;if(k===a&&++U===d&&(S=T),k===g&&++G===c&&(A=T),(L=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=L}a=S===-1||A===-1?null:{start:S,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(ku={focusedElem:t,selectionRange:a},ss=!1,ut=i;ut!==null;)if(i=ut,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,ut=t;else for(;ut!==null;){switch(i=ut,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,a=i,d=g.memoizedProps,g=g.memoizedState,c=a.stateNode;try{var xe=Ai(a.type,d,a.elementType===a.type);t=c.getSnapshotBeforeUpdate(xe,g),c.__reactInternalSnapshotBeforeUpdate=t}catch(ye){ze(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Pu(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,ut=t;break}ut=i.return}}function vm(t,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Zn(t,a),c&4&&Ao(5,a);break;case 1:if(Zn(t,a),c&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){ze(a,a.return,T)}else{var d=Ai(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){ze(a,a.return,T)}}c&64&&dm(a),c&512&&wo(a,a.return);break;case 3:if(Zn(t,a),c&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wf(t,i)}catch(T){ze(a,a.return,T)}}break;case 27:i===null&&c&4&&gm(a);case 26:case 5:Zn(t,a),i===null&&c&4&&hm(a),c&512&&wo(a,a.return);break;case 12:Zn(t,a);break;case 13:Zn(t,a),c&4&&Cm(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Hv.bind(null,a),s0(t,a))));break;case 22:if(c=a.memoizedState!==null||An,!c){i=i!==null&&i.memoizedState!==null||et,d=An;var g=et;An=c,(et=i)&&!g?$n(t,a,(a.subtreeFlags&8772)!==0):Zn(t,a),An=d,et=g}break;case 30:break;default:Zn(t,a)}}function xm(t){var i=t.alternate;i!==null&&(t.alternate=null,xm(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&zs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ze=null,Mt=!1;function wn(t,i,a){for(a=a.child;a!==null;)Tm(t,i,a),a=a.sibling}function Tm(t,i,a){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:et||an(a,i),wn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:et||an(a,i);var c=Ze,d=Mt;ei(a.type)&&(Ze=a.stateNode,Mt=!1),wn(t,i,a),Vo(a.stateNode),Ze=c,Mt=d;break;case 5:et||an(a,i);case 6:if(c=Ze,d=Mt,Ze=null,wn(t,i,a),Ze=c,Mt=d,Ze!==null)if(Mt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(g){ze(a,i,g)}else try{Ze.removeChild(a.stateNode)}catch(g){ze(a,i,g)}break;case 18:Ze!==null&&(Mt?(t=Ze,rh(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fo(t)):rh(Ze,a.stateNode));break;case 4:c=Ze,d=Mt,Ze=a.stateNode.containerInfo,Mt=!0,wn(t,i,a),Ze=c,Mt=d;break;case 0:case 11:case 14:case 15:et||Yn(2,a,i),et||Yn(4,a,i),wn(t,i,a);break;case 1:et||(an(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&mm(a,i,c)),wn(t,i,a);break;case 21:wn(t,i,a);break;case 22:et=(c=et)||a.memoizedState!==null,wn(t,i,a),et=c;break;default:wn(t,i,a)}}function Cm(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fo(t)}catch(a){ze(i,i.return,a)}}function Lv(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ym),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ym),i;default:throw Error(o(435,t.tag))}}function cu(t,i){var a=Lv(t);i.forEach(function(c){var d=Fv.bind(null,t,c);a.has(c)||(a.add(c),c.then(d,d))})}function Lt(t,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c],g=t,T=i,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(ei(S.type)){Ze=S.stateNode,Mt=!1;break e}break;case 5:Ze=S.stateNode,Mt=!1;break e;case 3:case 4:Ze=S.stateNode.containerInfo,Mt=!0;break e}S=S.return}if(Ze===null)throw Error(o(160));Tm(g,T,d),Ze=null,Mt=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Sm(i,t),i=i.sibling}var en=null;function Sm(t,i){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Lt(i,t),Vt(t),c&4&&(Yn(3,t,t.return),Ao(3,t),Yn(5,t,t.return));break;case 1:Lt(i,t),Vt(t),c&512&&(et||a===null||an(a,a.return)),c&64&&An&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var d=en;if(Lt(i,t),Vt(t),c&512&&(et||a===null||an(a,a.return)),c&4){var g=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ql]||g[pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),mt(g,c,a),g[pt]=t,st(g),c=g;break e;case"link":var T=gh("link","href",d).get(c+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break t}}g=d.createElement(c),mt(g,c,a),d.head.appendChild(g);break;case"meta":if(T=gh("meta","content",d).get(c+(a.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break t}}g=d.createElement(c),mt(g,c,a),d.head.appendChild(g);break;default:throw Error(o(468,c))}g[pt]=t,st(g),c=g}t.stateNode=c}else yh(d,t.type,t.stateNode);else t.stateNode=ph(d,c,t.memoizedProps);else g!==c?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,c===null?yh(d,t.type,t.stateNode):ph(d,c,t.memoizedProps)):c===null&&t.stateNode!==null&&au(t,t.memoizedProps,a.memoizedProps)}break;case 27:Lt(i,t),Vt(t),c&512&&(et||a===null||an(a,a.return)),a!==null&&c&4&&au(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Lt(i,t),Vt(t),c&512&&(et||a===null||an(a,a.return)),t.flags&32){d=t.stateNode;try{ji(d,"")}catch(L){ze(t,t.return,L)}}c&4&&t.stateNode!=null&&(d=t.memoizedProps,au(t,d,a!==null?a.memoizedProps:d)),c&1024&&(uu=!0);break;case 6:if(Lt(i,t),Vt(t),c&4){if(t.stateNode===null)throw Error(o(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(L){ze(t,t.return,L)}}break;case 3:if(ls=null,d=en,en=ns(i.containerInfo),Lt(i,t),en=d,Vt(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Fo(i.containerInfo)}catch(L){ze(t,t.return,L)}uu&&(uu=!1,_m(t));break;case 4:c=en,en=ns(t.stateNode.containerInfo),Lt(i,t),Vt(t),en=c;break;case 12:Lt(i,t),Vt(t);break;case 13:Lt(i,t),Vt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gu=Gt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,cu(t,c)));break;case 22:d=t.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,U=An,G=et;if(An=U||d,et=G||A,Lt(i,t),et=G,An=U,Vt(t),c&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||A||An||et||wi(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){A=a=i;try{if(g=A.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=A.stateNode;var F=A.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;S.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(L){ze(A,A.return,L)}}}else if(i.tag===6){if(a===null){A=i;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(L){ze(A,A.return,L)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,cu(t,a))));break;case 19:Lt(i,t),Vt(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,cu(t,c)));break;case 30:break;case 21:break;default:Lt(i,t),Vt(t)}}function Vt(t){var i=t.flags;if(i&2){try{for(var a,c=t.return;c!==null;){if(pm(c)){a=c;break}c=c.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var d=a.stateNode,g=su(t);Ha(t,g,d);break;case 5:var T=a.stateNode;a.flags&32&&(ji(T,""),a.flags&=-33);var S=su(t);Ha(t,S,T);break;case 3:case 4:var A=a.stateNode.containerInfo,U=su(t);ru(t,U,A);break;default:throw Error(o(161))}}catch(G){ze(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function _m(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;_m(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)vm(t,i.alternate,i),i=i.sibling}function wi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Yn(4,i,i.return),wi(i);break;case 1:an(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&mm(i,i.return,a),wi(i);break;case 27:Vo(i.stateNode);case 26:case 5:an(i,i.return),wi(i);break;case 22:i.memoizedState===null&&wi(i);break;case 30:wi(i);break;default:wi(i)}t=t.sibling}}function $n(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=t,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:$n(d,g,a),Ao(4,g);break;case 1:if($n(d,g,a),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){ze(c,c.return,U)}if(c=g,d=c.updateQueue,d!==null){var S=c.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Xf(A[d],S)}catch(U){ze(c,c.return,U)}}a&&T&64&&dm(g),wo(g,g.return);break;case 27:gm(g);case 26:case 5:$n(d,g,a),a&&c===null&&T&4&&hm(g),wo(g,g.return);break;case 12:$n(d,g,a);break;case 13:$n(d,g,a),a&&T&4&&Cm(d,g);break;case 22:g.memoizedState===null&&$n(d,g,a),wo(g,g.return);break;case 30:break;default:$n(d,g,a)}i=i.sibling}}function fu(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fo(a))}function du(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fo(t))}function sn(t,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bm(t,i,a,c),i=i.sibling}function bm(t,i,a,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:sn(t,i,a,c),d&2048&&Ao(9,i);break;case 1:sn(t,i,a,c);break;case 3:sn(t,i,a,c),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fo(t)));break;case 12:if(d&2048){sn(t,i,a,c),t=i.stateNode;try{var g=i.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){ze(i,i.return,A)}}else sn(t,i,a,c);break;case 13:sn(t,i,a,c);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?sn(t,i,a,c):Mo(t,i):g._visibility&2?sn(t,i,a,c):(g._visibility|=2,hl(t,i,a,c,(i.subtreeFlags&10256)!==0)),d&2048&&fu(T,i);break;case 24:sn(t,i,a,c),d&2048&&du(i.alternate,i);break;default:sn(t,i,a,c)}}function hl(t,i,a,c,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,T=i,S=a,A=c,U=T.flags;switch(T.tag){case 0:case 11:case 15:hl(g,T,S,A,d),Ao(8,T);break;case 23:break;case 22:var G=T.stateNode;T.memoizedState!==null?G._visibility&2?hl(g,T,S,A,d):Mo(g,T):(G._visibility|=2,hl(g,T,S,A,d)),d&&U&2048&&fu(T.alternate,T);break;case 24:hl(g,T,S,A,d),d&&U&2048&&du(T.alternate,T);break;default:hl(g,T,S,A,d)}i=i.sibling}}function Mo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,c=i,d=c.flags;switch(c.tag){case 22:Mo(a,c),d&2048&&fu(c.alternate,c);break;case 24:Mo(a,c),d&2048&&du(c.alternate,c);break;default:Mo(a,c)}i=i.sibling}}var No=8192;function pl(t){if(t.subtreeFlags&No)for(t=t.child;t!==null;)Em(t),t=t.sibling}function Em(t){switch(t.tag){case 26:pl(t),t.flags&No&&t.memoizedState!==null&&T0(en,t.memoizedState,t.memoizedProps);break;case 5:pl(t);break;case 3:case 4:var i=en;en=ns(t.stateNode.containerInfo),pl(t),en=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=No,No=16777216,pl(t),No=i):pl(t));break;default:pl(t)}}function Am(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ro(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];ut=c,Mm(c,t)}Am(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wm(t),t=t.sibling}function wm(t){switch(t.tag){case 0:case 11:case 15:Ro(t),t.flags&2048&&Yn(9,t,t.return);break;case 3:Ro(t);break;case 12:Ro(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Fa(t)):Ro(t);break;default:Ro(t)}}function Fa(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];ut=c,Mm(c,t)}Am(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Yn(8,i,i.return),Fa(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fa(i));break;default:Fa(i)}t=t.sibling}}function Mm(t,i){for(;ut!==null;){var a=ut;switch(a.tag){case 0:case 11:case 15:Yn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:fo(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,ut=c;else e:for(a=t;ut!==null;){c=ut;var d=c.sibling,g=c.return;if(xm(c),c===a){ut=null;break e}if(d!==null){d.return=g,ut=d;break e}ut=g}}}var Vv={getCacheForType:function(t){var i=gt(ot),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Pv=typeof WeakMap=="function"?WeakMap:Map,Le=0,Je=null,Ae=null,De=0,Ve=0,Pt=null,jn=!1,gl=!1,mu=!1,Mn=0,Qe=0,Qn=0,Mi=0,hu=0,jt=0,yl=0,Do=null,Nt=null,pu=!1,gu=0,Ja=1/0,Ya=null,Kn=null,dt=0,Xn=null,vl=null,xl=0,yu=0,vu=null,Nm=null,Io=0,xu=null;function qt(){if((Le&2)!==0&&De!==0)return De&-De;if(E.T!==null){var t=al;return t!==0?t:Au()}return Fc()}function Rm(){jt===0&&(jt=(De&536870912)===0||ke?Gc():536870912);var t=$t.current;return t!==null&&(t.flags|=32),jt}function Bt(t,i,a){(t===Je&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)&&(Tl(t,0),Wn(t,De,jt,!1)),jl(t,a),((Le&2)===0||t!==Je)&&(t===Je&&((Le&2)===0&&(Mi|=a),Qe===4&&Wn(t,De,jt,!1)),rn(t))}function Dm(t,i,a){if((Le&6)!==0)throw Error(o(327));var c=!a&&(i&124)===0&&(i&t.expiredLanes)===0||$l(t,i),d=c?Gv(t,i):Su(t,i,!0),g=c;do{if(d===0){gl&&!c&&Wn(t,i,0,!1);break}else{if(a=t.current.alternate,g&&!qv(a)){d=Su(t,i,!1),g=!1;continue}if(d===2){if(g=i,t.errorRecoveryDisabledLanes&g)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var S=t;d=Do;var A=S.current.memoizedState.isDehydrated;if(A&&(Tl(S,T).flags|=256),T=Su(S,T,!1),T!==2){if(mu&&!A){S.errorRecoveryDisabledLanes|=g,Mi|=g,d=4;break e}g=Nt,Nt=d,g!==null&&(Nt===null?Nt=g:Nt.push.apply(Nt,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Tl(t,0),Wn(t,i,0,!0);break}e:{switch(c=t,g=d,g){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Wn(c,i,jt,!jn);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(d=gu+300-Gt(),10<d)){if(Wn(c,i,jt,!jn),ia(c,0,!0)!==0)break e;c.timeoutHandle=ah(Im.bind(null,c,a,Nt,Ya,pu,i,jt,Mi,yl,jn,g,2,-0,0),d);break e}Im(c,a,Nt,Ya,pu,i,jt,Mi,yl,jn,g,0,-0,0)}}break}while(!0);rn(t)}function Im(t,i,a,c,d,g,T,S,A,U,G,F,k,L){if(t.timeoutHandle=-1,F=i.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Bo={stylesheets:null,count:0,unsuspend:x0},Em(i),F=C0(),F!==null)){t.cancelPendingCommit=F(Bm.bind(null,t,i,g,a,c,d,T,S,A,G,1,k,L)),Wn(t,g,T,!U);return}Bm(t,i,g,a,c,d,T,S,A)}function qv(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!Ut(g(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wn(t,i,a,c){i&=~hu,i&=~Mi,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var d=i;0<d;){var g=31-It(d),T=1<<g;c[g]=-1,d&=~T}a!==0&&zc(t,a,i)}function Za(){return(Le&6)===0?(Uo(0),!1):!0}function Tu(){if(Ae!==null){if(Ve===0)var t=Ae.return;else t=Ae,Tn=Si=null,Pr(t),dl=null,_o=0,t=Ae;for(;t!==null;)fm(t.alternate,t),t=t.return;Ae=null}}function Tl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,n0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Tu(),Je=t,Ae=a=yn(t.current,null),De=i,Ve=0,Pt=null,jn=!1,gl=$l(t,i),mu=!1,yl=jt=hu=Mi=Qn=Qe=0,Nt=Do=null,pu=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var d=31-It(c),g=1<<d;i|=t[d],c&=~g}return Mn=i,pa(),a}function Um(t,i){be=null,E.H=ka,i===ho||i===ba?(i=Qf(),Ve=3):i===Zf?(i=Qf(),Ve=4):Ve=i===Kd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pt=i,Ae===null&&(Qe=1,Ba(t,Ft(i,t.current)))}function km(){var t=E.H;return E.H=ka,t===null?ka:t}function Lm(){var t=E.A;return E.A=Vv,t}function Cu(){Qe=4,jn||(De&4194048)!==De&&$t.current!==null||(gl=!0),(Qn&134217727)===0&&(Mi&134217727)===0||Je===null||Wn(Je,De,jt,!1)}function Su(t,i,a){var c=Le;Le|=2;var d=km(),g=Lm();(Je!==t||De!==i)&&(Ya=null,Tl(t,i)),i=!1;var T=Qe;e:do try{if(Ve!==0&&Ae!==null){var S=Ae,A=Pt;switch(Ve){case 8:Tu(),T=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(i=!0);var U=Ve;if(Ve=0,Pt=null,Cl(t,S,A,U),a&&gl){T=0;break e}break;default:U=Ve,Ve=0,Pt=null,Cl(t,S,A,U)}}Bv(),T=Qe;break}catch(G){Um(t,G)}while(!0);return i&&t.shellSuspendCounter++,Tn=Si=null,Le=c,E.H=d,E.A=g,Ae===null&&(Je=null,De=0,pa()),T}function Bv(){for(;Ae!==null;)Vm(Ae)}function Gv(t,i){var a=Le;Le|=2;var c=km(),d=Lm();Je!==t||De!==i?(Ya=null,Ja=Gt()+500,Tl(t,i)):gl=$l(t,i);e:do try{if(Ve!==0&&Ae!==null){i=Ae;var g=Pt;t:switch(Ve){case 1:Ve=0,Pt=null,Cl(t,i,g,1);break;case 2:case 9:if($f(g)){Ve=0,Pt=null,Pm(i);break}i=function(){Ve!==2&&Ve!==9||Je!==t||(Ve=7),rn(t)},g.then(i,i);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:$f(g)?(Ve=0,Pt=null,Pm(i)):(Ve=0,Pt=null,Cl(t,i,g,7));break;case 5:var T=null;switch(Ae.tag){case 26:T=Ae.memoizedState;case 5:case 27:var S=Ae;if(!T||vh(T)){Ve=0,Pt=null;var A=S.sibling;if(A!==null)Ae=A;else{var U=S.return;U!==null?(Ae=U,$a(U)):Ae=null}break t}}Ve=0,Pt=null,Cl(t,i,g,5);break;case 6:Ve=0,Pt=null,Cl(t,i,g,6);break;case 8:Tu(),Qe=6;break e;default:throw Error(o(462))}}Ov();break}catch(G){Um(t,G)}while(!0);return Tn=Si=null,E.H=c,E.A=d,Le=a,Ae!==null?0:(Je=null,De=0,pa(),Qe)}function Ov(){for(;Ae!==null&&!Ls();)Vm(Ae)}function Vm(t){var i=um(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,i===null?$a(t):Ae=i}function Pm(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=im(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=im(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Pr(i);default:fm(a,i),i=Ae=qf(i,Mn),i=um(a,i,Mn)}t.memoizedProps=t.pendingProps,i===null?$a(t):Ae=i}function Cl(t,i,a,c){Tn=Si=null,Pr(i),dl=null,_o=0;var d=i.return;try{if(Rv(t,d,i,a,De)){Qe=1,Ba(t,Ft(a,t.current)),Ae=null;return}}catch(g){if(d!==null)throw Ae=d,g;Qe=1,Ba(t,Ft(a,t.current)),Ae=null;return}i.flags&32768?(ke||c===1?t=!0:gl||(De&536870912)!==0?t=!1:(jn=t=!0,(c===2||c===9||c===3||c===6)&&(c=$t.current,c!==null&&c.tag===13&&(c.flags|=16384))),qm(i,t)):$a(i)}function $a(t){var i=t;do{if((i.flags&32768)!==0){qm(i,jn);return}t=i.return;var a=Iv(i.alternate,i,Mn);if(a!==null){Ae=a;return}if(i=i.sibling,i!==null){Ae=i;return}Ae=i=t}while(i!==null);Qe===0&&(Qe=5)}function qm(t,i){do{var a=Uv(t.alternate,t);if(a!==null){a.flags&=32767,Ae=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=a}while(t!==null);Qe=6,Ae=null}function Bm(t,i,a,c,d,g,T,S,A){t.cancelPendingCommit=null;do ja();while(dt!==0);if((Le&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(g=i.lanes|i.childLanes,g|=dr,xy(t,a,g,T,S,A),t===Je&&(Ae=Je=null,De=0),vl=i,Xn=t,xl=a,yu=g,vu=d,Nm=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Jv(He,function(){return Fm(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=E.T,E.T=null,d=H.p,H.p=2,T=Le,Le|=4;try{kv(t,i,a)}finally{Le=T,H.p=d,E.T=c}}dt=1,Gm(),Om(),zm()}}function Gm(){if(dt===1){dt=0;var t=Xn,i=vl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=E.T,E.T=null;var c=H.p;H.p=2;var d=Le;Le|=4;try{Sm(i,t);var g=ku,T=Mf(t.containerInfo),S=g.focusedElem,A=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&wf(S.ownerDocument.documentElement,S)){if(A!==null&&sr(S)){var U=A.start,G=A.end;if(G===void 0&&(G=U),"selectionStart"in S)S.selectionStart=U,S.selectionEnd=Math.min(G,S.value.length);else{var F=S.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var L=k.getSelection(),xe=S.textContent.length,ye=Math.min(A.start,xe),Oe=A.end===void 0?ye:Math.min(A.end,xe);!L.extend&&ye>Oe&&(T=Oe,Oe=ye,ye=T);var N=Af(S,ye),w=Af(S,Oe);if(N&&w&&(L.rangeCount!==1||L.anchorNode!==N.node||L.anchorOffset!==N.offset||L.focusNode!==w.node||L.focusOffset!==w.offset)){var I=F.createRange();I.setStart(N.node,N.offset),L.removeAllRanges(),ye>Oe?(L.addRange(I),L.extend(w.node,w.offset)):(I.setEnd(w.node,w.offset),L.addRange(I))}}}}for(F=[],L=S;L=L.parentNode;)L.nodeType===1&&F.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<F.length;S++){var O=F[S];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}ss=!!Uu,ku=Uu=null}finally{Le=d,H.p=c,E.T=a}}t.current=i,dt=2}}function Om(){if(dt===2){dt=0;var t=Xn,i=vl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=E.T,E.T=null;var c=H.p;H.p=2;var d=Le;Le|=4;try{vm(t,i.alternate,i)}finally{Le=d,H.p=c,E.T=a}}dt=3}}function zm(){if(dt===4||dt===3){dt=0,Vs();var t=Xn,i=vl,a=xl,c=Nm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dt=5:(dt=0,vl=Xn=null,Hm(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Kn=null),Gs(a),i=i.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=E.T,d=H.p,H.p=2,E.T=null;try{for(var g=t.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{E.T=i,H.p=d}}(xl&3)!==0&&ja(),rn(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===xu?Io++:(Io=0,xu=t):Io=0,Uo(0)}}function Hm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,fo(i)))}function ja(t){return Gm(),Om(),zm(),Fm()}function Fm(){if(dt!==5)return!1;var t=Xn,i=yu;yu=0;var a=Gs(xl),c=E.T,d=H.p;try{H.p=32>a?32:a,E.T=null,a=vu,vu=null;var g=Xn,T=xl;if(dt=0,vl=Xn=null,xl=0,(Le&6)!==0)throw Error(o(331));var S=Le;if(Le|=4,wm(g.current),bm(g,g.current,T,a),Le=S,Uo(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(ht,g)}catch{}return!0}finally{H.p=d,E.T=c,Hm(t,i)}}function Jm(t,i,a){i=Ft(a,i),i=Kr(t.stateNode,i,2),t=zn(t,i,2),t!==null&&(jl(t,2),rn(t))}function ze(t,i,a){if(t.tag===3)Jm(t,t,a);else for(;i!==null;){if(i.tag===3){Jm(i,t,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Kn===null||!Kn.has(c))){t=Ft(a,t),a=jd(2),c=zn(i,a,2),c!==null&&(Qd(a,c,i,t),jl(c,2),rn(c));break}}i=i.return}}function _u(t,i,a){var c=t.pingCache;if(c===null){c=t.pingCache=new Pv;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(mu=!0,d.add(a),t=zv.bind(null,t,i,a),i.then(t,t))}function zv(t,i,a){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(De&a)===a&&(Qe===4||Qe===3&&(De&62914560)===De&&300>Gt()-gu?(Le&2)===0&&Tl(t,0):hu|=a,yl===De&&(yl=0)),rn(t)}function Ym(t,i){i===0&&(i=Oc()),t=nl(t,i),t!==null&&(jl(t,i),rn(t))}function Hv(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ym(t,a)}function Fv(t,i){var a=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(i),Ym(t,a)}function Jv(t,i){return mn(t,i)}var Qa=null,Sl=null,bu=!1,Ka=!1,Eu=!1,Ni=0;function rn(t){t!==Sl&&t.next===null&&(Sl===null?Qa=Sl=t:Sl=Sl.next=t),Ka=!0,bu||(bu=!0,Zv())}function Uo(t,i){if(!Eu&&Ka){Eu=!0;do for(var a=!1,c=Qa;c!==null;){if(t!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-It(42|t)+1)-1,g&=d&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Qm(c,g))}else g=De,g=ia(c,c===Je?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||$l(c,g)||(a=!0,Qm(c,g));c=c.next}while(a);Eu=!1}}function Yv(){Zm()}function Zm(){Ka=bu=!1;var t=0;Ni!==0&&(t0()&&(t=Ni),Ni=0);for(var i=Gt(),a=null,c=Qa;c!==null;){var d=c.next,g=$m(c,i);g===0?(c.next=null,a===null?Qa=d:a.next=d,d===null&&(Sl=a)):(a=c,(t!==0||(g&3)!==0)&&(Ka=!0)),c=d}Uo(t)}function $m(t,i){for(var a=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var T=31-It(g),S=1<<T,A=d[T];A===-1?((S&a)===0||(S&c)!==0)&&(d[T]=vy(S,i)):A<=i&&(t.expiredLanes|=S),g&=~S}if(i=Je,a=De,a=ia(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===i&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Zl(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$l(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(c!==null&&Zl(c),Gs(a)){case 2:case 8:a=se;break;case 32:a=He;break;case 268435456:a=Fe;break;default:a=He}return c=jm.bind(null,t),a=mn(a,c),t.callbackPriority=i,t.callbackNode=a,i}return c!==null&&c!==null&&Zl(c),t.callbackPriority=2,t.callbackNode=null,2}function jm(t,i){if(dt!==0&&dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ja()&&t.callbackNode!==a)return null;var c=De;return c=ia(t,t===Je?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Dm(t,c,i),$m(t,Gt()),t.callbackNode!=null&&t.callbackNode===a?jm.bind(null,t):null)}function Qm(t,i){if(ja())return null;Dm(t,i,!0)}function Zv(){i0(function(){(Le&6)!==0?mn(fi,Yv):Zm()})}function Au(){return Ni===0&&(Ni=Gc()),Ni}function Km(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ra(""+t)}function Xm(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function $v(t,i,a,c,d){if(i==="submit"&&a&&a.stateNode===d){var g=Km((d[Et]||null).action),T=c.submitter;T&&(i=(i=T[Et]||null)?Km(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var S=new da("action","action",null,c,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ni!==0){var A=T?Xm(d,T):new FormData(d);Yr(a,{pending:!0,data:A,method:d.method,action:g},null,A)}}else typeof g=="function"&&(S.preventDefault(),A=T?Xm(d,T):new FormData(d),Yr(a,{pending:!0,data:A,method:d.method,action:g},g,A))},currentTarget:d}]})}}for(var wu=0;wu<fr.length;wu++){var Mu=fr[wu],jv=Mu.toLowerCase(),Qv=Mu[0].toUpperCase()+Mu.slice(1);Wt(jv,"on"+Qv)}Wt(Df,"onAnimationEnd"),Wt(If,"onAnimationIteration"),Wt(Uf,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(mv,"onTransitionRun"),Wt(hv,"onTransitionStart"),Wt(pv,"onTransitionCancel"),Wt(kf,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function Wm(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],d=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var T=c.length-1;0<=T;T--){var S=c[T],A=S.instance,U=S.currentTarget;if(S=S.listener,A!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=U;try{g(d)}catch(G){qa(G)}d.currentTarget=null,g=A}else for(T=0;T<c.length;T++){if(S=c[T],A=S.instance,U=S.currentTarget,S=S.listener,A!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=U;try{g(d)}catch(G){qa(G)}d.currentTarget=null,g=A}}}}function we(t,i){var a=i[Os];a===void 0&&(a=i[Os]=new Set);var c=t+"__bubble";a.has(c)||(eh(i,t,2,!1),a.add(c))}function Nu(t,i,a){var c=0;i&&(c|=4),eh(a,t,c,i)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[Xa]){t[Xa]=!0,Yc.forEach(function(a){a!=="selectionchange"&&(Kv.has(a)||Nu(a,!1,t),Nu(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Xa]||(i[Xa]=!0,Nu("selectionchange",!1,i))}}function eh(t,i,a,c){switch(bh(i)){case 2:var d=b0;break;case 8:d=E0;break;default:d=Fu}a=d.bind(null,i,a,t),d=void 0,!Xs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Du(t,i,a,c,d){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=c.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=Hi(S),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){c=g=T;continue e}S=S.parentNode}}c=c.return}sf(function(){var U=g,G=Qs(a),F=[];e:{var k=Lf.get(t);if(k!==void 0){var L=da,xe=t;switch(t){case"keypress":if(ca(a)===0)break e;case"keydown":case"keyup":L=Jy;break;case"focusin":xe="focus",L=nr;break;case"focusout":xe="blur",L=nr;break;case"beforeblur":case"afterblur":L=nr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=$y;break;case Df:case If:case Uf:L=Vy;break;case kf:L=Qy;break;case"scroll":case"scrollend":L=Dy;break;case"wheel":L=Xy;break;case"copy":case"cut":case"paste":L=qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=df;break;case"toggle":case"beforetoggle":L=ev}var ye=(i&4)!==0,Oe=!ye&&(t==="scroll"||t==="scrollend"),N=ye?k!==null?k+"Capture":null:k;ye=[];for(var w=U,I;w!==null;){var O=w;if(I=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||I===null||N===null||(O=Xl(w,N),O!=null&&ye.push(Lo(w,O,I))),Oe)break;w=w.return}0<ye.length&&(k=new L(k,xe,null,a,G),F.push({event:k,listeners:ye}))}}if((i&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",k&&a!==js&&(xe=a.relatedTarget||a.fromElement)&&(Hi(xe)||xe[zi]))break e;if((L||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,L?(xe=a.relatedTarget||a.toElement,L=U,xe=xe?Hi(xe):null,xe!==null&&(Oe=f(xe),ye=xe.tag,xe!==Oe||ye!==5&&ye!==27&&ye!==6)&&(xe=null)):(L=null,xe=U),L!==xe)){if(ye=cf,O="onMouseLeave",N="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(ye=df,O="onPointerLeave",N="onPointerEnter",w="pointer"),Oe=L==null?k:Kl(L),I=xe==null?k:Kl(xe),k=new ye(O,w+"leave",L,a,G),k.target=Oe,k.relatedTarget=I,O=null,Hi(G)===U&&(ye=new ye(N,w+"enter",xe,a,G),ye.target=I,ye.relatedTarget=Oe,O=ye),Oe=O,L&&xe)t:{for(ye=L,N=xe,w=0,I=ye;I;I=_l(I))w++;for(I=0,O=N;O;O=_l(O))I++;for(;0<w-I;)ye=_l(ye),w--;for(;0<I-w;)N=_l(N),I--;for(;w--;){if(ye===N||N!==null&&ye===N.alternate)break t;ye=_l(ye),N=_l(N)}ye=null}else ye=null;L!==null&&th(F,k,L,ye,!1),xe!==null&&Oe!==null&&th(F,Oe,xe,ye,!0)}}e:{if(k=U?Kl(U):window,L=k.nodeName&&k.nodeName.toLowerCase(),L==="select"||L==="input"&&k.type==="file")var fe=Tf;else if(vf(k))if(Cf)fe=cv;else{fe=rv;var Ee=sv}else L=k.nodeName,!L||L.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?U&&$s(U.elementType)&&(fe=Tf):fe=uv;if(fe&&(fe=fe(t,U))){xf(F,fe,a,G);break e}Ee&&Ee(t,k,U),t==="focusout"&&U&&k.type==="number"&&U.memoizedProps.value!=null&&Zs(k,"number",k.value)}switch(Ee=U?Kl(U):window,t){case"focusin":(vf(Ee)||Ee.contentEditable==="true")&&(Wi=Ee,rr=U,ao=null);break;case"focusout":ao=rr=Wi=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,Nf(F,a,G);break;case"selectionchange":if(dv)break;case"keydown":case"keyup":Nf(F,a,G)}var pe;if(lr)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Xi?gf(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(mf&&a.locale!=="ko"&&(Xi||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Xi&&(pe=rf()):(qn=G,Ws="value"in qn?qn.value:qn.textContent,Xi=!0)),Ee=Wa(U,ve),0<Ee.length&&(ve=new ff(ve,t,null,a,G),F.push({event:ve,listeners:Ee}),pe?ve.data=pe:(pe=yf(a),pe!==null&&(ve.data=pe)))),(pe=nv?iv(t,a):lv(t,a))&&(ve=Wa(U,"onBeforeInput"),0<ve.length&&(Ee=new ff("onBeforeInput","beforeinput",null,a,G),F.push({event:Ee,listeners:ve}),Ee.data=pe)),$v(F,t,U,a,G)}Wm(F,i)})}function Lo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Wa(t,i){for(var a=i+"Capture",c=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Xl(t,a),d!=null&&c.unshift(Lo(t,d,g)),d=Xl(t,i),d!=null&&c.push(Lo(t,d,g))),t.tag===3)return c;t=t.return}return[]}function _l(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function th(t,i,a,c,d){for(var g=i._reactName,T=[];a!==null&&a!==c;){var S=a,A=S.alternate,U=S.stateNode;if(S=S.tag,A!==null&&A===c)break;S!==5&&S!==26&&S!==27||U===null||(A=U,d?(U=Xl(a,g),U!=null&&T.unshift(Lo(a,U,A))):d||(U=Xl(a,g),U!=null&&T.push(Lo(a,U,A)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var Xv=/\r\n?/g,Wv=/\u0000|\uFFFD/g;function nh(t){return(typeof t=="string"?t:""+t).replace(Xv,`
`).replace(Wv,"")}function ih(t,i){return i=nh(i),nh(t)===i}function es(){}function Ge(t,i,a,c,d,g){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||ji(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&ji(t,""+c);break;case"className":oa(t,"class",c);break;case"tabIndex":oa(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":oa(t,a,c);break;case"style":of(t,c,g);break;case"data":if(i!=="object"){oa(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=ra(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&Ge(t,i,"name",d.name,d,null),Ge(t,i,"formEncType",d.formEncType,d,null),Ge(t,i,"formMethod",d.formMethod,d,null),Ge(t,i,"formTarget",d.formTarget,d,null)):(Ge(t,i,"encType",d.encType,d,null),Ge(t,i,"method",d.method,d,null),Ge(t,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=ra(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=es);break;case"onScroll":c!=null&&we("scroll",t);break;case"onScrollEnd":c!=null&&we("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=ra(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":we("beforetoggle",t),we("toggle",t),la(t,"popover",c);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":la(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ny.get(a)||a,la(t,a,c))}}function Iu(t,i,a,c,d,g){switch(a){case"style":of(t,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof c=="string"?ji(t,c):(typeof c=="number"||typeof c=="bigint")&&ji(t,""+c);break;case"onScroll":c!=null&&we("scroll",t);break;case"onScrollEnd":c!=null&&we("scrollend",t);break;case"onClick":c!=null&&(t.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),g=t[Et]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(i,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,c,d);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):la(t,a,c)}}}function mt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",t),we("load",t);var c=!1,d=!1,g;for(g in a)if(a.hasOwnProperty(g)){var T=a[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Ge(t,i,g,T,a,null)}}d&&Ge(t,i,"srcSet",a.srcSet,a,null),c&&Ge(t,i,"src",a.src,a,null);return;case"input":we("invalid",t);var S=g=T=d=null,A=null,U=null;for(c in a)if(a.hasOwnProperty(c)){var G=a[c];if(G!=null)switch(c){case"name":d=G;break;case"type":T=G;break;case"checked":A=G;break;case"defaultChecked":U=G;break;case"value":g=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,i));break;default:Ge(t,i,c,G,a,null)}}ef(t,g,S,A,U,T,d,!1),aa(t);return;case"select":we("invalid",t),c=T=g=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:Ge(t,i,d,S,a,null)}i=g,a=T,t.multiple=!!c,i!=null?$i(t,!!c,i,!1):a!=null&&$i(t,!!c,a,!0);return;case"textarea":we("invalid",t),g=d=c=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:Ge(t,i,T,S,a,null)}nf(t,c,d,g),aa(t);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(c=a[A],c!=null))switch(A){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ge(t,i,A,c,a,null)}return;case"dialog":we("beforetoggle",t),we("toggle",t),we("cancel",t),we("close",t);break;case"iframe":case"object":we("load",t);break;case"video":case"audio":for(c=0;c<ko.length;c++)we(ko[c],t);break;case"image":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"embed":case"source":case"link":we("error",t),we("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(c=a[U],c!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Ge(t,i,U,c,a,null)}return;default:if($s(i)){for(G in a)a.hasOwnProperty(G)&&(c=a[G],c!==void 0&&Iu(t,i,G,c,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(c=a[S],c!=null&&Ge(t,i,S,c,a,null))}function e0(t,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,S=null,A=null,U=null,G=null;for(L in a){var F=a[L];if(a.hasOwnProperty(L)&&F!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":A=F;default:c.hasOwnProperty(L)||Ge(t,i,L,null,c,F)}}for(var k in c){var L=c[k];if(F=a[k],c.hasOwnProperty(k)&&(L!=null||F!=null))switch(k){case"type":g=L;break;case"name":d=L;break;case"checked":U=L;break;case"defaultChecked":G=L;break;case"value":T=L;break;case"defaultValue":S=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,i));break;default:L!==F&&Ge(t,i,k,L,c,F)}}Ys(t,T,S,A,U,G,g,d);return;case"select":L=T=S=k=null;for(g in a)if(A=a[g],a.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":L=A;default:c.hasOwnProperty(g)||Ge(t,i,g,null,c,A)}for(d in c)if(g=c[d],A=a[d],c.hasOwnProperty(d)&&(g!=null||A!=null))switch(d){case"value":k=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==A&&Ge(t,i,d,g,c,A)}i=S,a=T,c=L,k!=null?$i(t,!!a,k,!1):!!c!=!!a&&(i!=null?$i(t,!!a,i,!0):$i(t,!!a,a?[]:"",!1));return;case"textarea":L=k=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ge(t,i,S,null,c,d)}for(T in c)if(d=c[T],g=a[T],c.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":k=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==g&&Ge(t,i,T,d,c,g)}tf(t,k,L);return;case"option":for(var xe in a)if(k=a[xe],a.hasOwnProperty(xe)&&k!=null&&!c.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:Ge(t,i,xe,null,c,k)}for(A in c)if(k=c[A],L=a[A],c.hasOwnProperty(A)&&k!==L&&(k!=null||L!=null))switch(A){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Ge(t,i,A,k,c,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)k=a[ye],a.hasOwnProperty(ye)&&k!=null&&!c.hasOwnProperty(ye)&&Ge(t,i,ye,null,c,k);for(U in c)if(k=c[U],L=a[U],c.hasOwnProperty(U)&&k!==L&&(k!=null||L!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,i));break;default:Ge(t,i,U,k,c,L)}return;default:if($s(i)){for(var Oe in a)k=a[Oe],a.hasOwnProperty(Oe)&&k!==void 0&&!c.hasOwnProperty(Oe)&&Iu(t,i,Oe,void 0,c,k);for(G in c)k=c[G],L=a[G],!c.hasOwnProperty(G)||k===L||k===void 0&&L===void 0||Iu(t,i,G,k,c,L);return}}for(var N in a)k=a[N],a.hasOwnProperty(N)&&k!=null&&!c.hasOwnProperty(N)&&Ge(t,i,N,null,c,k);for(F in c)k=c[F],L=a[F],!c.hasOwnProperty(F)||k===L||k==null&&L==null||Ge(t,i,F,k,c,L)}var Uu=null,ku=null;function ts(t){return t.nodeType===9?t:t.ownerDocument}function lh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Lu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vu=null;function t0(){var t=window.event;return t&&t.type==="popstate"?t===Vu?!1:(Vu=t,!0):(Vu=null,!1)}var ah=typeof setTimeout=="function"?setTimeout:void 0,n0=typeof clearTimeout=="function"?clearTimeout:void 0,sh=typeof Promise=="function"?Promise:void 0,i0=typeof queueMicrotask=="function"?queueMicrotask:typeof sh<"u"?function(t){return sh.resolve(null).then(t).catch(l0)}:ah;function l0(t){setTimeout(function(){throw t})}function ei(t){return t==="head"}function rh(t,i){var a=i,c=0,d=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<c&&8>c){a=c;var T=t.ownerDocument;if(a&1&&Vo(T.documentElement),a&2&&Vo(T.body),a&4)for(a=T.head,Vo(a),T=a.firstChild;T;){var S=T.nextSibling,A=T.nodeName;T[Ql]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=S}}if(d===0){t.removeChild(g),Fo(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:c=a.charCodeAt(0)-48;else c=0;a=g}while(a);Fo(i)}function Pu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pu(a),zs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function o0(t,i,a,c){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Ql])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=tn(t.nextSibling),t===null)break}return null}function a0(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=tn(t.nextSibling),t===null))return null;return t}function qu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function s0(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function tn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Bu=null;function uh(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function ch(t,i,a){switch(i=ts(a),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Vo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);zs(t)}var Qt=new Map,fh=new Set;function ns(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Nn=H.d;H.d={f:r0,r:u0,D:c0,C:f0,L:d0,m:m0,X:p0,S:h0,M:g0};function r0(){var t=Nn.f(),i=Za();return t||i}function u0(t){var i=Fi(t);i!==null&&i.tag===5&&i.type==="form"?Dd(i):Nn.r(t)}var bl=typeof document>"u"?null:document;function dh(t,i,a){var c=bl;if(c&&typeof i=="string"&&i){var d=Ht(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),fh.has(d)||(fh.add(d),t={rel:t,crossOrigin:a,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),mt(i,"link",t),st(i),c.head.appendChild(i)))}}function c0(t){Nn.D(t),dh("dns-prefetch",t,null)}function f0(t,i){Nn.C(t,i),dh("preconnect",t,i)}function d0(t,i,a){Nn.L(t,i,a);var c=bl;if(c&&t&&i){var d='link[rel="preload"][as="'+Ht(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Ht(a.imageSizes)+'"]')):d+='[href="'+Ht(t)+'"]';var g=d;switch(i){case"style":g=El(t);break;case"script":g=Al(t)}Qt.has(g)||(t=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qt.set(g,t),c.querySelector(d)!==null||i==="style"&&c.querySelector(Po(g))||i==="script"&&c.querySelector(qo(g))||(i=c.createElement("link"),mt(i,"link",t),st(i),c.head.appendChild(i)))}}function m0(t,i){Nn.m(t,i);var a=bl;if(a&&t){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Ht(c)+'"][href="'+Ht(t)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Al(t)}if(!Qt.has(g)&&(t=x({rel:"modulepreload",href:t},i),Qt.set(g,t),a.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(qo(g)))return}c=a.createElement("link"),mt(c,"link",t),st(c),a.head.appendChild(c)}}}function h0(t,i,a){Nn.S(t,i,a);var c=bl;if(c&&t){var d=Ji(c).hoistableStyles,g=El(t);i=i||"default";var T=d.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Po(g)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qt.get(g))&&Gu(t,a);var A=T=c.createElement("link");st(A),mt(A,"link",t),A._p=new Promise(function(U,G){A.onload=U,A.onerror=G}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,is(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(g,T)}}}function p0(t,i){Nn.X(t,i);var a=bl;if(a&&t){var c=Ji(a).hoistableScripts,d=Al(t),g=c.get(d);g||(g=a.querySelector(qo(d)),g||(t=x({src:t,async:!0},i),(i=Qt.get(d))&&Ou(t,i),g=a.createElement("script"),st(g),mt(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function g0(t,i){Nn.M(t,i);var a=bl;if(a&&t){var c=Ji(a).hoistableScripts,d=Al(t),g=c.get(d);g||(g=a.querySelector(qo(d)),g||(t=x({src:t,async:!0,type:"module"},i),(i=Qt.get(d))&&Ou(t,i),g=a.createElement("script"),st(g),mt(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function mh(t,i,a,c){var d=(d=ee.current)?ns(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=El(a.href),a=Ji(d).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=El(a.href);var g=Ji(d).hoistableStyles,T=g.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,T),(g=d.querySelector(Po(t)))&&!g._p&&(T.instance=g,T.state.loading=5),Qt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qt.set(t,a),g||y0(d,t,a,T.state))),i&&c===null)throw Error(o(528,""));return T}if(i&&c!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Al(a),a=Ji(d).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function El(t){return'href="'+Ht(t)+'"'}function Po(t){return'link[rel="stylesheet"]['+t+"]"}function hh(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function y0(t,i,a,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),mt(i,"link",a),st(i),t.head.appendChild(i))}function Al(t){return'[src="'+Ht(t)+'"]'}function qo(t){return"script[async]"+t}function ph(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(c)return i.instance=c,st(c),c;var d=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),st(c),mt(c,"style",d),is(c,a.precedence,t),i.instance=c;case"stylesheet":d=El(a.href);var g=t.querySelector(Po(d));if(g)return i.state.loading|=4,i.instance=g,st(g),g;c=hh(a),(d=Qt.get(d))&&Gu(c,d),g=(t.ownerDocument||t).createElement("link"),st(g);var T=g;return T._p=new Promise(function(S,A){T.onload=S,T.onerror=A}),mt(g,"link",c),i.state.loading|=4,is(g,a.precedence,t),i.instance=g;case"script":return g=Al(a.src),(d=t.querySelector(qo(g)))?(i.instance=d,st(d),d):(c=a,(d=Qt.get(g))&&(c=x({},a),Ou(c,d)),t=t.ownerDocument||t,d=t.createElement("script"),st(d),mt(d,"link",c),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,is(c,a.precedence,t));return i.instance}function is(t,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===i)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Gu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Ou(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ls=null;function gh(t,i,a){if(ls===null){var c=new Map,d=ls=new Map;d.set(a,c)}else d=ls,c=d.get(a),c||(c=new Map,d.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var g=a[d];if(!(g[Ql]||g[pt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=t+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function yh(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function v0(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function vh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Bo=null;function x0(){}function T0(t,i,a){if(Bo===null)throw Error(o(475));var c=Bo;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=El(a.href),g=t.querySelector(Po(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(c.count++,c=os.bind(c),t.then(c,c)),i.state.loading|=4,i.instance=g,st(g);return}g=t.ownerDocument||t,a=hh(a),(d=Qt.get(d))&&Gu(a,d),g=g.createElement("link"),st(g);var T=g;T._p=new Promise(function(S,A){T.onload=S,T.onerror=A}),mt(g,"link",a),i.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=os.bind(c),t.addEventListener("load",i),t.addEventListener("error",i))}}function C0(){if(Bo===null)throw Error(o(475));var t=Bo;return t.stylesheets&&t.count===0&&zu(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function os(){if(this.count--,this.count===0){if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var as=null;function zu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,as=new Map,i.forEach(S0,t),as=null,os.call(t))}function S0(t,i){if(!(i.state.loading&4)){var a=as.get(t);if(a)var c=a.get(null);else{a=new Map,as.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),c=T)}c&&a.set(null,c)}d=i.instance,T=d.getAttribute("data-precedence"),g=a.get(T)||c,g===c&&a.set(null,d),a.set(T,d),this.count++,c=os.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Go={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function _0(t,i,a,c,d,g,T,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qs(0),this.hiddenUpdates=qs(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function xh(t,i,a,c,d,g,T,S,A,U,G,F){return t=new _0(t,i,a,T,S,A,U,F),i=1,g===!0&&(i|=24),g=kt(3,null,null,i),t.current=g,g.stateNode=t,i=_r(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:a,cache:i},wr(g),t}function Th(t){return t?(t=il,t):il}function Ch(t,i,a,c,d,g){d=Th(d),c.context===null?c.context=d:c.pendingContext=d,c=On(i),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=zn(t,c,i),a!==null&&(Bt(a,t,i),go(a,t,i))}function Sh(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Hu(t,i){Sh(t,i),(t=t.alternate)&&Sh(t,i)}function _h(t){if(t.tag===13){var i=nl(t,67108864);i!==null&&Bt(i,t,67108864),Hu(t,67108864)}}var ss=!0;function b0(t,i,a,c){var d=E.T;E.T=null;var g=H.p;try{H.p=2,Fu(t,i,a,c)}finally{H.p=g,E.T=d}}function E0(t,i,a,c){var d=E.T;E.T=null;var g=H.p;try{H.p=8,Fu(t,i,a,c)}finally{H.p=g,E.T=d}}function Fu(t,i,a,c){if(ss){var d=Ju(c);if(d===null)Du(t,i,c,rs,a),Eh(t,c);else if(w0(d,t,i,a,c))c.stopPropagation();else if(Eh(t,c),i&4&&-1<A0.indexOf(t)){for(;d!==null;){var g=Fi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=di(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var A=1<<31-It(T);S.entanglements[1]|=A,T&=~A}rn(g),(Le&6)===0&&(Ja=Gt()+500,Uo(0))}}break;case 13:S=nl(g,2),S!==null&&Bt(S,g,2),Za(),Hu(g,2)}if(g=Ju(c),g===null&&Du(t,i,c,rs,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else Du(t,i,c,null,a)}}function Ju(t){return t=Qs(t),Yu(t)}var rs=null;function Yu(t){if(rs=null,t=Hi(t),t!==null){var i=f(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return rs=t,null}function bh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ps()){case fi:return 2;case se:return 8;case He:case bt:return 32;case Fe:return 268435456;default:return 32}default:return 32}}var Zu=!1,ti=null,ni=null,ii=null,Oo=new Map,zo=new Map,li=[],A0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Eh(t,i){switch(t){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Oo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(i.pointerId)}}function Ho(t,i,a,c,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},i!==null&&(i=Fi(i),i!==null&&_h(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function w0(t,i,a,c,d){switch(i){case"focusin":return ti=Ho(ti,t,i,a,c,d),!0;case"dragenter":return ni=Ho(ni,t,i,a,c,d),!0;case"mouseover":return ii=Ho(ii,t,i,a,c,d),!0;case"pointerover":var g=d.pointerId;return Oo.set(g,Ho(Oo.get(g)||null,t,i,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,zo.set(g,Ho(zo.get(g)||null,t,i,a,c,d)),!0}return!1}function Ah(t){var i=Hi(t.target);if(i!==null){var a=f(i);if(a!==null){if(i=a.tag,i===13){if(i=m(a),i!==null){t.blockedOn=i,Ty(t.priority,function(){if(a.tag===13){var c=qt();c=Bs(c);var d=nl(a,c);d!==null&&Bt(d,a,c),Hu(a,c)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function us(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ju(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);js=c,a.target.dispatchEvent(c),js=null}else return i=Fi(a),i!==null&&_h(i),t.blockedOn=a,!1;i.shift()}return!0}function wh(t,i,a){us(t)&&a.delete(i)}function M0(){Zu=!1,ti!==null&&us(ti)&&(ti=null),ni!==null&&us(ni)&&(ni=null),ii!==null&&us(ii)&&(ii=null),Oo.forEach(wh),zo.forEach(wh)}function cs(t,i){t.blockedOn===i&&(t.blockedOn=null,Zu||(Zu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,M0)))}var fs=null;function Mh(t){fs!==t&&(fs=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){fs===t&&(fs=null);for(var i=0;i<t.length;i+=3){var a=t[i],c=t[i+1],d=t[i+2];if(typeof c!="function"){if(Yu(c||a)===null)continue;break}var g=Fi(a);g!==null&&(t.splice(i,3),i-=3,Yr(g,{pending:!0,data:d,method:a.method,action:c},c,d))}}))}function Fo(t){function i(A){return cs(A,t)}ti!==null&&cs(ti,t),ni!==null&&cs(ni,t),ii!==null&&cs(ii,t),Oo.forEach(i),zo.forEach(i);for(var a=0;a<li.length;a++){var c=li[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<li.length&&(a=li[0],a.blockedOn===null);)Ah(a),a.blockedOn===null&&li.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var d=a[c],g=a[c+1],T=d[Et]||null;if(typeof g=="function")T||Mh(a);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Et]||null)S=T.formAction;else if(Yu(d)!==null)continue}else S=T.action;typeof S=="function"?a[c+1]=S:(a.splice(c,3),c-=3),Mh(a)}}}function $u(t){this._internalRoot=t}ds.prototype.render=$u.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,c=qt();Ch(a,c,t,i,null,null)},ds.prototype.unmount=$u.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ch(t.current,2,null,t,null,null),Za(),i[zi]=null}};function ds(t){this._internalRoot=t}ds.prototype.unstable_scheduleHydration=function(t){if(t){var i=Fc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<li.length&&i!==0&&i<li[a].priority;a++);li.splice(a,0,t),a===0&&Ah(t)}};var Nh=e.version;if(Nh!=="19.1.0")throw Error(o(527,Nh,"19.1.0"));H.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var N0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{ht=ms.inject(N0),lt=ms}catch{}}return Yo.createRoot=function(t,i){if(!s(t))throw Error(o(299));var a=!1,c="",d=Jd,g=Yd,T=Zd,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=xh(t,1,!1,null,null,a,c,d,g,T,S,null),t[zi]=i.current,Ru(t),new $u(i)},Yo.hydrateRoot=function(t,i,a){if(!s(t))throw Error(o(299));var c=!1,d="",g=Jd,T=Yd,S=Zd,A=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),i=xh(t,1,!0,i,a??null,c,d,g,T,S,A,U),i.context=Th(null),a=i.current,c=qt(),c=Bs(c),d=On(c),d.callback=null,zn(a,d,c),a=c,i.current.lanes=a,jl(i,a),rn(i),t[zi]=i.current,Ru(t),new ds(i)},Yo.version="19.1.0",Yo}var Bh;function G0(){if(Bh)return Ku.exports;Bh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ku.exports=B0(),Ku.exports}var O0=G0();const z0=wg(O0);var Ke=(n=>(n[n.Home=0]="Home",n[n.Vocabulary=1]="Vocabulary",n[n.Reading=2]="Reading",n[n.Drive=3]="Drive",n[n.Listening=4]="Listening",n[n.WordList=5]="WordList",n[n.Part5=6]="Part5",n[n.Part6=7]="Part6",n[n.BasicGrammar=8]="BasicGrammar",n[n.GrammarCheck=9]="GrammarCheck",n))(Ke||{}),Ui=(n=>(n.Beginner="Beginner (TOEIC 400-600)",n.Intermediate="Intermediate (TOEIC 600-800)",n.Advanced="Advanced (TOEIC 800-990)",n))(Ui||{}),Ii=(n=>(n.Business="Business",n.Travel="Travel",n.DailyLife="Daily Life",n.Finance="Finance",n.Health="Health",n))(Ii||{}),Nl=(n=>(n.Noun="Noun",n.Verb="Verb",n.Adjective="Adjective",n.Adverb="Adverb",n))(Nl||{}),Rt=(n=>(n.Part2="Part 2: Question-Response",n.Part3="Part 3: Conversation",n.Part4="Part 4: Short Talk",n))(Rt||{});const Dn=[Ui.Beginner,Ui.Intermediate,Ui.Advanced],Dt=[Ii.Business,Ii.Travel,Ii.DailyLife,Ii.Finance,Ii.Health],Ul=[Nl.Noun,Nl.Verb,Nl.Adjective,Nl.Adverb],kl="All Levels",Li="All Categories",Gh=[kl,...Dn],Mg=[Li,...Dt],rc=[Rt.Part2,Rt.Part3,Rt.Part4],hs=["名詞 (Nouns)","動詞 (Verbs)","形容詞 (Adjectives)","副詞 (Adverbs)","前置詞 (Prepositions)","冠詞 (Articles: a, an, the)","現在形 (Present Tense)","過去形 (Past Tense)","未来形 (Future Tense)","現在完了形 (Present Perfect)","助動詞 (Auxiliary Verbs)","SVO文型 (Sentence Structure)"],H0=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M14 16.94A2 2 0 1 1 10.06 15M4.01 15.14A2 2 0 1 1 0 16.94"}),v.jsx("path",{d:"M4 17h6l2-4H4.22A2 2 0 0 0 2.25 15c0 .7.36 1.34.9 1.7"}),v.jsx("path",{d:"m14 7-2 4h8.5a2 2 0 0 1 1.95 2.57l-1.23 4.93A2 2 0 0 1 19.3 20H14.1a2 2 0 0 1-1.95-1.43L11.5 16"}),v.jsx("path",{d:"M6.5 13H11"})]}),F0=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M3 18v-6a9 9 0 0 1 18 0v6"}),v.jsx("path",{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h1a2 2 0 0 1 2 2Z"}),v.jsx("path",{d:"M3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2Z"})]}),Tt=()=>v.jsx("div",{className:"flex justify-center items-center p-4",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),uc=(n,e)=>e.some(l=>n instanceof l);let Oh,zh;function J0(){return Oh||(Oh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y0(){return zh||(zh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cc=new WeakMap,tc=new WeakMap,Ns=new WeakMap;function Z0(n){const e=new Promise((l,o)=>{const s=()=>{n.removeEventListener("success",f),n.removeEventListener("error",m)},f=()=>{l(ki(n.result)),s()},m=()=>{o(n.error),s()};n.addEventListener("success",f),n.addEventListener("error",m)});return Ns.set(e,n),e}function $0(n){if(cc.has(n))return;const e=new Promise((l,o)=>{const s=()=>{n.removeEventListener("complete",f),n.removeEventListener("error",m),n.removeEventListener("abort",m)},f=()=>{l(),s()},m=()=>{o(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",f),n.addEventListener("error",m),n.addEventListener("abort",m)});cc.set(n,e)}let fc={get(n,e,l){if(n instanceof IDBTransaction){if(e==="done")return cc.get(n);if(e==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return ki(n[e])},set(n,e,l){return n[e]=l,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ng(n){fc=n(fc)}function j0(n){return Y0().includes(n)?function(...e){return n.apply(dc(this),e),ki(this.request)}:function(...e){return ki(n.apply(dc(this),e))}}function Q0(n){return typeof n=="function"?j0(n):(n instanceof IDBTransaction&&$0(n),uc(n,J0())?new Proxy(n,fc):n)}function ki(n){if(n instanceof IDBRequest)return Z0(n);if(tc.has(n))return tc.get(n);const e=Q0(n);return e!==n&&(tc.set(n,e),Ns.set(e,n)),e}const dc=n=>Ns.get(n);function K0(n,e,{blocked:l,upgrade:o,blocking:s,terminated:f}={}){const m=indexedDB.open(n,e),h=ki(m);return o&&m.addEventListener("upgradeneeded",y=>{o(ki(m.result),y.oldVersion,y.newVersion,ki(m.transaction),y)}),l&&m.addEventListener("blocked",y=>l(y.oldVersion,y.newVersion,y)),h.then(y=>{f&&y.addEventListener("close",()=>f()),s&&y.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const X0=["get","getKey","getAll","getAllKeys","count"],W0=["put","add","delete","clear"],nc=new Map;function Hh(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(nc.get(e))return nc.get(e);const l=e.replace(/FromIndex$/,""),o=e!==l,s=W0.includes(l);if(!(l in(o?IDBIndex:IDBObjectStore).prototype)||!(s||X0.includes(l)))return;const f=async function(m,...h){const y=this.transaction(m,s?"readwrite":"readonly");let p=y.store;return o&&(p=p.index(h.shift())),(await Promise.all([p[l](...h),s&&y.done]))[0]};return nc.set(e,f),f}Ng(n=>({...n,get:(e,l,o)=>Hh(e,l)||n.get(e,l,o),has:(e,l)=>!!Hh(e,l)||n.has(e,l)}));const ex=["continue","continuePrimaryKey","advance"],Fh={},mc=new WeakMap,Rg=new WeakMap,tx={get(n,e){if(!ex.includes(e))return n[e];let l=Fh[e];return l||(l=Fh[e]=function(...o){mc.set(this,Rg.get(this)[e](...o))}),l}};async function*nx(...n){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...n)),!e)return;e=e;const l=new Proxy(e,tx);for(Rg.set(l,e),Ns.set(l,dc(e));e;)yield l,e=await(mc.get(l)||e.continue()),mc.delete(l)}function Jh(n,e){return e===Symbol.asyncIterator&&uc(n,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&uc(n,[IDBIndex,IDBObjectStore])}Ng(n=>({...n,get(e,l,o){return Jh(e,l)?nx:n.get(e,l,o)},has(e,l){return Jh(e,l)||n.has(e,l)}}));const ix="TOEICAI_TUTOR_DB",lx=5,Ct="words",St="idioms",ic="vocabulary";let lc=null;const In=()=>(lc||(lc=K0(ix,lx,{async upgrade(n,e,l,o){if(console.log(`Upgrading database from version ${e} to ${l}...`),e<4){if(console.log("Applying version 4 upgrade: Separating words and idioms."),!n.objectStoreNames.contains(Ct)){const s=n.createObjectStore(Ct,{keyPath:"id",autoIncrement:!0});s.createIndex("english_pos",["english","pos"],{unique:!0}),s.createIndex("level_category",["level","category"],{unique:!1})}if(!n.objectStoreNames.contains(St)){const s=n.createObjectStore(St,{keyPath:"id",autoIncrement:!0});s.createIndex("english","english",{unique:!0}),s.createIndex("level_category",["level","category"],{unique:!1})}if(n.objectStoreNames.contains(ic)){console.log("Migrating data from old 'vocabulary' store...");const s=o.objectStore(ic),f=o.objectStore(Ct),m=o.objectStore(St);let h=await s.openCursor();for(;h;){const y=h.value,{id:p,...x}=y;y.type==="word"&&y.pos&&Ul.includes(y.pos)?await f.add(x).catch(C=>console.warn("Skipping duplicate word during migration:",y.english,C.message)):y.type==="idiom"&&await m.add(x).catch(C=>console.warn("Skipping duplicate idiom during migration:",y.english,C.message)),h=await h.continue()}n.deleteObjectStore(ic),console.log("Migration complete. Old 'vocabulary' store deleted.")}}if(e<5){console.log("Applying version 5 upgrade: Adding frequencyLevel index.");const s=o.objectStore(Ct);s.indexNames.contains("frequencyLevel")||s.createIndex("frequencyLevel","frequencyLevel",{unique:!1});const f=o.objectStore(St);f.indexNames.contains("frequencyLevel")||f.createIndex("frequencyLevel","frequencyLevel",{unique:!1})}}})),lc),Dg=async n=>{const l=(await In()).transaction([Ct,St],"readwrite"),o=l.objectStore(Ct),s=l.objectStore(St),f=o.index("english_pos"),m=s.index("english");let h=0;try{for(const y of n){if(!y||typeof y.english!="string"||!y.english||!y.type){console.warn("Skipping item with invalid base properties (english/type):",y);continue}if(!y.japanese||!y.example_en||!y.example_jp||!y.level||!y.category){console.warn("Skipping item with missing core data fields:",y);continue}const{id:p,...x}=y;if(y.type==="word")y.pos&&Ul.includes(y.pos)?await f.get([y.english,y.pos])||(await o.add(x),h++):console.warn("Skipping invalid word item (bad or missing POS):",y);else if(y.type==="idiom"&&!await m.get(y.english)){const _={...x,pos:null};await s.add(_),h++}}await l.done}catch(y){throw console.error("Transaction aborted during addVocabularyItems:",y),l.abort(),y}return h},ox=async(n,e,l,o,s,f,m)=>{const h=await In();let y=[];if(l==="word"||l==="all"){const p=await h.getAllFromIndex(Ct,"level_category",IDBKeyRange.only([n,e]));y.push(...p)}if(l==="idiom"||l==="all"){const p=await h.getAllFromIndex(St,"level_category",IDBKeyRange.only([n,e]));y.push(...p)}if(o!=="all"&&(y=y.filter(p=>p.pos===o)),m&&(y=y.filter(p=>p.frequencyLevel===m)),s==="Alphabetical")y.sort((p,x)=>p.english.localeCompare(x.english));else for(let p=y.length-1;p>0;p--){const x=Math.floor(Math.random()*(p+1));[y[p],y[x]]=[y[x],y[p]]}return y.slice(0,f)},Yh=async(n,e,l,o,s,f)=>{const m=await In();let h=[];if(l==="word"||l==="all"){const y=await m.getAllFromIndex(Ct,"level_category",IDBKeyRange.only([n,e]));h.push(...y)}if(l==="idiom"||l==="all"){const y=await m.getAllFromIndex(St,"level_category",IDBKeyRange.only([n,e]));h.push(...y)}if(o!=="all"&&(h=h.filter(y=>y.pos===o)),f&&(h=h.filter(y=>y.frequencyLevel===f)),s==="Alphabetical")h.sort((y,p)=>y.english.localeCompare(p.english));else for(let y=h.length-1;y>0;y--){const p=Math.floor(Math.random()*(y+1));[h[y],h[p]]=[h[p],h[y]]}return h},ax=async()=>{const n=await In(),e=await n.count(Ct),l=await n.count(St);return e+l},sx=async(n,e,l,o)=>{const s=await In();let f=[];if(l==="word"||l==="all"){const h=await s.getAll(Ct);f.push(...h)}if(l==="idiom"||l==="all"){const h=await s.getAll(St);f.push(...h)}return n!==kl&&(f=f.filter(h=>h.level===n)),e!==Li&&(f=f.filter(h=>h.category===e)),f.sort(()=>.5-Math.random()).slice(0,o).map(h=>h.type==="word"&&h.pos?`${h.english}-${h.pos}`:h.english)},rx=async(n,e,l)=>{var x;const o=await In(),s=(x=l.search)==null?void 0:x.toLowerCase(),f=C=>!(l.level&&C.level!==l.level||l.category&&C.category!==l.category||l.type&&C.type!==l.type||l.frequencyLevel&&C.frequencyLevel!==l.frequencyLevel||s&&!C.english.toLowerCase().includes(s)&&!C.japanese.toLowerCase().includes(s));let m=[];if(l.type!=="idiom"){const C=await o.getAll(Ct);m.push(...C.filter(f))}if(l.type!=="word"){const C=await o.getAll(St);m.push(...C.filter(f))}l.sortOrder==="alphabetical"?m.sort((C,_)=>C.english.localeCompare(_.english)):m.sort((C,_)=>(C.id??0)-(_.id??0));const h=m.length,y=(n-1)*e;return{items:m.slice(y,y+e),total:h}},ux=async()=>{const n=await In(),e=await n.getAll(Ct),l=await n.getAll(St);return[...e,...l]},Zh=async()=>{const n=await In(),e=await n.getAll(Ct),l=await n.getAll(St);return[...e,...l].filter(o=>o.frequencyLevel===void 0)},cx=async n=>{const l=(await In()).transaction([Ct,St],"readwrite"),o=l.objectStore(Ct),s=l.objectStore(St);await Promise.all(n.map(async f=>{const m=f.type==="word"?o:s,h=await m.get(f.id);h&&(h.frequencyLevel=f.frequencyLevel,await m.put(h))})),await l.done},fx=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M13 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9"}),v.jsx("path",{d:"M14 4l5 5h-5V4Z"}),v.jsx("path",{d:"M9 12h-1"}),v.jsx("path",{d:"M15 12h-1"}),v.jsx("path",{d:"M12 12h-1"}),v.jsx("path",{d:"M10 18h4"}),v.jsx("path",{d:"m17 15-1 1 1 1"}),v.jsx("path",{d:"m14 15 1 1-1 1"})]}),dx=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),v.jsx("polyline",{points:"14 2 14 8 20 8"}),v.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),v.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),v.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),mx=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),v.jsx("path",{d:"M6.5 2H20v15H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),hx=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),v.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),px=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),v.jsx("polyline",{points:"2 17 12 22 22 17"}),v.jsx("polyline",{points:"2 12 12 17 22 12"})]}),Ig=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"m3 16 4 4 8-8"}),v.jsx("path",{d:"m16 4-5 5"}),v.jsx("path",{d:"M13.5 2.5a2.12 2.12 0 0 1 3 3L5 21l-4 1 1-4Z"})]}),gx=({className:n="w-5 h-5 inline-block -mt-1 mx-1"})=>v.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 21",fill:"none",children:[v.jsx("path",{d:"M14.625 6.5625H13.125V8.0625C13.125 8.47969 12.7922 8.8125 12.375 8.8125C11.9578 8.8125 11.625 8.47969 11.625 8.0625V6.5625H9.375V8.0625C9.375 8.47969 9.04219 8.8125 8.625 8.8125C8.20781 8.8125 7.875 8.47969 7.875 8.0625V6.5625H5.625V8.0625C5.625 8.47969 5.29219 8.8125 4.875 8.8125C4.45781 8.8125 4.125 8.47969 4.125 8.0625V6.5625H2.625C1.98281 6.5625 1.5 7.04531 1.5 7.6875V17.8125C1.5 18.4547 1.98281 18.9375 2.625 18.9375H14.625C15.2672 18.9375 15.75 18.4547 15.75 17.8125V7.6875C15.75 7.04531 15.2672 6.5625 14.625 6.5625Z",fill:"currentColor"}),v.jsx("path",{d:"M8.625 1.3125C8.94375 1.3125 9.1875 1.55625 9.1875 1.875V12.1875C9.1875 12.5062 8.94375 12.75 8.625 12.75C8.30625 12.75 8.0625 12.5062 8.0625 12.1875V1.875C8.0625 1.55625 8.30625 1.3125 8.625 1.3125Z",fill:"currentColor"}),v.jsx("path",{d:"M11.5875 4.43438L8.9625 1.80938C8.75391 1.60078 8.49609 1.60078 8.2875 1.80938L5.6625 4.43438C5.38125 4.71562 5.59062 5.25 6.0375 5.25H7.5V12.1875C7.5 12.5062 7.74375 12.75 8.0625 12.75H9.1875C9.50625 12.75 9.75 12.5062 9.75 12.1875V5.25H11.2125C11.6594 5.25 11.8687 4.71562 11.5875 4.43438Z",fill:"currentColor"})]}),yx=()=>{const[n,e]=P.useState(!1);return P.useEffect(()=>{const l=()=>{const s=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(s)},o=()=>"standalone"in window.navigator&&window.navigator.standalone;l()&&!o()&&e(!0)},[]),n?v.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 w-[95%] max-w-lg z-50",children:v.jsx("div",{className:"bg-slate-800 text-white rounded-xl shadow-2xl p-4 ring-2 ring-slate-700",children:v.jsxs("p",{className:"text-center text-sm leading-relaxed",children:["To get the full app experience, add this to your Home Screen. Tap the",v.jsx(gx,{className:"w-5 h-5 inline-block mx-1"}),"icon and then select 'Add to Home Screen'."]})})}):null},vx=({onStartVocabulary:n,onStartReading:e,onStartDrive:l,onStartListening:o,onStartPart5:s,onStartPart6:f,onStartBasicGrammar:m,onStartGrammarCheck:h,onViewWordList:y,onImportJson:p,onAiCollect:x,dbWordCount:C,isInitializing:_,initStatus:M})=>{const[D,q]=P.useState(Ui.Beginner),[B,Z]=P.useState(kl),[z,Y]=P.useState(Li),[X,$]=P.useState("word"),[ae,ne]=P.useState(20),[J,j]=P.useState(!1),[oe,le]=P.useState(""),re=C>0&&!_,Me=_?"Please wait for initialization to complete.":"Add vocabulary using the AI Generator or Import JSON to enable this mode.",Re=async(E,H)=>{var b;const ie=(b=E.target.files)==null?void 0:b[0];if(!ie)return;const R=new FileReader;R.onload=async V=>{var Q;try{const K=(Q=V.target)==null?void 0:Q.result;if(typeof K!="string")throw new Error("File could not be read");const W=JSON.parse(K);if(!W.vocabulary||!Array.isArray(W.vocabulary)){alert('Invalid JSON format. Expected an object with a "vocabulary" array.');return}const ce=W.vocabulary.map(Xe=>({...Xe,type:H})),ee=await Dg(ce);alert(`Imported ${ee} new ${H}s. ${ce.length-ee} duplicates were skipped.`),await p()}catch(K){console.error(`Error importing ${H} JSON:`,K),alert(`Failed to import ${H} JSON. Please check the file format and console for errors.`)}},R.readAsText(ie),E.target.value=""},ge=async()=>{j(!0);let E=0;for(let H=1;H<=ae;H++){le(`Batch ${H}/${ae}: Generating new items with AI...`);try{const ie=await x(B,z,X);E+=ie,le(`Batch ${H}/${ae}: Success! Added ${ie} new items. Total so far: ${E}`)}catch(ie){console.error(`AI collection failed on batch ${H}:`,ie),le(`Batch ${H}/${ae}: An error occurred. Please try again. Total added before error: ${E}`),j(!1);return}}le(`Finished! Added a total of ${E} new items across ${ae} batches.`),j(!1)};return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-4rem)] p-4",children:[v.jsx(yx,{}),v.jsxs("div",{className:"w-full max-w-2xl text-center",children:[v.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-800 mb-2",children:"TOEIC AI Tutor"}),v.jsx("p",{className:"text-lg text-slate-600 mb-8",children:"Your personal AI-powered TOEIC study partner."}),v.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-lg w-full mb-8",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{htmlFor:"level-select",className:"block text-xl font-medium text-slate-700 mb-3",children:"1. Choose Your Level (For Practice Modes)"}),v.jsx("select",{id:"level-select",value:D,onChange:E=>q(E.target.value),className:"w-full p-4 border border-slate-300 rounded-lg bg-slate-50 text-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",children:Gh.filter(E=>E!==kl).map(E=>v.jsx("option",{value:E,children:E},E))})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-medium text-slate-700 mb-4",children:"2. Choose Your Mode"}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsxs("button",{onClick:()=>n(D),className:"bg-blue-600 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-blue-700 transition-transform transform hover:scale-105 shadow-md disabled:bg-slate-400 disabled:cursor-not-allowed flex flex-col items-center justify-center gap-1",disabled:!re,title:re?"":Me,children:[v.jsx(px,{className:"w-7 h-7 mb-1"}),"Vocabulary & Idioms"]}),v.jsxs("button",{onClick:m,className:"bg-rose-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-rose-600 transition-transform transform hover:scale-105 shadow-md flex flex-col items-center justify-center gap-1",children:[v.jsx(mx,{className:"w-7 h-7 mb-1"}),"基礎文法"]}),v.jsxs("button",{onClick:h,className:"bg-emerald-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-emerald-600 transition-transform transform hover:scale-105 shadow-md flex flex-col items-center justify-center gap-1",children:[v.jsx(Ig,{className:"w-7 h-7 mb-1"}),"AI Grammar Check"]}),v.jsxs("button",{onClick:()=>o(D),className:"bg-teal-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-teal-600 transition-transform transform hover:scale-105 shadow-md flex flex-col items-center justify-center gap-1",children:[v.jsx(F0,{className:"w-7 h-7 mb-1"}),"Listening Practice"]}),v.jsxs("button",{onClick:()=>s(D),className:"bg-amber-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-amber-600 transition-transform transform hover:scale-105 shadow-md flex flex-col items-center justify-center gap-1",children:[v.jsx(fx,{className:"w-7 h-7 mb-1"}),"Part 5: Completion"]}),v.jsxs("button",{onClick:()=>f(D),className:"bg-orange-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-orange-600 transition-transform transform hover:scale-105 shadow-md flex flex-col items-center justify-center gap-1",children:[v.jsx(dx,{className:"w-7 h-7 mb-1"}),"Part 6: Completion"]}),v.jsxs("button",{onClick:()=>e(D),className:"bg-violet-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-violet-600 transition-transform transform hover:scale-105 shadow-md flex flex-col items-center justify-center gap-1",children:[v.jsx(hx,{className:"w-7 h-7 mb-1"}),"Part 7: Reading"]}),v.jsxs("button",{onClick:()=>l(D),className:"bg-sky-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-sky-600 transition-transform transform hover:scale-105 shadow-md disabled:bg-slate-400 disabled:cursor-not-allowed flex flex-col items-center justify-center gap-1",disabled:!re,title:re?"":Me,children:[v.jsx(H0,{className:"w-7 h-7 mb-1"}),"Vocabulary Drive"]})]})]})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg w-full mb-8",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-700 mb-3",children:"AI Vocabulary Generator"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4 items-center",children:[v.jsx("select",{value:B,onChange:E=>Z(E.target.value),className:"p-2 border rounded-md bg-slate-50",children:Gh.map(E=>v.jsx("option",{value:E,children:E},E))}),v.jsx("select",{value:z,onChange:E=>Y(E.target.value),className:"p-2 border rounded-md bg-slate-50",children:Mg.map(E=>v.jsx("option",{value:E,children:E},E))}),v.jsxs("select",{value:X,onChange:E=>$(E.target.value),className:"p-2 border rounded-md bg-slate-50",children:[v.jsx("option",{value:"word",children:"Word"}),v.jsx("option",{value:"idiom",children:"Idiom"}),v.jsx("option",{value:"all",children:"All"})]}),v.jsx("input",{type:"number",value:ae,onChange:E=>ne(Math.max(1,parseInt(E.target.value)||1)),className:"p-2 border rounded-md bg-slate-50",title:"Number of batches (75 items per batch)"})]}),v.jsx("button",{onClick:ge,className:"w-full bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-indigo-700 transition shadow-md disabled:bg-slate-400",disabled:J||_,children:J?v.jsx(Tt,{}):`Generate ${ae*75} New Items with AI`}),oe&&v.jsx("p",{className:"text-sm text-slate-600 mt-3",children:oe})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg w-full",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-700 mb-2",children:"Database Status"}),_?v.jsx("p",{className:"text-blue-600 bg-blue-100 p-3 rounded-md",children:M}):v.jsxs("p",{className:"text-lg",children:["Total items in database: ",v.jsx("span",{className:"font-bold text-blue-600",children:C})]}),v.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-4",children:[v.jsx("button",{onClick:y,className:"flex-1 bg-slate-600 text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-slate-700 transition shadow-md disabled:bg-slate-400",disabled:!re,title:re?"":Me,children:"View Word List"}),v.jsxs("label",{className:`flex-1 text-white font-bold py-3 px-6 rounded-lg text-lg text-center transition shadow-md ${_?"bg-slate-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 cursor-pointer"}`,children:["Import Words",v.jsx("input",{type:"file",onChange:E=>Re(E,"word"),className:"hidden",accept:".json",disabled:_})]}),v.jsxs("label",{className:`flex-1 text-white font-bold py-3 px-6 rounded-lg text-lg text-center transition shadow-md ${_?"bg-slate-400 cursor-not-allowed":"bg-fuchsia-600 hover:bg-fuchsia-700 cursor-pointer"}`,children:["Import Idioms",v.jsx("input",{type:"file",onChange:E=>Re(E,"idiom"),className:"hidden",accept:".json",disabled:_})]})]})]})]})]})};class Ll extends Error{constructor(e){super(e),this.name="SpeechCancellationError"}}const Rs=()=>{const[n,e]=P.useState(!1),l=P.useRef(null);P.useEffect(()=>{typeof window<"u"&&window.speechSynthesis&&window.speechSynthesis.getVoices()},[]),P.useEffect(()=>()=>{typeof window<"u"&&window.speechSynthesis&&(l.current&&(l.current.onend=null,l.current.onerror=null,l.current.onstart=null),window.speechSynthesis.cancel())},[]);const o=P.useCallback((f,m)=>new Promise((h,y)=>{if(!f||typeof window>"u"||!window.speechSynthesis)return h();const p=()=>{const C=window.speechSynthesis.getVoices();let _;const M=m.split("-")[0];m==="en-US"&&(_=C.find(q=>q.name==="Samantha"&&q.lang==="en-US")),_||(_=C.find(q=>q.lang===m)),_||(_=C.find(q=>q.lang.startsWith(M))),window.speechSynthesis.cancel();const D=new SpeechSynthesisUtterance(f);l.current=D,D.lang=m,_?D.voice=_:console.warn(`No specific voice found for lang '${m}'. Attempting to use browser default.`),D.onstart=()=>e(!0),D.onend=()=>{l.current=null,e(!1),h()},D.onerror=q=>{l.current=null,e(!1),q.error==="canceled"||q.error==="interrupted"?y(new Ll("Speech was cancelled")):(console.error("SpeechSynthesisUtterance.onerror",q),y(new Error(`Speech synthesis error: ${q.error}`)))},window.speechSynthesis.speak(D)};window.speechSynthesis.getVoices().length===0&&"onvoiceschanged"in window.speechSynthesis?window.speechSynthesis.addEventListener("voiceschanged",p,{once:!0}):p()}),[]),s=P.useCallback(()=>{typeof window<"u"&&window.speechSynthesis&&(window.speechSynthesis.cancel(),e(!1))},[]);return{speak:o,stop:s,isSpeaking:n}},Ko=({className:n="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),hc=({className:n="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),oc=n=>{const e=[...n];for(let l=e.length-1;l>0;l--){const o=Math.floor(Math.random()*(l+1));[e[l],e[o]]=[e[o],e[l]]}return e},xx=({level:n,onGoHome:e})=>{const[l,o]=P.useState(Ii.Business),[s,f]=P.useState([]),[m,h]=P.useState(0),[y,p]=P.useState(!1),[x,C]=P.useState(null),[_,M]=P.useState("listening"),[D,q]=P.useState("word"),[B,Z]=P.useState(""),[z,Y]=P.useState("idle"),[X,$]=P.useState("all"),[ae,ne]=P.useState("Random"),[J,j]=P.useState(),[oe,le]=P.useState([]),[re,Me]=P.useState(null),[Re,ge]=P.useState(new Set),[E,H]=P.useState(new Set),[ie,R]=P.useState("db"),[b,V]=P.useState(null),Q=P.useRef(null),{speak:K,stop:W,isSpeaking:ce}=Rs(),ee=P.useMemo(()=>s[m],[s,m]),Xe=P.useCallback(async()=>{p(!0),C(null),f([]),h(0),Z(""),Y("idle"),le([]),Me(null);try{const se=await ox(n,l,D,X,ae,30,J);se.length<4&&(_==="en-jp-quiz"||_==="jp-en-quiz")?(C("Not enough vocabulary for a quiz. Need at least 4 items. Try changing filters or adding more words."),f([])):se.length===0?(C("No vocabulary found for this selection. Try changing the category or filters, or wait for the database to populate more words."),f([])):f(se)}catch(se){C("An error occurred while fetching vocabulary from the local database."),console.error(se)}finally{p(!1)}},[n,l,D,X,ae,_,J]);P.useEffect(()=>{ie==="db"&&Xe()},[Xe,ie]),P.useEffect(()=>{if((_==="en-jp-quiz"||_==="jp-en-quiz")&&ee&&s.length>=4){const se=s.filter(Fe=>Fe.id!==ee.id),He=oc(se).slice(0,3),bt=oc([ee,...He]);le(bt)}Me(null),Y("idle")},[m,ee,_,s]);const qe=P.useCallback(()=>{W(),ie==="file"?s.length>0&&h(se=>(se+1)%s.length):m<s.length-1?h(se=>se+1):Xe(),Z(""),Y("idle")},[m,s.length,Xe,W,ie]),nn=P.useCallback(async()=>{if(ee)try{await K(ee.english,"en-US"),await new Promise(se=>setTimeout(se,500)),await K(ee.japanese,"ja-JP"),await new Promise(se=>setTimeout(se,500)),await K(ee.example_en,"en-US"),await new Promise(se=>setTimeout(se,500)),await K(ee.example_jp,"ja-JP")}catch(se){se instanceof Ll?console.log("Speech sequence cancelled."):console.error("Speech error:",se)}},[ee,K]),Jl=async()=>{if(!ee)return;const se=B.trim().toLowerCase()===ee.english.toLowerCase();if(Y(se?"correct":"incorrect"),se){mn(ee.id,!0);try{await K("Correct!","en-US"),setTimeout(qe,1500)}catch(He){console.error(He)}}else{mn(ee.id,!1);try{await K("Try again.","en-US")}catch(He){console.error(He)}}},Oi=se=>{se.preventDefault(),Jl()},Yl=se=>{if(z!=="idle")return;Me(se);const He=se.id===ee.id;Y(He?"correct":"incorrect"),mn(ee.id,He)},mn=(se,He)=>{ge(bt=>{const Fe=new Set(bt);return He?Fe.add(se):Fe.delete(se),Fe}),H(bt=>{const Fe=new Set(bt);return He?Fe.delete(se):Fe.add(se),Fe})},Zl=()=>{const se=s.filter(Vn=>E.has(Vn.id));if(se.length===0){alert("No items marked for review in this session.");return}const He=JSON.stringify({vocabulary:se},null,2),bt="data:application/json;charset=utf-8,"+encodeURIComponent(He),Fe="toeic_review_list.json",hn=document.createElement("a");hn.setAttribute("href",bt),hn.setAttribute("download",Fe),hn.click()},Ls=se=>{var Fe;const He=(Fe=se.target.files)==null?void 0:Fe[0];if(!He)return;const bt=new FileReader;bt.onload=async hn=>{var Vn;try{const ht=(Vn=hn.target)==null?void 0:Vn.result;if(typeof ht!="string")throw new Error("File could not be read");const lt=JSON.parse(ht);if(!lt.vocabulary||!Array.isArray(lt.vocabulary)||lt.vocabulary.length===0){alert('Invalid JSON format or empty list. Expected an object with a non-empty "vocabulary" array.');return}const Ot=lt.vocabulary[0];if(!Ot.english||!Ot.japanese||!Ot.example_en){alert("The items in the vocabulary list seem to be in the wrong format.");return}W(),f(oc(lt.vocabulary)),R("file"),V(He.name),h(0),Z(""),Y("idle"),C(null),ge(new Set),H(new Set)}catch(ht){console.error("Error importing review list:",ht),alert("Failed to import review list. Please check the file format and console for errors.")}finally{se.target&&(se.target.value="")}},bt.readAsText(He)},Vs=()=>{R("db"),V(null),f([]),p(!0)},Gt=()=>{if(!ee||oe.length===0)return v.jsx(Tt,{});const se=_==="en-jp-quiz",He=se?ee.english:ee.japanese,bt=Fe=>se?Fe.japanese:Fe.english;return v.jsxs("div",{className:"w-full bg-white p-6 rounded-2xl shadow-xl transition-all duration-500",children:[v.jsxs("p",{className:"text-right text-slate-500 mb-4",children:[m+1," / ",s.length]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:se?"What is the Japanese meaning of:":"What is the English word/idiom for:"}),v.jsx("h2",{className:"text-3xl font-bold mb-6",children:He})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:oe.map(Fe=>{const hn=(re==null?void 0:re.id)===Fe.id,Vn=Fe.id===ee.id;let ht="w-full text-left p-4 rounded-lg border-2 transition text-base ";return z!=="idle"?Vn?ht+="bg-green-100 border-green-500 text-green-900 font-bold":hn?ht+="bg-red-100 border-red-500 text-red-900 font-bold":ht+="bg-slate-50 border-slate-200 text-slate-600":ht+="bg-white border-slate-300 hover:bg-blue-50 hover:border-blue-400",v.jsx("button",{onClick:()=>Yl(Fe),className:ht,disabled:z!=="idle",children:bt(Fe)},Fe.id)})}),z!=="idle"&&v.jsxs("div",{className:"mt-4 text-center p-4 rounded-lg bg-slate-50",children:[v.jsx("p",{className:"text-lg font-bold",children:ee.english}),v.jsx("p",{className:"text-md text-slate-600",children:ee.japanese}),v.jsxs("div",{className:"mt-3 flex justify-center gap-4",children:[v.jsx("button",{onClick:()=>mn(ee.id,!0),className:`px-3 py-1 text-sm rounded-full ${Re.has(ee.id)?"bg-green-600 text-white":"bg-green-200 text-green-800"}`,children:"I know this 👍"}),v.jsx("button",{onClick:()=>mn(ee.id,!1),className:`px-3 py-1 text-sm rounded-full ${E.has(ee.id)?"bg-red-600 text-white":"bg-red-200 text-red-800"}`,children:"Needs review 👎"})]})]})]})},Ps=()=>y?v.jsx(Tt,{}):x?v.jsxs("div",{className:"text-center p-8 bg-yellow-100 border border-yellow-300 rounded-lg",children:[v.jsx("p",{className:"text-yellow-800 font-semibold",children:"Heads up!"}),v.jsx("p",{className:"text-yellow-700 mt-2",children:x}),v.jsx("button",{onClick:e,className:"mt-4 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition",children:"← Back to Home"})]}):ee?_==="en-jp-quiz"||_==="jp-en-quiz"?v.jsxs("div",{className:"w-full flex flex-col items-center",children:[Gt(),v.jsxs("button",{onClick:qe,className:"mt-8 flex items-center gap-2 text-slate-600 font-semibold py-3 px-6 rounded-lg hover:bg-slate-200 transition",children:[ie==="file"?"Next Word":"Next Word/Batch"," ",v.jsx(hc,{})]})]}):v.jsxs("div",{className:"w-full flex flex-col items-center",children:[v.jsxs("div",{className:"w-full bg-white p-8 rounded-2xl shadow-xl transition-all duration-500",children:[v.jsxs("div",{className:"flex justify-between items-baseline mb-4",children:[v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx("span",{className:`capitalize text-sm font-semibold py-1 px-3 rounded-full ${ee.type==="idiom"?"bg-purple-200 text-purple-800":"bg-green-200 text-green-800"}`,children:ee.type}),ee.pos&&v.jsx("span",{className:"capitalize text-sm font-semibold py-1 px-3 rounded-full bg-blue-200 text-blue-800",children:ee.pos.toLowerCase()})]}),v.jsxs("p",{className:"text-center text-slate-500",children:[m+1," / ",s.length]}),v.jsx("div",{})]}),_==="listening"?v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-4xl font-bold mb-2",children:ee.english}),v.jsx("p",{className:"text-2xl text-slate-600 mb-6",children:ee.japanese}),v.jsxs("p",{className:"text-xl text-slate-800 mb-2",children:['"',ee.example_en,'"']}),v.jsx("p",{className:"text-lg text-slate-500 mb-8",children:ee.example_jp}),v.jsx("button",{onClick:()=>nn(),disabled:ce,className:"bg-blue-500 text-white rounded-full p-4 hover:bg-blue-600 transition disabled:bg-slate-300",children:v.jsx(Ko,{className:"w-8 h-8"})})]}):v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-2xl text-slate-600 mb-4",children:ee.japanese}),v.jsx("p",{className:"text-lg text-slate-500 mb-6",children:ee.example_jp}),v.jsxs("button",{onClick:()=>K(ee.example_en,"en-US").catch(se=>{se instanceof Ll||console.error("Speech error:",se)}),disabled:ce,className:"mb-4 text-blue-500 hover:text-blue-700 flex items-center gap-2 mx-auto disabled:text-slate-400",children:[v.jsx(Ko,{className:"w-5 h-5"})," Hear Example"]}),v.jsxs("form",{onSubmit:Oi,className:"flex flex-col items-center gap-4",children:[v.jsx("input",{type:"text",value:B,onChange:se=>Z(se.target.value),className:`w-full max-w-md p-4 border-2 rounded-lg text-lg text-center transition ${z==="correct"?"border-green-500 bg-green-50":z==="incorrect"?"border-red-500 bg-red-50":"border-slate-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"Type the English word/idiom"}),v.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-blue-700 transition",children:"Check"})]}),z==="incorrect"&&v.jsx("button",{onClick:()=>Z(ee.english),className:"mt-4 text-sm text-slate-500 hover:text-slate-700",children:"Show Answer"})]})]}),v.jsxs("button",{onClick:qe,className:"mt-8 flex items-center gap-2 text-slate-600 font-semibold py-3 px-6 rounded-lg hover:bg-slate-200 transition",children:[ie==="file"?"Next Word":"Next Word/Batch"," ",v.jsx(hc,{})]})]}):ie==="file"?v.jsxs("div",{className:"text-center p-8 bg-blue-100 border border-blue-300 rounded-lg",children:[v.jsx("p",{className:"text-blue-800 font-semibold",children:"Review list loaded!"}),v.jsx("p",{className:"text-blue-700 mt-2",children:"Ready to start your focused review session."})]}):v.jsx("p",{className:"text-center text-slate-500",children:"No vocabulary loaded."}),fi=({mode:se,children:He})=>v.jsx("button",{onClick:()=>M(se),className:`px-3 py-2 text-sm font-semibold rounded-lg transition ${_===se?"bg-blue-600 text-white shadow-md":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:He});return v.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Vocabulary Mode"}),v.jsx("div",{})]}),v.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md flex flex-col gap-4",children:[ie==="file"&&v.jsxs("div",{className:"p-3 bg-indigo-50 border border-indigo-200 rounded-lg flex flex-col sm:flex-row justify-between items-center gap-2",children:[v.jsxs("div",{className:"text-sm text-indigo-800 text-center sm:text-left",children:[v.jsx("p",{children:v.jsx("strong",{children:"Review Session Active:"})}),v.jsx("p",{className:"font-medium break-all",children:b})]}),v.jsx("button",{onClick:Vs,className:"bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-indigo-600 transition text-sm whitespace-nowrap",children:"← Return to Standard Mode"})]}),v.jsx("fieldset",{disabled:ie==="file"||y,className:"flex flex-col gap-4",children:v.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Category:"}),v.jsx("select",{value:l,onChange:se=>o(se.target.value),className:"p-2 border rounded-md bg-slate-50 w-full disabled:opacity-70 disabled:cursor-not-allowed",children:Dt.map(se=>v.jsx("option",{value:se,children:se},se))})]}),v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Practice:"}),v.jsxs("select",{value:D,onChange:se=>q(se.target.value),className:"p-2 border rounded-md bg-slate-50 w-full disabled:opacity-70 disabled:cursor-not-allowed",children:[v.jsx("option",{value:"word",children:"Words"}),v.jsx("option",{value:"idiom",children:"Idioms"}),v.jsx("option",{value:"all",children:"All"})]})]}),v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Order:"}),v.jsxs("select",{value:ae,onChange:se=>ne(se.target.value),className:"p-2 border rounded-md bg-slate-50 w-full disabled:opacity-70 disabled:cursor-not-allowed",children:[v.jsx("option",{value:"Random",children:"Random"}),v.jsx("option",{value:"Alphabetical",children:"Alphabetical"})]})]}),D==="word"&&v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Part of Speech:"}),v.jsxs("select",{value:X,onChange:se=>$(se.target.value),className:"p-2 border rounded-md bg-slate-50 w-full disabled:opacity-70 disabled:cursor-not-allowed",children:[v.jsx("option",{value:"all",children:"All"}),Ul.map(se=>v.jsx("option",{value:se,children:se},se))]})]}),v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Frequency:"}),v.jsxs("select",{value:J||"",onChange:se=>j(se.target.value?Number(se.target.value):void 0),className:"p-2 border rounded-md bg-slate-50 w-full disabled:opacity-70 disabled:cursor-not-allowed",children:[v.jsx("option",{value:"",children:"All"}),v.jsx("option",{value:"3",children:"High (★★★)"}),v.jsx("option",{value:"2",children:"Medium (★★☆)"}),v.jsx("option",{value:"1",children:"Low (★☆☆)"})]})]})]})}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Mode:"}),v.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:[v.jsx(fi,{mode:"listening",children:"Listening"}),v.jsx(fi,{mode:"writing",children:"Writing"}),v.jsx(fi,{mode:"en-jp-quiz",children:"EN → JP Quiz"}),v.jsx(fi,{mode:"jp-en-quiz",children:"JP → EN Quiz"})]})]}),(_==="en-jp-quiz"||_==="jp-en-quiz")&&v.jsxs("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg flex flex-col sm:flex-row justify-between items-center gap-2",children:[v.jsxs("div",{className:"text-sm text-blue-800",children:[v.jsx("p",{children:v.jsx("strong",{children:"Session Stats:"})}),v.jsxs("p",{children:["Learned: ",v.jsx("span",{className:"font-bold",children:Re.size})," | For Review: ",v.jsx("span",{className:"font-bold",children:E.size})]})]}),v.jsx("button",{onClick:Zl,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition text-sm whitespace-nowrap",disabled:E.size===0,children:"Export Review List"})]}),v.jsxs("div",{className:"border-t border-slate-200 mt-2 pt-4",children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Or, start a focused review session:"}),v.jsx("input",{type:"file",ref:Q,onChange:Ls,className:"hidden",accept:".json"}),v.jsx("button",{onClick:()=>{var se;return(se=Q.current)==null?void 0:se.click()},className:"w-full bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 transition disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:ie==="file"||y,children:"Upload Review List (.json)"})]})]}),Ps()]})};var Ue;(function(n){n.assertEqual=s=>{};function e(s){}n.assertIs=e;function l(s){throw new Error}n.assertNever=l,n.arrayToEnum=s=>{const f={};for(const m of s)f[m]=m;return f},n.getValidEnumValues=s=>{const f=n.objectKeys(s).filter(h=>typeof s[s[h]]!="number"),m={};for(const h of f)m[h]=s[h];return n.objectValues(m)},n.objectValues=s=>n.objectKeys(s).map(function(f){return s[f]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const f=[];for(const m in s)Object.prototype.hasOwnProperty.call(s,m)&&f.push(m);return f},n.find=(s,f)=>{for(const m of s)if(f(m))return m},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function o(s,f=" | "){return s.map(m=>typeof m=="string"?`'${m}'`:m).join(f)}n.joinValues=o,n.jsonStringifyReplacer=(s,f)=>typeof f=="bigint"?f.toString():f})(Ue||(Ue={}));var $h;(function(n){n.mergeShapes=(e,l)=>({...e,...l})})($h||($h={}));const de=Ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ai=n=>{switch(typeof n){case"undefined":return de.undefined;case"string":return de.string;case"number":return Number.isNaN(n)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(n)?de.array:n===null?de.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?de.promise:typeof Map<"u"&&n instanceof Map?de.map:typeof Set<"u"&&n instanceof Set?de.set:typeof Date<"u"&&n instanceof Date?de.date:de.object;default:return de.unknown}},te=Ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Rn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const l=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,l):this.__proto__=l,this.name="ZodError",this.issues=e}format(e){const l=e||function(f){return f.message},o={_errors:[]},s=f=>{for(const m of f.issues)if(m.code==="invalid_union")m.unionErrors.map(s);else if(m.code==="invalid_return_type")s(m.returnTypeError);else if(m.code==="invalid_arguments")s(m.argumentsError);else if(m.path.length===0)o._errors.push(l(m));else{let h=o,y=0;for(;y<m.path.length;){const p=m.path[y];y===m.path.length-1?(h[p]=h[p]||{_errors:[]},h[p]._errors.push(l(m))):h[p]=h[p]||{_errors:[]},h=h[p],y++}}};return s(this),o}static assert(e){if(!(e instanceof Rn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=l=>l.message){const l={},o=[];for(const s of this.issues)if(s.path.length>0){const f=s.path[0];l[f]=l[f]||[],l[f].push(e(s))}else o.push(e(s));return{formErrors:o,fieldErrors:l}}get formErrors(){return this.flatten()}}Rn.create=n=>new Rn(n);const pc=(n,e)=>{let l;switch(n.code){case te.invalid_type:n.received===de.undefined?l="Required":l=`Expected ${n.expected}, received ${n.received}`;break;case te.invalid_literal:l=`Invalid literal value, expected ${JSON.stringify(n.expected,Ue.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:l=`Unrecognized key(s) in object: ${Ue.joinValues(n.keys,", ")}`;break;case te.invalid_union:l="Invalid input";break;case te.invalid_union_discriminator:l=`Invalid discriminator value. Expected ${Ue.joinValues(n.options)}`;break;case te.invalid_enum_value:l=`Invalid enum value. Expected ${Ue.joinValues(n.options)}, received '${n.received}'`;break;case te.invalid_arguments:l="Invalid function arguments";break;case te.invalid_return_type:l="Invalid function return type";break;case te.invalid_date:l="Invalid date";break;case te.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(l=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(l=`${l} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?l=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?l=`Invalid input: must end with "${n.validation.endsWith}"`:Ue.assertNever(n.validation):n.validation!=="regex"?l=`Invalid ${n.validation}`:l="Invalid";break;case te.too_small:n.type==="array"?l=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?l=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?l=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?l=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?l=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:l="Invalid input";break;case te.too_big:n.type==="array"?l=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?l=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?l=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?l=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?l=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:l="Invalid input";break;case te.custom:l="Invalid input";break;case te.invalid_intersection_types:l="Intersection results could not be merged";break;case te.not_multiple_of:l=`Number must be a multiple of ${n.multipleOf}`;break;case te.not_finite:l="Number must be finite";break;default:l=e.defaultError,Ue.assertNever(n)}return{message:l}};let Tx=pc;function Cx(){return Tx}const Sx=n=>{const{data:e,path:l,errorMaps:o,issueData:s}=n,f=[...l,...s.path||[]],m={...s,path:f};if(s.message!==void 0)return{...s,path:f,message:s.message};let h="";const y=o.filter(p=>!!p).slice().reverse();for(const p of y)h=p(m,{data:e,defaultError:h}).message;return{...s,path:f,message:h}};function ue(n,e){const l=Cx(),o=Sx({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,l,l===pc?void 0:pc].filter(s=>!!s)});n.common.issues.push(o)}class _t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,l){const o=[];for(const s of l){if(s.status==="aborted")return Ce;s.status==="dirty"&&e.dirty(),o.push(s.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,l){const o=[];for(const s of l){const f=await s.key,m=await s.value;o.push({key:f,value:m})}return _t.mergeObjectSync(e,o)}static mergeObjectSync(e,l){const o={};for(const s of l){const{key:f,value:m}=s;if(f.status==="aborted"||m.status==="aborted")return Ce;f.status==="dirty"&&e.dirty(),m.status==="dirty"&&e.dirty(),f.value!=="__proto__"&&(typeof m.value<"u"||s.alwaysSet)&&(o[f.value]=m.value)}return{status:e.value,value:o}}}const Ce=Object.freeze({status:"aborted"}),$o=n=>({status:"dirty",value:n}),Xt=n=>({status:"valid",value:n}),jh=n=>n.status==="aborted",Qh=n=>n.status==="dirty",Vl=n=>n.status==="valid",Cs=n=>typeof Promise<"u"&&n instanceof Promise;var me;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(me||(me={}));class dn{constructor(e,l,o,s){this._cachedPath=[],this.parent=e,this.data=l,this._path=o,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Kh=(n,e)=>{if(Vl(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const l=new Rn(n.common.issues);return this._error=l,this._error}}};function _e(n){if(!n)return{};const{errorMap:e,invalid_type_error:l,required_error:o,description:s}=n;if(e&&(l||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(m,h)=>{const{message:y}=n;return m.code==="invalid_enum_value"?{message:y??h.defaultError}:typeof h.data>"u"?{message:y??o??h.defaultError}:m.code!=="invalid_type"?{message:h.defaultError}:{message:y??l??h.defaultError}},description:s}}class Ne{get description(){return this._def.description}_getType(e){return ai(e.data)}_getOrReturnCtx(e,l){return l||{common:e.parent.common,data:e.data,parsedType:ai(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new _t,ctx:{common:e.parent.common,data:e.data,parsedType:ai(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const l=this._parse(e);if(Cs(l))throw new Error("Synchronous parse encountered promise.");return l}_parseAsync(e){const l=this._parse(e);return Promise.resolve(l)}parse(e,l){const o=this.safeParse(e,l);if(o.success)return o.data;throw o.error}safeParse(e,l){const o={common:{issues:[],async:(l==null?void 0:l.async)??!1,contextualErrorMap:l==null?void 0:l.errorMap},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ai(e)},s=this._parseSync({data:e,path:o.path,parent:o});return Kh(o,s)}"~validate"(e){var o,s;const l={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ai(e)};if(!this["~standard"].async)try{const f=this._parseSync({data:e,path:[],parent:l});return Vl(f)?{value:f.value}:{issues:l.common.issues}}catch(f){(s=(o=f==null?void 0:f.message)==null?void 0:o.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),l.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:l}).then(f=>Vl(f)?{value:f.value}:{issues:l.common.issues})}async parseAsync(e,l){const o=await this.safeParseAsync(e,l);if(o.success)return o.data;throw o.error}async safeParseAsync(e,l){const o={common:{issues:[],contextualErrorMap:l==null?void 0:l.errorMap,async:!0},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ai(e)},s=this._parse({data:e,path:o.path,parent:o}),f=await(Cs(s)?s:Promise.resolve(s));return Kh(o,f)}refine(e,l){const o=s=>typeof l=="string"||typeof l>"u"?{message:l}:typeof l=="function"?l(s):l;return this._refinement((s,f)=>{const m=e(s),h=()=>f.addIssue({code:te.custom,...o(s)});return typeof Promise<"u"&&m instanceof Promise?m.then(y=>y?!0:(h(),!1)):m?!0:(h(),!1)})}refinement(e,l){return this._refinement((o,s)=>e(o)?!0:(s.addIssue(typeof l=="function"?l(o,s):l),!1))}_refinement(e){return new Bl({schema:this,typeName:Te.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:l=>this["~validate"](l)}}optional(){return si.create(this,this._def)}nullable(){return Gl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fn.create(this)}promise(){return As.create(this,this._def)}or(e){return _s.create([this,e],this._def)}and(e){return bs.create(this,e,this._def)}transform(e){return new Bl({..._e(this._def),schema:this,typeName:Te.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const l=typeof e=="function"?e:()=>e;return new xc({..._e(this._def),innerType:this,defaultValue:l,typeName:Te.ZodDefault})}brand(){return new Jx({typeName:Te.ZodBranded,type:this,..._e(this._def)})}catch(e){const l=typeof e=="function"?e:()=>e;return new Tc({..._e(this._def),innerType:this,catchValue:l,typeName:Te.ZodCatch})}describe(e){const l=this.constructor;return new l({...this._def,description:e})}pipe(e){return kc.create(this,e)}readonly(){return Cc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _x=/^c[^\s-]{8,}$/i,bx=/^[0-9a-z]+$/,Ex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ax=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,wx=/^[a-z0-9_-]{21}$/i,Mx=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Nx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Rx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Dx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ac;const Ix=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ux=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Lx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Vx=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Px=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ug="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qx=new RegExp(`^${Ug}$`);function kg(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const l=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${l}`}function Bx(n){return new RegExp(`^${kg(n)}$`)}function Gx(n){let e=`${Ug}T${kg(n)}`;const l=[];return l.push(n.local?"Z?":"Z"),n.offset&&l.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${l.join("|")})`,new RegExp(`^${e}$`)}function Ox(n,e){return!!((e==="v4"||!e)&&Ix.test(n)||(e==="v6"||!e)&&kx.test(n))}function zx(n,e){if(!Mx.test(n))return!1;try{const[l]=n.split(".");if(!l)return!1;const o=l.replace(/-/g,"+").replace(/_/g,"/").padEnd(l.length+(4-l.length%4)%4,"="),s=JSON.parse(atob(o));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Hx(n,e){return!!((e==="v4"||!e)&&Ux.test(n)||(e==="v6"||!e)&&Lx.test(n))}class un extends Ne{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==de.string){const f=this._getOrReturnCtx(e);return ue(f,{code:te.invalid_type,expected:de.string,received:f.parsedType}),Ce}const o=new _t;let s;for(const f of this._def.checks)if(f.kind==="min")e.data.length<f.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:te.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),o.dirty());else if(f.kind==="max")e.data.length>f.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:te.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),o.dirty());else if(f.kind==="length"){const m=e.data.length>f.value,h=e.data.length<f.value;(m||h)&&(s=this._getOrReturnCtx(e,s),m?ue(s,{code:te.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}):h&&ue(s,{code:te.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}),o.dirty())}else if(f.kind==="email")Rx.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"email",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="emoji")ac||(ac=new RegExp(Dx,"u")),ac.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"emoji",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="uuid")Ax.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"uuid",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="nanoid")wx.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"nanoid",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="cuid")_x.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cuid",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="cuid2")bx.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cuid2",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="ulid")Ex.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"ulid",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ue(s,{validation:"url",code:te.invalid_string,message:f.message}),o.dirty()}else f.kind==="regex"?(f.regex.lastIndex=0,f.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"regex",code:te.invalid_string,message:f.message}),o.dirty())):f.kind==="trim"?e.data=e.data.trim():f.kind==="includes"?e.data.includes(f.value,f.position)||(s=this._getOrReturnCtx(e,s),ue(s,{code:te.invalid_string,validation:{includes:f.value,position:f.position},message:f.message}),o.dirty()):f.kind==="toLowerCase"?e.data=e.data.toLowerCase():f.kind==="toUpperCase"?e.data=e.data.toUpperCase():f.kind==="startsWith"?e.data.startsWith(f.value)||(s=this._getOrReturnCtx(e,s),ue(s,{code:te.invalid_string,validation:{startsWith:f.value},message:f.message}),o.dirty()):f.kind==="endsWith"?e.data.endsWith(f.value)||(s=this._getOrReturnCtx(e,s),ue(s,{code:te.invalid_string,validation:{endsWith:f.value},message:f.message}),o.dirty()):f.kind==="datetime"?Gx(f).test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:te.invalid_string,validation:"datetime",message:f.message}),o.dirty()):f.kind==="date"?qx.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:te.invalid_string,validation:"date",message:f.message}),o.dirty()):f.kind==="time"?Bx(f).test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:te.invalid_string,validation:"time",message:f.message}),o.dirty()):f.kind==="duration"?Nx.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"duration",code:te.invalid_string,message:f.message}),o.dirty()):f.kind==="ip"?Ox(e.data,f.version)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"ip",code:te.invalid_string,message:f.message}),o.dirty()):f.kind==="jwt"?zx(e.data,f.alg)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"jwt",code:te.invalid_string,message:f.message}),o.dirty()):f.kind==="cidr"?Hx(e.data,f.version)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cidr",code:te.invalid_string,message:f.message}),o.dirty()):f.kind==="base64"?Vx.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"base64",code:te.invalid_string,message:f.message}),o.dirty()):f.kind==="base64url"?Px.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"base64url",code:te.invalid_string,message:f.message}),o.dirty()):Ue.assertNever(f);return{status:o.value,value:e.data}}_regex(e,l,o){return this.refinement(s=>e.test(s),{validation:l,code:te.invalid_string,...me.errToObj(o)})}_addCheck(e){return new un({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...me.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...me.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...me.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...me.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...me.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...me.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...me.errToObj(e)})}regex(e,l){return this._addCheck({kind:"regex",regex:e,...me.errToObj(l)})}includes(e,l){return this._addCheck({kind:"includes",value:e,position:l==null?void 0:l.position,...me.errToObj(l==null?void 0:l.message)})}startsWith(e,l){return this._addCheck({kind:"startsWith",value:e,...me.errToObj(l)})}endsWith(e,l){return this._addCheck({kind:"endsWith",value:e,...me.errToObj(l)})}min(e,l){return this._addCheck({kind:"min",value:e,...me.errToObj(l)})}max(e,l){return this._addCheck({kind:"max",value:e,...me.errToObj(l)})}length(e,l){return this._addCheck({kind:"length",value:e,...me.errToObj(l)})}nonempty(e){return this.min(1,me.errToObj(e))}trim(){return new un({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new un({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new un({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxLength(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}}un.create=n=>new un({checks:[],typeName:Te.ZodString,coerce:(n==null?void 0:n.coerce)??!1,..._e(n)});function Fx(n,e){const l=(n.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,s=l>o?l:o,f=Number.parseInt(n.toFixed(s).replace(".","")),m=Number.parseInt(e.toFixed(s).replace(".",""));return f%m/10**s}class Vi extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==de.number){const f=this._getOrReturnCtx(e);return ue(f,{code:te.invalid_type,expected:de.number,received:f.parsedType}),Ce}let o;const s=new _t;for(const f of this._def.checks)f.kind==="int"?Ue.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{code:te.invalid_type,expected:"integer",received:"float",message:f.message}),s.dirty()):f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(o=this._getOrReturnCtx(e,o),ue(o,{code:te.too_small,minimum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),s.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(o=this._getOrReturnCtx(e,o),ue(o,{code:te.too_big,maximum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),s.dirty()):f.kind==="multipleOf"?Fx(e.data,f.value)!==0&&(o=this._getOrReturnCtx(e,o),ue(o,{code:te.not_multiple_of,multipleOf:f.value,message:f.message}),s.dirty()):f.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{code:te.not_finite,message:f.message}),s.dirty()):Ue.assertNever(f);return{status:s.value,value:e.data}}gte(e,l){return this.setLimit("min",e,!0,me.toString(l))}gt(e,l){return this.setLimit("min",e,!1,me.toString(l))}lte(e,l){return this.setLimit("max",e,!0,me.toString(l))}lt(e,l){return this.setLimit("max",e,!1,me.toString(l))}setLimit(e,l,o,s){return new Vi({...this._def,checks:[...this._def.checks,{kind:e,value:l,inclusive:o,message:me.toString(s)}]})}_addCheck(e){return new Vi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(e)})}multipleOf(e,l){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(l)})}finite(e){return this._addCheck({kind:"finite",message:me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(e)})}get minValue(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxValue(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ue.isInteger(e.value))}get isFinite(){let e=null,l=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(l===null||o.value>l)&&(l=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(l)&&Number.isFinite(e)}}Vi.create=n=>new Vi({checks:[],typeName:Te.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,..._e(n)});class Pi extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==de.bigint)return this._getInvalidInput(e);let o;const s=new _t;for(const f of this._def.checks)f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(o=this._getOrReturnCtx(e,o),ue(o,{code:te.too_small,type:"bigint",minimum:f.value,inclusive:f.inclusive,message:f.message}),s.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(o=this._getOrReturnCtx(e,o),ue(o,{code:te.too_big,type:"bigint",maximum:f.value,inclusive:f.inclusive,message:f.message}),s.dirty()):f.kind==="multipleOf"?e.data%f.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),ue(o,{code:te.not_multiple_of,multipleOf:f.value,message:f.message}),s.dirty()):Ue.assertNever(f);return{status:s.value,value:e.data}}_getInvalidInput(e){const l=this._getOrReturnCtx(e);return ue(l,{code:te.invalid_type,expected:de.bigint,received:l.parsedType}),Ce}gte(e,l){return this.setLimit("min",e,!0,me.toString(l))}gt(e,l){return this.setLimit("min",e,!1,me.toString(l))}lte(e,l){return this.setLimit("max",e,!0,me.toString(l))}lt(e,l){return this.setLimit("max",e,!1,me.toString(l))}setLimit(e,l,o,s){return new Pi({...this._def,checks:[...this._def.checks,{kind:e,value:l,inclusive:o,message:me.toString(s)}]})}_addCheck(e){return new Pi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(e)})}multipleOf(e,l){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(l)})}get minValue(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxValue(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}}Pi.create=n=>new Pi({checks:[],typeName:Te.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,..._e(n)});class Ss extends Ne{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==de.boolean){const o=this._getOrReturnCtx(e);return ue(o,{code:te.invalid_type,expected:de.boolean,received:o.parsedType}),Ce}return Xt(e.data)}}Ss.create=n=>new Ss({typeName:Te.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,..._e(n)});class Pl extends Ne{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==de.date){const f=this._getOrReturnCtx(e);return ue(f,{code:te.invalid_type,expected:de.date,received:f.parsedType}),Ce}if(Number.isNaN(e.data.getTime())){const f=this._getOrReturnCtx(e);return ue(f,{code:te.invalid_date}),Ce}const o=new _t;let s;for(const f of this._def.checks)f.kind==="min"?e.data.getTime()<f.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:te.too_small,message:f.message,inclusive:!0,exact:!1,minimum:f.value,type:"date"}),o.dirty()):f.kind==="max"?e.data.getTime()>f.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:te.too_big,message:f.message,inclusive:!0,exact:!1,maximum:f.value,type:"date"}),o.dirty()):Ue.assertNever(f);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Pl({...this._def,checks:[...this._def.checks,e]})}min(e,l){return this._addCheck({kind:"min",value:e.getTime(),message:me.toString(l)})}max(e,l){return this._addCheck({kind:"max",value:e.getTime(),message:me.toString(l)})}get minDate(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e!=null?new Date(e):null}}Pl.create=n=>new Pl({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Te.ZodDate,..._e(n)});class Xh extends Ne{_parse(e){if(this._getType(e)!==de.symbol){const o=this._getOrReturnCtx(e);return ue(o,{code:te.invalid_type,expected:de.symbol,received:o.parsedType}),Ce}return Xt(e.data)}}Xh.create=n=>new Xh({typeName:Te.ZodSymbol,..._e(n)});class Wh extends Ne{_parse(e){if(this._getType(e)!==de.undefined){const o=this._getOrReturnCtx(e);return ue(o,{code:te.invalid_type,expected:de.undefined,received:o.parsedType}),Ce}return Xt(e.data)}}Wh.create=n=>new Wh({typeName:Te.ZodUndefined,..._e(n)});class ep extends Ne{_parse(e){if(this._getType(e)!==de.null){const o=this._getOrReturnCtx(e);return ue(o,{code:te.invalid_type,expected:de.null,received:o.parsedType}),Ce}return Xt(e.data)}}ep.create=n=>new ep({typeName:Te.ZodNull,..._e(n)});class tp extends Ne{constructor(){super(...arguments),this._any=!0}_parse(e){return Xt(e.data)}}tp.create=n=>new tp({typeName:Te.ZodAny,..._e(n)});class gc extends Ne{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Xt(e.data)}}gc.create=n=>new gc({typeName:Te.ZodUnknown,..._e(n)});class ri extends Ne{_parse(e){const l=this._getOrReturnCtx(e);return ue(l,{code:te.invalid_type,expected:de.never,received:l.parsedType}),Ce}}ri.create=n=>new ri({typeName:Te.ZodNever,..._e(n)});class np extends Ne{_parse(e){if(this._getType(e)!==de.undefined){const o=this._getOrReturnCtx(e);return ue(o,{code:te.invalid_type,expected:de.void,received:o.parsedType}),Ce}return Xt(e.data)}}np.create=n=>new np({typeName:Te.ZodVoid,..._e(n)});class fn extends Ne{_parse(e){const{ctx:l,status:o}=this._processInputParams(e),s=this._def;if(l.parsedType!==de.array)return ue(l,{code:te.invalid_type,expected:de.array,received:l.parsedType}),Ce;if(s.exactLength!==null){const m=l.data.length>s.exactLength.value,h=l.data.length<s.exactLength.value;(m||h)&&(ue(l,{code:m?te.too_big:te.too_small,minimum:h?s.exactLength.value:void 0,maximum:m?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),o.dirty())}if(s.minLength!==null&&l.data.length<s.minLength.value&&(ue(l,{code:te.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),o.dirty()),s.maxLength!==null&&l.data.length>s.maxLength.value&&(ue(l,{code:te.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),o.dirty()),l.common.async)return Promise.all([...l.data].map((m,h)=>s.type._parseAsync(new dn(l,m,l.path,h)))).then(m=>_t.mergeArray(o,m));const f=[...l.data].map((m,h)=>s.type._parseSync(new dn(l,m,l.path,h)));return _t.mergeArray(o,f)}get element(){return this._def.type}min(e,l){return new fn({...this._def,minLength:{value:e,message:me.toString(l)}})}max(e,l){return new fn({...this._def,maxLength:{value:e,message:me.toString(l)}})}length(e,l){return new fn({...this._def,exactLength:{value:e,message:me.toString(l)}})}nonempty(e){return this.min(1,e)}}fn.create=(n,e)=>new fn({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Te.ZodArray,..._e(e)});function Ml(n){if(n instanceof it){const e={};for(const l in n.shape){const o=n.shape[l];e[l]=si.create(Ml(o))}return new it({...n._def,shape:()=>e})}else return n instanceof fn?new fn({...n._def,type:Ml(n.element)}):n instanceof si?si.create(Ml(n.unwrap())):n instanceof Gl?Gl.create(Ml(n.unwrap())):n instanceof qi?qi.create(n.items.map(e=>Ml(e))):n}class it extends Ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),l=Ue.objectKeys(e);return this._cached={shape:e,keys:l},this._cached}_parse(e){if(this._getType(e)!==de.object){const p=this._getOrReturnCtx(e);return ue(p,{code:te.invalid_type,expected:de.object,received:p.parsedType}),Ce}const{status:o,ctx:s}=this._processInputParams(e),{shape:f,keys:m}=this._getCached(),h=[];if(!(this._def.catchall instanceof ri&&this._def.unknownKeys==="strip"))for(const p in s.data)m.includes(p)||h.push(p);const y=[];for(const p of m){const x=f[p],C=s.data[p];y.push({key:{status:"valid",value:p},value:x._parse(new dn(s,C,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof ri){const p=this._def.unknownKeys;if(p==="passthrough")for(const x of h)y.push({key:{status:"valid",value:x},value:{status:"valid",value:s.data[x]}});else if(p==="strict")h.length>0&&(ue(s,{code:te.unrecognized_keys,keys:h}),o.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const x of h){const C=s.data[x];y.push({key:{status:"valid",value:x},value:p._parse(new dn(s,C,s.path,x)),alwaysSet:x in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const p=[];for(const x of y){const C=await x.key,_=await x.value;p.push({key:C,value:_,alwaysSet:x.alwaysSet})}return p}).then(p=>_t.mergeObjectSync(o,p)):_t.mergeObjectSync(o,y)}get shape(){return this._def.shape()}strict(e){return me.errToObj,new it({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(l,o)=>{var f,m;const s=((m=(f=this._def).errorMap)==null?void 0:m.call(f,l,o).message)??o.defaultError;return l.code==="unrecognized_keys"?{message:me.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new it({...this._def,unknownKeys:"strip"})}passthrough(){return new it({...this._def,unknownKeys:"passthrough"})}extend(e){return new it({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new it({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Te.ZodObject})}setKey(e,l){return this.augment({[e]:l})}catchall(e){return new it({...this._def,catchall:e})}pick(e){const l={};for(const o of Ue.objectKeys(e))e[o]&&this.shape[o]&&(l[o]=this.shape[o]);return new it({...this._def,shape:()=>l})}omit(e){const l={};for(const o of Ue.objectKeys(this.shape))e[o]||(l[o]=this.shape[o]);return new it({...this._def,shape:()=>l})}deepPartial(){return Ml(this)}partial(e){const l={};for(const o of Ue.objectKeys(this.shape)){const s=this.shape[o];e&&!e[o]?l[o]=s:l[o]=s.optional()}return new it({...this._def,shape:()=>l})}required(e){const l={};for(const o of Ue.objectKeys(this.shape))if(e&&!e[o])l[o]=this.shape[o];else{let f=this.shape[o];for(;f instanceof si;)f=f._def.innerType;l[o]=f}return new it({...this._def,shape:()=>l})}keyof(){return Lg(Ue.objectKeys(this.shape))}}it.create=(n,e)=>new it({shape:()=>n,unknownKeys:"strip",catchall:ri.create(),typeName:Te.ZodObject,..._e(e)});it.strictCreate=(n,e)=>new it({shape:()=>n,unknownKeys:"strict",catchall:ri.create(),typeName:Te.ZodObject,..._e(e)});it.lazycreate=(n,e)=>new it({shape:n,unknownKeys:"strip",catchall:ri.create(),typeName:Te.ZodObject,..._e(e)});class _s extends Ne{_parse(e){const{ctx:l}=this._processInputParams(e),o=this._def.options;function s(f){for(const h of f)if(h.result.status==="valid")return h.result;for(const h of f)if(h.result.status==="dirty")return l.common.issues.push(...h.ctx.common.issues),h.result;const m=f.map(h=>new Rn(h.ctx.common.issues));return ue(l,{code:te.invalid_union,unionErrors:m}),Ce}if(l.common.async)return Promise.all(o.map(async f=>{const m={...l,common:{...l.common,issues:[]},parent:null};return{result:await f._parseAsync({data:l.data,path:l.path,parent:m}),ctx:m}})).then(s);{let f;const m=[];for(const y of o){const p={...l,common:{...l.common,issues:[]},parent:null},x=y._parseSync({data:l.data,path:l.path,parent:p});if(x.status==="valid")return x;x.status==="dirty"&&!f&&(f={result:x,ctx:p}),p.common.issues.length&&m.push(p.common.issues)}if(f)return l.common.issues.push(...f.ctx.common.issues),f.result;const h=m.map(y=>new Rn(y));return ue(l,{code:te.invalid_union,unionErrors:h}),Ce}}get options(){return this._def.options}}_s.create=(n,e)=>new _s({options:n,typeName:Te.ZodUnion,..._e(e)});function yc(n,e){const l=ai(n),o=ai(e);if(n===e)return{valid:!0,data:n};if(l===de.object&&o===de.object){const s=Ue.objectKeys(e),f=Ue.objectKeys(n).filter(h=>s.indexOf(h)!==-1),m={...n,...e};for(const h of f){const y=yc(n[h],e[h]);if(!y.valid)return{valid:!1};m[h]=y.data}return{valid:!0,data:m}}else if(l===de.array&&o===de.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let f=0;f<n.length;f++){const m=n[f],h=e[f],y=yc(m,h);if(!y.valid)return{valid:!1};s.push(y.data)}return{valid:!0,data:s}}else return l===de.date&&o===de.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class bs extends Ne{_parse(e){const{status:l,ctx:o}=this._processInputParams(e),s=(f,m)=>{if(jh(f)||jh(m))return Ce;const h=yc(f.value,m.value);return h.valid?((Qh(f)||Qh(m))&&l.dirty(),{status:l.value,value:h.data}):(ue(o,{code:te.invalid_intersection_types}),Ce)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([f,m])=>s(f,m)):s(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}bs.create=(n,e,l)=>new bs({left:n,right:e,typeName:Te.ZodIntersection,..._e(l)});class qi extends Ne{_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==de.array)return ue(o,{code:te.invalid_type,expected:de.array,received:o.parsedType}),Ce;if(o.data.length<this._def.items.length)return ue(o,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ce;!this._def.rest&&o.data.length>this._def.items.length&&(ue(o,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),l.dirty());const f=[...o.data].map((m,h)=>{const y=this._def.items[h]||this._def.rest;return y?y._parse(new dn(o,m,o.path,h)):null}).filter(m=>!!m);return o.common.async?Promise.all(f).then(m=>_t.mergeArray(l,m)):_t.mergeArray(l,f)}get items(){return this._def.items}rest(e){return new qi({...this._def,rest:e})}}qi.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qi({items:n,typeName:Te.ZodTuple,rest:null,..._e(e)})};class Es extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==de.object)return ue(o,{code:te.invalid_type,expected:de.object,received:o.parsedType}),Ce;const s=[],f=this._def.keyType,m=this._def.valueType;for(const h in o.data)s.push({key:f._parse(new dn(o,h,o.path,h)),value:m._parse(new dn(o,o.data[h],o.path,h)),alwaysSet:h in o.data});return o.common.async?_t.mergeObjectAsync(l,s):_t.mergeObjectSync(l,s)}get element(){return this._def.valueType}static create(e,l,o){return l instanceof Ne?new Es({keyType:e,valueType:l,typeName:Te.ZodRecord,..._e(o)}):new Es({keyType:un.create(),valueType:e,typeName:Te.ZodRecord,..._e(l)})}}class ip extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==de.map)return ue(o,{code:te.invalid_type,expected:de.map,received:o.parsedType}),Ce;const s=this._def.keyType,f=this._def.valueType,m=[...o.data.entries()].map(([h,y],p)=>({key:s._parse(new dn(o,h,o.path,[p,"key"])),value:f._parse(new dn(o,y,o.path,[p,"value"]))}));if(o.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const y of m){const p=await y.key,x=await y.value;if(p.status==="aborted"||x.status==="aborted")return Ce;(p.status==="dirty"||x.status==="dirty")&&l.dirty(),h.set(p.value,x.value)}return{status:l.value,value:h}})}else{const h=new Map;for(const y of m){const p=y.key,x=y.value;if(p.status==="aborted"||x.status==="aborted")return Ce;(p.status==="dirty"||x.status==="dirty")&&l.dirty(),h.set(p.value,x.value)}return{status:l.value,value:h}}}}ip.create=(n,e,l)=>new ip({valueType:e,keyType:n,typeName:Te.ZodMap,..._e(l)});class Xo extends Ne{_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==de.set)return ue(o,{code:te.invalid_type,expected:de.set,received:o.parsedType}),Ce;const s=this._def;s.minSize!==null&&o.data.size<s.minSize.value&&(ue(o,{code:te.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),l.dirty()),s.maxSize!==null&&o.data.size>s.maxSize.value&&(ue(o,{code:te.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),l.dirty());const f=this._def.valueType;function m(y){const p=new Set;for(const x of y){if(x.status==="aborted")return Ce;x.status==="dirty"&&l.dirty(),p.add(x.value)}return{status:l.value,value:p}}const h=[...o.data.values()].map((y,p)=>f._parse(new dn(o,y,o.path,p)));return o.common.async?Promise.all(h).then(y=>m(y)):m(h)}min(e,l){return new Xo({...this._def,minSize:{value:e,message:me.toString(l)}})}max(e,l){return new Xo({...this._def,maxSize:{value:e,message:me.toString(l)}})}size(e,l){return this.min(e,l).max(e,l)}nonempty(e){return this.min(1,e)}}Xo.create=(n,e)=>new Xo({valueType:n,minSize:null,maxSize:null,typeName:Te.ZodSet,..._e(e)});class vc extends Ne{get schema(){return this._def.getter()}_parse(e){const{ctx:l}=this._processInputParams(e);return this._def.getter()._parse({data:l.data,path:l.path,parent:l})}}vc.create=(n,e)=>new vc({getter:n,typeName:Te.ZodLazy,..._e(e)});class lp extends Ne{_parse(e){if(e.data!==this._def.value){const l=this._getOrReturnCtx(e);return ue(l,{received:l.data,code:te.invalid_literal,expected:this._def.value}),Ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}lp.create=(n,e)=>new lp({value:n,typeName:Te.ZodLiteral,..._e(e)});function Lg(n,e){return new ql({values:n,typeName:Te.ZodEnum,..._e(e)})}class ql extends Ne{_parse(e){if(typeof e.data!="string"){const l=this._getOrReturnCtx(e),o=this._def.values;return ue(l,{expected:Ue.joinValues(o),received:l.parsedType,code:te.invalid_type}),Ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const l=this._getOrReturnCtx(e),o=this._def.values;return ue(l,{received:l.data,code:te.invalid_enum_value,options:o}),Ce}return Xt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const l of this._def.values)e[l]=l;return e}get Values(){const e={};for(const l of this._def.values)e[l]=l;return e}get Enum(){const e={};for(const l of this._def.values)e[l]=l;return e}extract(e,l=this._def){return ql.create(e,{...this._def,...l})}exclude(e,l=this._def){return ql.create(this.options.filter(o=>!e.includes(o)),{...this._def,...l})}}ql.create=Lg;class op extends Ne{_parse(e){const l=Ue.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==de.string&&o.parsedType!==de.number){const s=Ue.objectValues(l);return ue(o,{expected:Ue.joinValues(s),received:o.parsedType,code:te.invalid_type}),Ce}if(this._cache||(this._cache=new Set(Ue.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ue.objectValues(l);return ue(o,{received:o.data,code:te.invalid_enum_value,options:s}),Ce}return Xt(e.data)}get enum(){return this._def.values}}op.create=(n,e)=>new op({values:n,typeName:Te.ZodNativeEnum,..._e(e)});class As extends Ne{unwrap(){return this._def.type}_parse(e){const{ctx:l}=this._processInputParams(e);if(l.parsedType!==de.promise&&l.common.async===!1)return ue(l,{code:te.invalid_type,expected:de.promise,received:l.parsedType}),Ce;const o=l.parsedType===de.promise?l.data:Promise.resolve(l.data);return Xt(o.then(s=>this._def.type.parseAsync(s,{path:l.path,errorMap:l.common.contextualErrorMap})))}}As.create=(n,e)=>new As({type:n,typeName:Te.ZodPromise,..._e(e)});class Bl extends Ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Te.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:l,ctx:o}=this._processInputParams(e),s=this._def.effect||null,f={addIssue:m=>{ue(o,m),m.fatal?l.abort():l.dirty()},get path(){return o.path}};if(f.addIssue=f.addIssue.bind(f),s.type==="preprocess"){const m=s.transform(o.data,f);if(o.common.async)return Promise.resolve(m).then(async h=>{if(l.value==="aborted")return Ce;const y=await this._def.schema._parseAsync({data:h,path:o.path,parent:o});return y.status==="aborted"?Ce:y.status==="dirty"||l.value==="dirty"?$o(y.value):y});{if(l.value==="aborted")return Ce;const h=this._def.schema._parseSync({data:m,path:o.path,parent:o});return h.status==="aborted"?Ce:h.status==="dirty"||l.value==="dirty"?$o(h.value):h}}if(s.type==="refinement"){const m=h=>{const y=s.refinement(h,f);if(o.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(o.common.async===!1){const h=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return h.status==="aborted"?Ce:(h.status==="dirty"&&l.dirty(),m(h.value),{status:l.value,value:h.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(h=>h.status==="aborted"?Ce:(h.status==="dirty"&&l.dirty(),m(h.value).then(()=>({status:l.value,value:h.value}))))}if(s.type==="transform")if(o.common.async===!1){const m=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!Vl(m))return Ce;const h=s.transform(m.value,f);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:l.value,value:h}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(m=>Vl(m)?Promise.resolve(s.transform(m.value,f)).then(h=>({status:l.value,value:h})):Ce);Ue.assertNever(s)}}Bl.create=(n,e,l)=>new Bl({schema:n,typeName:Te.ZodEffects,effect:e,..._e(l)});Bl.createWithPreprocess=(n,e,l)=>new Bl({schema:e,effect:{type:"preprocess",transform:n},typeName:Te.ZodEffects,..._e(l)});class si extends Ne{_parse(e){return this._getType(e)===de.undefined?Xt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}si.create=(n,e)=>new si({innerType:n,typeName:Te.ZodOptional,..._e(e)});class Gl extends Ne{_parse(e){return this._getType(e)===de.null?Xt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Gl.create=(n,e)=>new Gl({innerType:n,typeName:Te.ZodNullable,..._e(e)});class xc extends Ne{_parse(e){const{ctx:l}=this._processInputParams(e);let o=l.data;return l.parsedType===de.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:l.path,parent:l})}removeDefault(){return this._def.innerType}}xc.create=(n,e)=>new xc({innerType:n,typeName:Te.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class Tc extends Ne{_parse(e){const{ctx:l}=this._processInputParams(e),o={...l,common:{...l.common,issues:[]}},s=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Cs(s)?s.then(f=>({status:"valid",value:f.status==="valid"?f.value:this._def.catchValue({get error(){return new Rn(o.common.issues)},input:o.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rn(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Tc.create=(n,e)=>new Tc({innerType:n,typeName:Te.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class ap extends Ne{_parse(e){if(this._getType(e)!==de.nan){const o=this._getOrReturnCtx(e);return ue(o,{code:te.invalid_type,expected:de.nan,received:o.parsedType}),Ce}return{status:"valid",value:e.data}}}ap.create=n=>new ap({typeName:Te.ZodNaN,..._e(n)});class Jx extends Ne{_parse(e){const{ctx:l}=this._processInputParams(e),o=l.data;return this._def.type._parse({data:o,path:l.path,parent:l})}unwrap(){return this._def.type}}class kc extends Ne{_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const f=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return f.status==="aborted"?Ce:f.status==="dirty"?(l.dirty(),$o(f.value)):this._def.out._parseAsync({data:f.value,path:o.path,parent:o})})();{const s=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return s.status==="aborted"?Ce:s.status==="dirty"?(l.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:o.path,parent:o})}}static create(e,l){return new kc({in:e,out:l,typeName:Te.ZodPipeline})}}class Cc extends Ne{_parse(e){const l=this._def.innerType._parse(e),o=s=>(Vl(s)&&(s.value=Object.freeze(s.value)),s);return Cs(l)?l.then(s=>o(s)):o(l)}unwrap(){return this._def.innerType}}Cc.create=(n,e)=>new Cc({innerType:n,typeName:Te.ZodReadonly,..._e(e)});var Te;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Te||(Te={}));const Ri=un.create,sp=Vi.create;Pi.create;const Yx=Ss.create;Pl.create;const rp=gc.create;ri.create;const jo=fn.create,Zx=it.create,$x=_s.create;bs.create;qi.create;const jx=Es.create,Qx=vc.create,Kx=ql.create;As.create;si.create;Gl.create;const wl={string:n=>un.create({...n,coerce:!0}),number:n=>Vi.create({...n,coerce:!0}),boolean:n=>Ss.create({...n,coerce:!0}),bigint:n=>Pi.create({...n,coerce:!0}),date:n=>Pl.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Xx,Wx;function eT(){return{geminiUrl:Xx,vertexUrl:Wx}}function tT(n,e,l){var o,s,f;if(!(!((o=n.httpOptions)===null||o===void 0)&&o.baseUrl)){const m=eT();return n.vertexai?(s=m.vertexUrl)!==null&&s!==void 0?s:e:(f=m.geminiUrl)!==null&&f!==void 0?f:l}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gi{}function he(n,e){const l=/\{([^}]+)\}/g;return n.replace(l,(o,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const f=e[s];return f!=null?String(f):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function u(n,e,l){for(let f=0;f<e.length-1;f++){const m=e[f];if(m.endsWith("[]")){const h=m.slice(0,-2);if(!(h in n))if(Array.isArray(l))n[h]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(l))for(let p=0;p<y.length;p++){const x=y[p];u(x,e.slice(f+1),l[p])}else for(const p of y)u(p,e.slice(f+1),l)}return}else if(m.endsWith("[0]")){const h=m.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];u(y[0],e.slice(f+1),l);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const o=e[e.length-1],s=n[o];if(s!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===s)return;if(typeof s=="object"&&typeof l=="object"&&s!==null&&l!==null)Object.assign(s,l);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=l}function r(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return;const o=e[l];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in n){const f=n[s];return Array.isArray(f)?f.map(m=>r(m,e.slice(l+1))):void 0}else return}else n=n[o]}return n}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var up;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(up||(up={}));var cp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(cp||(cp={}));var cn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(cn||(cn={}));var fp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(fp||(fp={}));var dp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(dp||(dp={}));var mp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(mp||(mp={}));var hp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(hp||(hp={}));var pp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(pp||(pp={}));var gp;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(gp||(gp={}));var yp;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(yp||(yp={}));var vp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(vp||(vp={}));var xp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(xp||(xp={}));var Tp;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Tp||(Tp={}));var Cp;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Cp||(Cp={}));var Sp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Sp||(Sp={}));var _p;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_p||(_p={}));var ws;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ws||(ws={}));var bp;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bp||(bp={}));var Sc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Sc||(Sc={}));var Ep;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ep||(Ep={}));var Ap;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Ap||(Ap={}));var wp;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(wp||(wp={}));var Mp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Mp||(Mp={}));var Np;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Np||(Np={}));var Rp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Rp||(Rp={}));var Dp;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Dp||(Dp={}));var Ip;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Ip||(Ip={}));var Up;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Up||(Up={}));var kp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kp||(kp={}));var Lp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Lp||(Lp={}));var Vp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Vp||(Vp={}));var Pp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Pp||(Pp={}));var qp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(qp||(qp={}));var Bp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Bp||(Bp={}));var Gp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Gp||(Gp={}));var Op;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Op||(Op={}));var zp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(zp||(zp={}));var Hp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Hp||(Hp={}));var Fp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Fp||(Fp={}));var Jp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Jp||(Jp={}));var Yp;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Yp||(Yp={}));var Rl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Rl||(Rl={}));class _c{constructor(e){const l={};for(const o of e.headers.entries())l[o[0]]=o[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class Zo{get text(){var e,l,o,s,f,m,h,y;if(((s=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",x=!1;const C=[];for(const _ of(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[M,D]of Object.entries(_))M!=="text"&&M!=="thought"&&(D!==null||D!==void 0)&&C.push(M);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;x=!0,p+=_.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?p:void 0}get data(){var e,l,o,s,f,m,h,y;if(((s=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const x=[];for(const C of(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[_,M]of Object.entries(C))_!=="inlineData"&&(M!==null||M!==void 0)&&x.push(_);C.inlineData&&typeof C.inlineData.data=="string"&&(p+=atob(C.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,l,o,s,f,m,h,y;if(((s=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,l,o,s,f,m,h,y,p;if(((s=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,l,o,s,f,m,h,y,p;if(((s=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.output}}class Zp{}class $p{}class nT{}class iT{}class jp{}class Qp{}class Kp{}class lT{}class Xp{}class Wp{}class eg{}class oT{}class aT{}class sT{}class tg{}class rT{get text(){var e,l,o;let s="",f=!1;const m=[];for(const h of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[y,p]of Object.entries(h))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,s+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?s:void 0}get data(){var e,l,o;let s="";const f=[];for(const m of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[h,y]of Object.entries(m))h!=="inlineData"&&y!==null&&f.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(s+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class uT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Vg(n,e){const l=Pe(n,e);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function Pg(n){return Array.isArray(n)?n.map(e=>Ms(e)):[Ms(n)]}function Ms(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function qg(n){const e=Ms(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Bg(n){const e=Ms(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ng(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Gg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>ng(e)):[ng(n)]}function bc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function ig(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function lg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function vt(n){if(n==null)throw new Error("ContentUnion is required");return bc(n)?n:{role:"user",parts:Gg(n)}}function Og(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const o=vt(l);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const l=vt(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>vt(l)):[vt(e)]}function Kt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(ig(n)||lg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vt(n)]}const e=[],l=[],o=bc(n[0]);for(const s of n){const f=bc(s);if(f!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(s);else{if(ig(s)||lg(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(s)}}return o||e.push({role:"user",parts:Gg(l)}),e}const cT=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),og=Kx(["string","number","integer","object","array","boolean","null"]),fT=$x([og,jo(og)]);function dT(n=!0){const e=Qx(()=>{const l=Zx({type:fT.optional(),format:Ri().optional(),title:Ri().optional(),description:Ri().optional(),default:rp().optional(),items:e.optional(),minItems:wl.string().optional(),maxItems:wl.string().optional(),enum:jo(rp()).optional(),properties:jx(Ri(),e).optional(),required:jo(Ri()).optional(),minProperties:wl.string().optional(),maxProperties:wl.string().optional(),propertyOrdering:jo(Ri()).optional(),minimum:sp().optional(),maximum:sp().optional(),minLength:wl.string().optional(),maxLength:wl.string().optional(),pattern:Ri().optional(),anyOf:jo(e).optional(),additionalProperties:Yx().optional()});return n?l.strict():l});return e}function mT(n,e){n.includes("null")&&(e.nullable=!0);const l=n.filter(o=>o!=="null");if(l.length===1)e.type=Object.values(cn).includes(l[0].toUpperCase())?l[0].toUpperCase():cn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of l)e.anyOf.push({type:Object.values(cn).includes(o.toUpperCase())?o.toUpperCase():cn.TYPE_UNSPECIFIED})}}function Dl(n){const e={},l=["items"],o=["anyOf"],s=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&mT(n.type,e);for(const[m,h]of Object.entries(n))if(h!=null)if(m=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(cn).includes(h.toUpperCase())?h.toUpperCase():cn.TYPE_UNSPECIFIED}else if(l.includes(m))e[m]=Dl(h);else if(o.includes(m)){const y=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}y.push(Dl(p))}e[m]=y}else if(s.includes(m)){const y={};for(const[p,x]of Object.entries(h))y[p]=Dl(x);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=h}return e}function Wo(n){if(Object.keys(n).includes("$schema")){delete n.$schema;const e=dT().parse(n);return Dl(e)}else return Dl(n)}function Lc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Vc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ol(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(e.parameters=Wo(e.parameters)),e.response&&(e.response=Wo(e.response));return n}function zl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of n)e.push(l);return e}function hT(n,e,l,o=1){const s=!e.startsWith(`${l}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:s?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${e}`:e:s?`${l}/${e}`:e}function Un(n,e){if(typeof e!="string")throw new Error("name must be a string");return hT(n,e,"cachedContents")}function zg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function kn(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function pT(n){return n!=null&&typeof n=="object"&&"name"in n}function gT(n){return n!=null&&typeof n=="object"&&"video"in n}function yT(n){return n!=null&&typeof n=="object"&&"uri"in n}function Hg(n){var e;let l;if(pT(n)&&(l=n.name),!(yT(n)&&(l=n.uri,l===void 0))&&!(gT(n)&&(l=(e=n.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const s=l.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${l}`);l=s[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function Fg(n,e){let l;return n.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function Jg(n){for(const e of["models","tunedModels","publisherModels"])if(vT(n,e))return n[e];return[]}function vT(n,e){return n!==null&&typeof n=="object"&&e in n}function xT(n,e={}){const l=n,o={name:l.name,description:l.description,parameters:Dl(Ds(l.inputSchema))};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function TT(n,e={}){const l=[],o=new Set;for(const s of n){const f=s.name;if(o.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);o.add(f);const m=xT(s,e);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function CT(n){const e=[];for(const l of n)e.push(Ds(l));return e}function ST(n){const e={};for(const[l,o]of Object.entries(n)){const s=o;e[l]=Ds(s)}return e}function Ds(n){const e=new Set(["items"]),l=new Set(["anyOf"]),o=new Set(["properties"]),s={};for(const[f,m]of Object.entries(n))if(e.has(f))s[f]=Ds(m);else if(l.has(f))s[f]=CT(m);else if(o.has(f))s[f]=ST(m);else if(f==="type"){const h=m.toUpperCase();s[f]=Object.values(cn).includes(h)?h:cn.TYPE_UNSPECIFIED}else cT.has(f)&&(s[f]=m);return s}function Yg(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function _T(n){const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Hl(n,e){const l=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Zg(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bT(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function ET(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function AT(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function wT(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],bT(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],ET(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],AT(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function $g(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>wT(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function MT(n){const e={},l=r(n,["anyOf"]);l!=null&&u(e,["anyOf"],l);const o=r(n,["default"]);o!=null&&u(e,["default"],o);const s=r(n,["description"]);s!=null&&u(e,["description"],s);const f=r(n,["enum"]);f!=null&&u(e,["enum"],f);const m=r(n,["example"]);m!=null&&u(e,["example"],m);const h=r(n,["format"]);h!=null&&u(e,["format"],h);const y=r(n,["items"]);y!=null&&u(e,["items"],y);const p=r(n,["maxItems"]);p!=null&&u(e,["maxItems"],p);const x=r(n,["maxLength"]);x!=null&&u(e,["maxLength"],x);const C=r(n,["maxProperties"]);C!=null&&u(e,["maxProperties"],C);const _=r(n,["maximum"]);_!=null&&u(e,["maximum"],_);const M=r(n,["minItems"]);M!=null&&u(e,["minItems"],M);const D=r(n,["minLength"]);D!=null&&u(e,["minLength"],D);const q=r(n,["minProperties"]);q!=null&&u(e,["minProperties"],q);const B=r(n,["minimum"]);B!=null&&u(e,["minimum"],B);const Z=r(n,["nullable"]);Z!=null&&u(e,["nullable"],Z);const z=r(n,["pattern"]);z!=null&&u(e,["pattern"],z);const Y=r(n,["properties"]);Y!=null&&u(e,["properties"],Y);const X=r(n,["propertyOrdering"]);X!=null&&u(e,["propertyOrdering"],X);const $=r(n,["required"]);$!=null&&u(e,["required"],$);const ae=r(n,["title"]);ae!=null&&u(e,["title"],ae);const ne=r(n,["type"]);return ne!=null&&u(e,["type"],ne),e}function NT(n){const e={};if(r(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=r(n,["category"]);l!=null&&u(e,["category"],l);const o=r(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function RT(n){const e={},l=r(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const s=r(n,["name"]);s!=null&&u(e,["name"],s);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=r(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function DT(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function IT(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],DT(l)),e}function UT(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function kT(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],UT(l)),e}function LT(){return{}}function VT(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>RT(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],IT(o));const s=r(n,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],kT(s)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],LT());const m=r(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=r(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function PT(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function qT(n){const e={},l=r(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function BT(n){const e={},l=r(n,["latLng"]);l!=null&&u(e,["latLng"],qT(l));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function GT(n){const e={},l=r(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],PT(l));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],BT(o)),e}function OT(n){const e={},l=r(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function jg(n){const e={},l=r(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],OT(l)),e}function zT(n){const e={},l=r(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=r(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],jg(o)),e}function HT(n){const e={},l=r(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>zT(s))),u(e,["speakerVoiceConfigs"],o)}return e}function FT(n){const e={},l=r(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],jg(l));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],HT(o));const s=r(n,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function JT(n){const e={},l=r(n,["includeThoughts"]);l!=null&&u(e,["includeThoughts"],l);const o=r(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function YT(n,e,l){const o={},s=r(e,["systemInstruction"]);l!==void 0&&s!=null&&u(l,["systemInstruction"],$g(vt(s)));const f=r(e,["temperature"]);f!=null&&u(o,["temperature"],f);const m=r(e,["topP"]);m!=null&&u(o,["topP"],m);const h=r(e,["topK"]);h!=null&&u(o,["topK"],h);const y=r(e,["candidateCount"]);y!=null&&u(o,["candidateCount"],y);const p=r(e,["maxOutputTokens"]);p!=null&&u(o,["maxOutputTokens"],p);const x=r(e,["stopSequences"]);x!=null&&u(o,["stopSequences"],x);const C=r(e,["responseLogprobs"]);C!=null&&u(o,["responseLogprobs"],C);const _=r(e,["logprobs"]);_!=null&&u(o,["logprobs"],_);const M=r(e,["presencePenalty"]);M!=null&&u(o,["presencePenalty"],M);const D=r(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const q=r(e,["seed"]);q!=null&&u(o,["seed"],q);const B=r(e,["responseMimeType"]);B!=null&&u(o,["responseMimeType"],B);const Z=r(e,["responseSchema"]);Z!=null&&u(o,["responseSchema"],MT(Wo(Z)));const z=r(e,["responseJsonSchema"]);if(z!=null&&u(o,["responseJsonSchema"],z),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=r(e,["safetySettings"]);if(l!==void 0&&Y!=null){let le=Y;Array.isArray(le)&&(le=le.map(re=>NT(re))),u(l,["safetySettings"],le)}const X=r(e,["tools"]);if(l!==void 0&&X!=null){let le=zl(X);Array.isArray(le)&&(le=le.map(re=>VT(Ol(re)))),u(l,["tools"],le)}const $=r(e,["toolConfig"]);if(l!==void 0&&$!=null&&u(l,["toolConfig"],GT($)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=r(e,["cachedContent"]);l!==void 0&&ae!=null&&u(l,["cachedContent"],Un(n,ae));const ne=r(e,["responseModalities"]);ne!=null&&u(o,["responseModalities"],ne);const J=r(e,["mediaResolution"]);J!=null&&u(o,["mediaResolution"],J);const j=r(e,["speechConfig"]);if(j!=null&&u(o,["speechConfig"],FT(Lc(j))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=r(e,["thinkingConfig"]);return oe!=null&&u(o,["thinkingConfig"],JT(oe)),o}function ZT(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["request","model"],Pe(n,o));const s=r(e,["contents"]);if(s!=null){let m=Kt(s);Array.isArray(m)&&(m=m.map(h=>$g(h))),u(l,["request","contents"],m)}const f=r(e,["config"]);return f!=null&&u(l,["request","generationConfig"],YT(n,f,l)),l}function $T(n,e){const l={};if(r(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=r(e,["fileName"]);o!=null&&u(l,["fileName"],o);const s=r(e,["inlinedRequests"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>ZT(n,m))),u(l,["requests","requests"],f)}return l}function jT(n,e){const l={},o=r(n,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),r(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function QT(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["src"]);s!=null&&u(l,["batch","inputConfig"],$T(n,Yg(n,s)));const f=r(e,["config"]);return f!=null&&u(l,["config"],jT(f,l)),l}function KT(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Hl(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function XT(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Hl(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function WT(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=r(n,["pageToken"]);if(e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),r(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function eC(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],WT(l,e)),e}function tC(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Hl(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function nC(n){const e={},l=r(n,["format"]);l!=null&&u(e,["instancesFormat"],l);const o=r(n,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const s=r(n,["bigqueryUri"]);if(s!=null&&u(e,["bigquerySource","inputUri"],s),r(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function iC(n){const e={},l=r(n,["format"]);l!=null&&u(e,["predictionsFormat"],l);const o=r(n,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const s=r(n,["bigqueryUri"]);if(s!=null&&u(e,["bigqueryDestination","outputUri"],s),r(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function lC(n,e){const l={},o=r(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const s=r(n,["dest"]);return e!==void 0&&s!=null&&u(e,["outputConfig"],iC(_T(s))),l}function oC(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["model"],Pe(n,o));const s=r(e,["src"]);s!=null&&u(l,["inputConfig"],nC(Yg(n,s)));const f=r(e,["config"]);return f!=null&&u(l,["config"],lC(f,l)),l}function aC(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Hl(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function sC(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Hl(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function rC(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=r(n,["pageToken"]);e!==void 0&&s!=null&&u(e,["_query","pageToken"],s);const f=r(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),l}function uC(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],rC(l,e)),e}function cC(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Hl(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function Qg(){return{}}function fC(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function dC(n){const e={},l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function mC(n){const e={},l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function hC(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],fC(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],dC(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],mC(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function pC(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>hC(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function gC(n){const e={},l=r(n,["citationSources"]);return l!=null&&u(e,["citations"],l),e}function yC(n){const e={},l=r(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=r(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function vC(n){const e={},l=r(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>yC(s))),u(e,["urlMetadata"],o)}return e}function xC(n){const e={},l=r(n,["content"]);l!=null&&u(e,["content"],pC(l));const o=r(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],gC(o));const s=r(n,["tokenCount"]);s!=null&&u(e,["tokenCount"],s);const f=r(n,["finishReason"]);f!=null&&u(e,["finishReason"],f);const m=r(n,["urlContextMetadata"]);m!=null&&u(e,["urlContextMetadata"],vC(m));const h=r(n,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const y=r(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const p=r(n,["index"]);p!=null&&u(e,["index"],p);const x=r(n,["logprobsResult"]);x!=null&&u(e,["logprobsResult"],x);const C=r(n,["safetyRatings"]);return C!=null&&u(e,["safetyRatings"],C),e}function TC(n){const e={},l=r(n,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>xC(h))),u(e,["candidates"],m)}const o=r(n,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const s=r(n,["promptFeedback"]);s!=null&&u(e,["promptFeedback"],s);const f=r(n,["usageMetadata"]);return f!=null&&u(e,["usageMetadata"],f),e}function CC(n){const e={},l=r(n,["response"]);return l!=null&&u(e,["response"],TC(l)),r(n,["error"])!=null&&u(e,["error"],Qg()),e}function SC(n){const e={},l=r(n,["responsesFile"]);l!=null&&u(e,["fileName"],l);const o=r(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(f=>CC(f))),u(e,["inlinedResponses"],s)}return e}function Ec(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const s=r(n,["metadata","state"]);s!=null&&u(e,["state"],Zg(s));const f=r(n,["metadata","createTime"]);f!=null&&u(e,["createTime"],f);const m=r(n,["metadata","endTime"]);m!=null&&u(e,["endTime"],m);const h=r(n,["metadata","updateTime"]);h!=null&&u(e,["updateTime"],h);const y=r(n,["metadata","model"]);y!=null&&u(e,["model"],y);const p=r(n,["metadata","output"]);return p!=null&&u(e,["dest"],SC(p)),e}function _C(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["operations"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(f=>Ec(f))),u(e,["batchJobs"],s)}return e}function bC(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["done"]);return o!=null&&u(e,["done"],o),r(n,["error"])!=null&&u(e,["error"],Qg()),e}function Kg(n){const e={},l=r(n,["details"]);l!=null&&u(e,["details"],l);const o=r(n,["code"]);o!=null&&u(e,["code"],o);const s=r(n,["message"]);return s!=null&&u(e,["message"],s),e}function EC(n){const e={},l=r(n,["instancesFormat"]);l!=null&&u(e,["format"],l);const o=r(n,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const s=r(n,["bigquerySource","inputUri"]);return s!=null&&u(e,["bigqueryUri"],s),e}function AC(n){const e={},l=r(n,["predictionsFormat"]);l!=null&&u(e,["format"],l);const o=r(n,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const s=r(n,["bigqueryDestination","outputUri"]);return s!=null&&u(e,["bigqueryUri"],s),e}function Ac(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const s=r(n,["state"]);s!=null&&u(e,["state"],Zg(s));const f=r(n,["error"]);f!=null&&u(e,["error"],Kg(f));const m=r(n,["createTime"]);m!=null&&u(e,["createTime"],m);const h=r(n,["startTime"]);h!=null&&u(e,["startTime"],h);const y=r(n,["endTime"]);y!=null&&u(e,["endTime"],y);const p=r(n,["updateTime"]);p!=null&&u(e,["updateTime"],p);const x=r(n,["model"]);x!=null&&u(e,["model"],x);const C=r(n,["inputConfig"]);C!=null&&u(e,["src"],EC(C));const _=r(n,["outputConfig"]);return _!=null&&u(e,["dest"],AC(_)),e}function wC(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["batchPredictionJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(f=>Ac(f))),u(e,["batchJobs"],s)}return e}function MC(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["done"]);o!=null&&u(e,["done"],o);const s=r(n,["error"]);return s!=null&&u(e,["error"],Kg(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bi;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Bi||(Bi={}));class ea{constructor(e,l,o,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,o,s)}init(e,l,o){var s,f;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};o?typeof o=="object"?m=Object.assign({},o):m=o:m={config:{}},m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(s=m.config)===null||s===void 0?void 0:s.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NC extends Gi{constructor(e){super(),this.apiClient=e,this.create=async l=>{if(this.apiClient.isVertexAI()){const s=Date.now().toString();if(Array.isArray(l.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(l.config=l.config||{},l.config.displayName===void 0&&(l.config.displayName="genaiBatchJob_${timestampStr}"),l.config.dest===void 0&&typeof l.src=="string")if(l.src.startsWith("gs://")&&l.src.endsWith(".jsonl"))l.config.dest=`${l.src.slice(0,-6)}/dest`;else if(l.src.startsWith("bq://"))l.config.dest=`${l.src}_dest_${s}`;else throw new Error("Unsupported source:"+l.src)}return await this.createInternal(l)},this.list=async(l={})=>new ea(Bi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(l),l)}async createInternal(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=oC(this.apiClient,e);return h=he("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Ac(x))}else{const p=QT(this.apiClient,e);return h=he("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Ec(x))}}async get(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=aC(this.apiClient,e);return h=he("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Ac(x))}else{const p=KT(this.apiClient,e);return h=he("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Ec(x))}}async cancel(e){var l,o,s,f;let m="",h={};if(this.apiClient.isVertexAI()){const y=sC(this.apiClient,e);m=he("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=XT(this.apiClient,e);m=he("batches/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=uC(e);return h=he("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=wC(x),_=new tg;return Object.assign(_,C),_})}else{const p=eC(e);return h=he("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=_C(x),_=new tg;return Object.assign(_,C),_})}}async delete(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=cC(this.apiClient,e);return h=he("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>MC(x))}else{const p=tC(this.apiClient,e);return h=he("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>bC(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RC(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function DC(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function IC(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function UC(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],RC(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],DC(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],IC(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function ag(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>UC(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function kC(n){const e={},l=r(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const s=r(n,["name"]);s!=null&&u(e,["name"],s);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=r(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function LC(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function VC(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],LC(l)),e}function PC(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function qC(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],PC(l)),e}function BC(){return{}}function GC(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>kC(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],VC(o));const s=r(n,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],qC(s)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],BC());const m=r(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=r(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function OC(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function zC(n){const e={},l=r(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function HC(n){const e={},l=r(n,["latLng"]);l!=null&&u(e,["latLng"],zC(l));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function FC(n){const e={},l=r(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],OC(l));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],HC(o)),e}function JC(n,e){const l={},o=r(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=r(n,["expireTime"]);e!==void 0&&s!=null&&u(e,["expireTime"],s);const f=r(n,["displayName"]);e!==void 0&&f!=null&&u(e,["displayName"],f);const m=r(n,["contents"]);if(e!==void 0&&m!=null){let x=Kt(m);Array.isArray(x)&&(x=x.map(C=>ag(C))),u(e,["contents"],x)}const h=r(n,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],ag(vt(h)));const y=r(n,["tools"]);if(e!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(C=>GC(C))),u(e,["tools"],x)}const p=r(n,["toolConfig"]);if(e!==void 0&&p!=null&&u(e,["toolConfig"],FC(p)),r(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function YC(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["model"],Vg(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],JC(s,l)),l}function ZC(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Un(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function $C(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Un(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function jC(n,e){const l={},o=r(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=r(n,["expireTime"]);return e!==void 0&&s!=null&&u(e,["expireTime"],s),l}function QC(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Un(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],jC(s,l)),l}function KC(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=r(n,["pageToken"]);return e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),l}function XC(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],KC(l,e)),e}function WC(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function eS(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function tS(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function nS(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],WC(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],eS(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],tS(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function sg(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>nS(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function iS(n){const e={};if(r(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(n,["description"]);l!=null&&u(e,["description"],l);const o=r(n,["name"]);o!=null&&u(e,["name"],o);const s=r(n,["parameters"]);s!=null&&u(e,["parameters"],s);const f=r(n,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const m=r(n,["response"]);m!=null&&u(e,["response"],m);const h=r(n,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function lS(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function oS(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],lS(l)),e}function aS(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function sS(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],aS(l)),e}function rS(){return{}}function uS(n){const e={},l=r(n,["apiKeyString"]);return l!=null&&u(e,["apiKeyString"],l),e}function cS(n){const e={},l=r(n,["apiKeyConfig"]);l!=null&&u(e,["apiKeyConfig"],uS(l));const o=r(n,["authType"]);o!=null&&u(e,["authType"],o);const s=r(n,["googleServiceAccountConfig"]);s!=null&&u(e,["googleServiceAccountConfig"],s);const f=r(n,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const m=r(n,["oauthConfig"]);m!=null&&u(e,["oauthConfig"],m);const h=r(n,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function fS(n){const e={},l=r(n,["authConfig"]);return l!=null&&u(e,["authConfig"],cS(l)),e}function dS(){return{}}function mS(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(_=>iS(_))),u(e,["functionDeclarations"],C)}const o=r(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const s=r(n,["googleSearch"]);s!=null&&u(e,["googleSearch"],oS(s));const f=r(n,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],sS(f)),r(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],rS());const h=r(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],fS(h)),r(n,["urlContext"])!=null&&u(e,["urlContext"],dS());const p=r(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const x=r(n,["computerUse"]);return x!=null&&u(e,["computerUse"],x),e}function hS(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function pS(n){const e={},l=r(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function gS(n){const e={},l=r(n,["latLng"]);l!=null&&u(e,["latLng"],pS(l));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function yS(n){const e={},l=r(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],hS(l));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],gS(o)),e}function vS(n,e){const l={},o=r(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=r(n,["expireTime"]);e!==void 0&&s!=null&&u(e,["expireTime"],s);const f=r(n,["displayName"]);e!==void 0&&f!=null&&u(e,["displayName"],f);const m=r(n,["contents"]);if(e!==void 0&&m!=null){let C=Kt(m);Array.isArray(C)&&(C=C.map(_=>sg(_))),u(e,["contents"],C)}const h=r(n,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],sg(vt(h)));const y=r(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(_=>mS(_))),u(e,["tools"],C)}const p=r(n,["toolConfig"]);e!==void 0&&p!=null&&u(e,["toolConfig"],yS(p));const x=r(n,["kmsKeyName"]);return e!==void 0&&x!=null&&u(e,["encryption_spec","kmsKeyName"],x),l}function xS(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["model"],Vg(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],vS(s,l)),l}function TS(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Un(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function CS(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Un(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function SS(n,e){const l={},o=r(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const s=r(n,["expireTime"]);return e!==void 0&&s!=null&&u(e,["expireTime"],s),l}function _S(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Un(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],SS(s,l)),l}function bS(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=r(n,["pageToken"]);return e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),l}function ES(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],bS(l,e)),e}function vs(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const s=r(n,["model"]);s!=null&&u(e,["model"],s);const f=r(n,["createTime"]);f!=null&&u(e,["createTime"],f);const m=r(n,["updateTime"]);m!=null&&u(e,["updateTime"],m);const h=r(n,["expireTime"]);h!=null&&u(e,["expireTime"],h);const y=r(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function AS(){return{}}function wS(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(f=>vs(f))),u(e,["cachedContents"],s)}return e}function xs(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const s=r(n,["model"]);s!=null&&u(e,["model"],s);const f=r(n,["createTime"]);f!=null&&u(e,["createTime"],f);const m=r(n,["updateTime"]);m!=null&&u(e,["updateTime"],m);const h=r(n,["expireTime"]);h!=null&&u(e,["expireTime"],h);const y=r(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function MS(){return{}}function NS(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(f=>xs(f))),u(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RS extends Gi{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new ea(Bi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(l),l)}async create(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=xS(this.apiClient,e);return h=he("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>xs(x))}else{const p=YC(this.apiClient,e);return h=he("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>vs(x))}}async get(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=TS(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>xs(x))}else{const p=ZC(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>vs(x))}}async delete(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=CS(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(()=>{const x=MS(),C=new Wp;return Object.assign(C,x),C})}else{const p=$C(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(()=>{const x=AS(),C=new Wp;return Object.assign(C,x),C})}}async update(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=_S(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>xs(x))}else{const p=QC(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>vs(x))}}async listInternal(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=ES(e);return h=he("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=NS(x),_=new eg;return Object.assign(_,C),_})}else{const p=XC(e);return h=he("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=wS(x),_=new eg;return Object.assign(_,C),_})}}}function rg(n){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&n[e],o=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(n){return this instanceof Ye?(this.v=n,this):new Ye(n)}function Il(n,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=l.apply(n,e||[]),s,f=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",m),s[Symbol.asyncIterator]=function(){return this},s;function m(M){return function(D){return Promise.resolve(D).then(M,C)}}function h(M,D){o[M]&&(s[M]=function(q){return new Promise(function(B,Z){f.push([M,q,B,Z])>1||y(M,q)})},D&&(s[M]=D(s[M])))}function y(M,D){try{p(o[M](D))}catch(q){_(f[0][3],q)}}function p(M){M.value instanceof Ye?Promise.resolve(M.value.v).then(x,C):_(f[0][2],M)}function x(M){y("next",M)}function C(M){y("throw",M)}function _(M,D){M(D),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Qo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],l;return e?e.call(n):(n=typeof rg=="function"?rg(n):n[Symbol.iterator](),l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l);function o(f){l[f]=n[f]&&function(m){return new Promise(function(h,y){m=n[f](m),s(h,y,m.done,m.value)})}}function s(f,m,h,y){Promise.resolve(y).then(function(p){f({value:p,done:h})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DS(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const l=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:Xg(l)}function Xg(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function IS(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ug(n){if(n===void 0||n.length===0)return[];const e=[],l=n.length;let o=0;for(;o<l;)if(n[o].role==="user")e.push(n[o]),o++;else{const s=[];let f=!0;for(;o<l&&n[o].role==="model";)s.push(n[o]),f&&!Xg(n[o])&&(f=!1),o++;f?e.push(...s):e.pop()}return e}class US{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new kS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class kS{constructor(e,l,o,s={},f=[]){this.apiClient=e,this.modelsModule=l,this.model=o,this.config=s,this.history=f,this.sendPromise=Promise.resolve(),IS(f)}async sendMessage(e){var l;await this.sendPromise;const o=vt(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,m,h;const y=await s,p=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,x=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let _=[];x!=null&&(_=(h=x.slice(C))!==null&&h!==void 0?h:[]);const M=p?[p]:[];this.recordHistory(o,M,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var l;await this.sendPromise;const o=vt(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const f=await s;return this.processStreamResponse(f,o)}getHistory(e=!1){const l=e?ug(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){var o,s;return Il(this,arguments,function*(){var m,h,y,p;const x=[];try{for(var C=!0,_=Qo(e),M;M=yield Ye(_.next()),m=M.done,!m;C=!0){p=M.value,C=!1;const D=p;if(DS(D)){const q=(s=(o=D.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content;q!==void 0&&x.push(q)}yield yield Ye(D)}}catch(D){h={error:D}}finally{try{!C&&!m&&(y=_.return)&&(yield Ye(y.call(_)))}finally{if(h)throw h.error}}this.recordHistory(l,x)})}recordHistory(e,l,o){let s=[];l.length>0&&l.every(f=>f.role!==void 0)?s=l:s.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...ug(o)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Is extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Is.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LS(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=r(n,["pageToken"]);return e!==void 0&&s!=null&&u(e,["_query","pageToken"],s),l}function VS(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],LS(l,e)),e}function PS(n){const e={},l=r(n,["details"]);l!=null&&u(e,["details"],l);const o=r(n,["message"]);o!=null&&u(e,["message"],o);const s=r(n,["code"]);return s!=null&&u(e,["code"],s),e}function qS(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const s=r(n,["mimeType"]);s!=null&&u(e,["mimeType"],s);const f=r(n,["sizeBytes"]);f!=null&&u(e,["sizeBytes"],f);const m=r(n,["createTime"]);m!=null&&u(e,["createTime"],m);const h=r(n,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const y=r(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const p=r(n,["sha256Hash"]);p!=null&&u(e,["sha256Hash"],p);const x=r(n,["uri"]);x!=null&&u(e,["uri"],x);const C=r(n,["downloadUri"]);C!=null&&u(e,["downloadUri"],C);const _=r(n,["state"]);_!=null&&u(e,["state"],_);const M=r(n,["source"]);M!=null&&u(e,["source"],M);const D=r(n,["videoMetadata"]);D!=null&&u(e,["videoMetadata"],D);const q=r(n,["error"]);return q!=null&&u(e,["error"],PS(q)),e}function BS(n){const e={},l=r(n,["file"]);l!=null&&u(e,["file"],qS(l));const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function GS(n){const e={},l=r(n,["name"]);l!=null&&u(e,["_url","file"],Hg(l));const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function OS(n){const e={},l=r(n,["name"]);l!=null&&u(e,["_url","file"],Hg(l));const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function zS(n){const e={},l=r(n,["details"]);l!=null&&u(e,["details"],l);const o=r(n,["message"]);o!=null&&u(e,["message"],o);const s=r(n,["code"]);return s!=null&&u(e,["code"],s),e}function wc(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const s=r(n,["mimeType"]);s!=null&&u(e,["mimeType"],s);const f=r(n,["sizeBytes"]);f!=null&&u(e,["sizeBytes"],f);const m=r(n,["createTime"]);m!=null&&u(e,["createTime"],m);const h=r(n,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const y=r(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const p=r(n,["sha256Hash"]);p!=null&&u(e,["sha256Hash"],p);const x=r(n,["uri"]);x!=null&&u(e,["uri"],x);const C=r(n,["downloadUri"]);C!=null&&u(e,["downloadUri"],C);const _=r(n,["state"]);_!=null&&u(e,["state"],_);const M=r(n,["source"]);M!=null&&u(e,["source"],M);const D=r(n,["videoMetadata"]);D!=null&&u(e,["videoMetadata"],D);const q=r(n,["error"]);return q!=null&&u(e,["error"],zS(q)),e}function HS(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(f=>wc(f))),u(e,["files"],s)}return e}function FS(){return{}}function JS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YS extends Gi{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new ea(Bi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>wc(l))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,o;let s,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=VS(e);return f=he("files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),s.then(y=>{const p=HS(y),x=new oT;return Object.assign(x,p),x})}}async createInternal(e){var l,o;let s,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=BS(e);return f=he("upload/v1beta/files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),s.then(()=>{const y=FS(),p=new aT;return Object.assign(p,y),p})}}async get(e){var l,o;let s,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=GS(e);return f=he("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),s.then(y=>wc(y))}}async delete(e){var l,o;let s,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=OS(e);return f=he("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),s.then(()=>{const y=JS(),p=new sT;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZS(n){const e={},l=r(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function $S(n){const e={},l=r(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function Wg(n){const e={},l=r(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],ZS(l)),e}function jS(n){const e={},l=r(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],$S(l)),e}function QS(n){const e={},l=r(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=r(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Wg(o)),e}function KS(n){const e={},l=r(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>QS(s))),u(e,["speakerVoiceConfigs"],o)}return e}function XS(n){const e={},l=r(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],Wg(l));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],KS(o));const s=r(n,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function WS(n){const e={},l=r(n,["voiceConfig"]);if(l!=null&&u(e,["voiceConfig"],jS(l)),r(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function e_(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function t_(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function n_(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function i_(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function l_(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function o_(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function a_(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],e_(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],n_(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],l_(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function s_(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],t_(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],i_(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],o_(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function r_(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>a_(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function u_(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>s_(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function c_(n){const e={},l=r(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const s=r(n,["name"]);s!=null&&u(e,["name"],s);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=r(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function f_(n){const e={};if(r(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(n,["description"]);l!=null&&u(e,["description"],l);const o=r(n,["name"]);o!=null&&u(e,["name"],o);const s=r(n,["parameters"]);s!=null&&u(e,["parameters"],s);const f=r(n,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const m=r(n,["response"]);m!=null&&u(e,["response"],m);const h=r(n,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function d_(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function m_(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function h_(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],d_(l)),e}function p_(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],m_(l)),e}function g_(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function y_(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function v_(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],g_(l)),e}function x_(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],y_(l)),e}function T_(){return{}}function C_(n){const e={},l=r(n,["apiKeyString"]);return l!=null&&u(e,["apiKeyString"],l),e}function S_(n){const e={},l=r(n,["apiKeyConfig"]);l!=null&&u(e,["apiKeyConfig"],C_(l));const o=r(n,["authType"]);o!=null&&u(e,["authType"],o);const s=r(n,["googleServiceAccountConfig"]);s!=null&&u(e,["googleServiceAccountConfig"],s);const f=r(n,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const m=r(n,["oauthConfig"]);m!=null&&u(e,["oauthConfig"],m);const h=r(n,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function __(n){const e={},l=r(n,["authConfig"]);return l!=null&&u(e,["authConfig"],S_(l)),e}function b_(){return{}}function E_(){return{}}function A_(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>c_(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],h_(o));const s=r(n,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],v_(s)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],b_());const m=r(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=r(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function w_(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(_=>f_(_))),u(e,["functionDeclarations"],C)}const o=r(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const s=r(n,["googleSearch"]);s!=null&&u(e,["googleSearch"],p_(s));const f=r(n,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],x_(f)),r(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],T_());const h=r(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],__(h)),r(n,["urlContext"])!=null&&u(e,["urlContext"],E_());const p=r(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const x=r(n,["computerUse"]);return x!=null&&u(e,["computerUse"],x),e}function M_(n){const e={},l=r(n,["handle"]);if(l!=null&&u(e,["handle"],l),r(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function N_(n){const e={},l=r(n,["handle"]);l!=null&&u(e,["handle"],l);const o=r(n,["transparent"]);return o!=null&&u(e,["transparent"],o),e}function cg(){return{}}function fg(){return{}}function R_(n){const e={},l=r(n,["disabled"]);l!=null&&u(e,["disabled"],l);const o=r(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const s=r(n,["endOfSpeechSensitivity"]);s!=null&&u(e,["endOfSpeechSensitivity"],s);const f=r(n,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const m=r(n,["silenceDurationMs"]);return m!=null&&u(e,["silenceDurationMs"],m),e}function D_(n){const e={},l=r(n,["disabled"]);l!=null&&u(e,["disabled"],l);const o=r(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const s=r(n,["endOfSpeechSensitivity"]);s!=null&&u(e,["endOfSpeechSensitivity"],s);const f=r(n,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const m=r(n,["silenceDurationMs"]);return m!=null&&u(e,["silenceDurationMs"],m),e}function I_(n){const e={},l=r(n,["automaticActivityDetection"]);l!=null&&u(e,["automaticActivityDetection"],R_(l));const o=r(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const s=r(n,["turnCoverage"]);return s!=null&&u(e,["turnCoverage"],s),e}function U_(n){const e={},l=r(n,["automaticActivityDetection"]);l!=null&&u(e,["automaticActivityDetection"],D_(l));const o=r(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const s=r(n,["turnCoverage"]);return s!=null&&u(e,["turnCoverage"],s),e}function k_(n){const e={},l=r(n,["targetTokens"]);return l!=null&&u(e,["targetTokens"],l),e}function L_(n){const e={},l=r(n,["targetTokens"]);return l!=null&&u(e,["targetTokens"],l),e}function V_(n){const e={},l=r(n,["triggerTokens"]);l!=null&&u(e,["triggerTokens"],l);const o=r(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],k_(o)),e}function P_(n){const e={},l=r(n,["triggerTokens"]);l!=null&&u(e,["triggerTokens"],l);const o=r(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],L_(o)),e}function q_(n){const e={},l=r(n,["proactiveAudio"]);return l!=null&&u(e,["proactiveAudio"],l),e}function B_(n){const e={},l=r(n,["proactiveAudio"]);return l!=null&&u(e,["proactiveAudio"],l),e}function G_(n,e){const l={},o=r(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const s=r(n,["responseModalities"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","responseModalities"],s);const f=r(n,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const m=r(n,["topP"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topP"],m);const h=r(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const y=r(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const p=r(n,["mediaResolution"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","mediaResolution"],p);const x=r(n,["seed"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","seed"],x);const C=r(n,["speechConfig"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","speechConfig"],XS(Vc(C)));const _=r(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],_);const M=r(n,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],r_(vt(M)));const D=r(n,["tools"]);if(e!==void 0&&D!=null){let $=zl(D);Array.isArray($)&&($=$.map(ae=>A_(Ol(ae)))),u(e,["setup","tools"],$)}const q=r(n,["sessionResumption"]);e!==void 0&&q!=null&&u(e,["setup","sessionResumption"],M_(q));const B=r(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&u(e,["setup","inputAudioTranscription"],cg());const Z=r(n,["outputAudioTranscription"]);e!==void 0&&Z!=null&&u(e,["setup","outputAudioTranscription"],cg());const z=r(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&u(e,["setup","realtimeInputConfig"],I_(z));const Y=r(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&u(e,["setup","contextWindowCompression"],V_(Y));const X=r(n,["proactivity"]);return e!==void 0&&X!=null&&u(e,["setup","proactivity"],q_(X)),l}function O_(n,e){const l={},o=r(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const s=r(n,["responseModalities"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","responseModalities"],s);const f=r(n,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const m=r(n,["topP"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topP"],m);const h=r(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const y=r(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const p=r(n,["mediaResolution"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","mediaResolution"],p);const x=r(n,["seed"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","seed"],x);const C=r(n,["speechConfig"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","speechConfig"],WS(Vc(C)));const _=r(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],_);const M=r(n,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],u_(vt(M)));const D=r(n,["tools"]);if(e!==void 0&&D!=null){let $=zl(D);Array.isArray($)&&($=$.map(ae=>w_(Ol(ae)))),u(e,["setup","tools"],$)}const q=r(n,["sessionResumption"]);e!==void 0&&q!=null&&u(e,["setup","sessionResumption"],N_(q));const B=r(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&u(e,["setup","inputAudioTranscription"],fg());const Z=r(n,["outputAudioTranscription"]);e!==void 0&&Z!=null&&u(e,["setup","outputAudioTranscription"],fg());const z=r(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&u(e,["setup","realtimeInputConfig"],U_(z));const Y=r(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&u(e,["setup","contextWindowCompression"],P_(Y));const X=r(n,["proactivity"]);return e!==void 0&&X!=null&&u(e,["setup","proactivity"],B_(X)),l}function z_(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["setup","model"],Pe(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],G_(s,l)),l}function H_(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["setup","model"],Pe(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],O_(s,l)),l}function F_(){return{}}function J_(){return{}}function Y_(){return{}}function Z_(){return{}}function $_(n){const e={},l=r(n,["media"]);l!=null&&u(e,["mediaChunks"],Pg(l));const o=r(n,["audio"]);o!=null&&u(e,["audio"],Bg(o));const s=r(n,["audioStreamEnd"]);s!=null&&u(e,["audioStreamEnd"],s);const f=r(n,["video"]);f!=null&&u(e,["video"],qg(f));const m=r(n,["text"]);return m!=null&&u(e,["text"],m),r(n,["activityStart"])!=null&&u(e,["activityStart"],F_()),r(n,["activityEnd"])!=null&&u(e,["activityEnd"],Y_()),e}function j_(n){const e={},l=r(n,["media"]);l!=null&&u(e,["mediaChunks"],Pg(l));const o=r(n,["audio"]);o!=null&&u(e,["audio"],Bg(o));const s=r(n,["audioStreamEnd"]);s!=null&&u(e,["audioStreamEnd"],s);const f=r(n,["video"]);f!=null&&u(e,["video"],qg(f));const m=r(n,["text"]);return m!=null&&u(e,["text"],m),r(n,["activityStart"])!=null&&u(e,["activityStart"],J_()),r(n,["activityEnd"])!=null&&u(e,["activityEnd"],Z_()),e}function ey(n){const e={},l=r(n,["text"]);l!=null&&u(e,["text"],l);const o=r(n,["weight"]);return o!=null&&u(e,["weight"],o),e}function Q_(n){const e={},l=r(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>ey(s))),u(e,["weightedPrompts"],o)}return e}function ty(n){const e={},l=r(n,["temperature"]);l!=null&&u(e,["temperature"],l);const o=r(n,["topK"]);o!=null&&u(e,["topK"],o);const s=r(n,["seed"]);s!=null&&u(e,["seed"],s);const f=r(n,["guidance"]);f!=null&&u(e,["guidance"],f);const m=r(n,["bpm"]);m!=null&&u(e,["bpm"],m);const h=r(n,["density"]);h!=null&&u(e,["density"],h);const y=r(n,["brightness"]);y!=null&&u(e,["brightness"],y);const p=r(n,["scale"]);p!=null&&u(e,["scale"],p);const x=r(n,["muteBass"]);x!=null&&u(e,["muteBass"],x);const C=r(n,["muteDrums"]);C!=null&&u(e,["muteDrums"],C);const _=r(n,["onlyBassAndDrums"]);return _!=null&&u(e,["onlyBassAndDrums"],_),e}function K_(n){const e={},l=r(n,["musicGenerationConfig"]);return l!=null&&u(e,["musicGenerationConfig"],ty(l)),e}function ny(n){const e={},l=r(n,["model"]);return l!=null&&u(e,["model"],l),e}function iy(n){const e={},l=r(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>ey(s))),u(e,["weightedPrompts"],o)}return e}function Mc(n){const e={},l=r(n,["setup"]);l!=null&&u(e,["setup"],ny(l));const o=r(n,["clientContent"]);o!=null&&u(e,["clientContent"],iy(o));const s=r(n,["musicGenerationConfig"]);s!=null&&u(e,["musicGenerationConfig"],ty(s));const f=r(n,["playbackControl"]);return f!=null&&u(e,["playbackControl"],f),e}function X_(){return{}}function W_(n){const e={},l=r(n,["sessionId"]);return l!=null&&u(e,["sessionId"],l),e}function eb(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function tb(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function nb(n){const e={},l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function ib(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function lb(n){const e={},l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function ob(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function ab(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],eb(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],nb(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],lb(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function sb(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],tb(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],ib(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],ob(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function rb(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>ab(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function ub(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>sb(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function dg(n){const e={},l=r(n,["text"]);l!=null&&u(e,["text"],l);const o=r(n,["finished"]);return o!=null&&u(e,["finished"],o),e}function mg(n){const e={},l=r(n,["text"]);l!=null&&u(e,["text"],l);const o=r(n,["finished"]);return o!=null&&u(e,["finished"],o),e}function cb(n){const e={},l=r(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=r(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function fb(n){const e={},l=r(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>cb(s))),u(e,["urlMetadata"],o)}return e}function db(n){const e={},l=r(n,["modelTurn"]);l!=null&&u(e,["modelTurn"],rb(l));const o=r(n,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const s=r(n,["interrupted"]);s!=null&&u(e,["interrupted"],s);const f=r(n,["groundingMetadata"]);f!=null&&u(e,["groundingMetadata"],f);const m=r(n,["generationComplete"]);m!=null&&u(e,["generationComplete"],m);const h=r(n,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],dg(h));const y=r(n,["outputTranscription"]);y!=null&&u(e,["outputTranscription"],dg(y));const p=r(n,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],fb(p)),e}function mb(n){const e={},l=r(n,["modelTurn"]);l!=null&&u(e,["modelTurn"],ub(l));const o=r(n,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const s=r(n,["interrupted"]);s!=null&&u(e,["interrupted"],s);const f=r(n,["groundingMetadata"]);f!=null&&u(e,["groundingMetadata"],f);const m=r(n,["generationComplete"]);m!=null&&u(e,["generationComplete"],m);const h=r(n,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],mg(h));const y=r(n,["outputTranscription"]);return y!=null&&u(e,["outputTranscription"],mg(y)),e}function hb(n){const e={},l=r(n,["id"]);l!=null&&u(e,["id"],l);const o=r(n,["args"]);o!=null&&u(e,["args"],o);const s=r(n,["name"]);return s!=null&&u(e,["name"],s),e}function pb(n){const e={},l=r(n,["args"]);l!=null&&u(e,["args"],l);const o=r(n,["name"]);return o!=null&&u(e,["name"],o),e}function gb(n){const e={},l=r(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>hb(s))),u(e,["functionCalls"],o)}return e}function yb(n){const e={},l=r(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>pb(s))),u(e,["functionCalls"],o)}return e}function vb(n){const e={},l=r(n,["ids"]);return l!=null&&u(e,["ids"],l),e}function xb(n){const e={},l=r(n,["ids"]);return l!=null&&u(e,["ids"],l),e}function ps(n){const e={},l=r(n,["modality"]);l!=null&&u(e,["modality"],l);const o=r(n,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function gs(n){const e={},l=r(n,["modality"]);l!=null&&u(e,["modality"],l);const o=r(n,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function Tb(n){const e={},l=r(n,["promptTokenCount"]);l!=null&&u(e,["promptTokenCount"],l);const o=r(n,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const s=r(n,["responseTokenCount"]);s!=null&&u(e,["responseTokenCount"],s);const f=r(n,["toolUsePromptTokenCount"]);f!=null&&u(e,["toolUsePromptTokenCount"],f);const m=r(n,["thoughtsTokenCount"]);m!=null&&u(e,["thoughtsTokenCount"],m);const h=r(n,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const y=r(n,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(M=>ps(M))),u(e,["promptTokensDetails"],_)}const p=r(n,["cacheTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(M=>ps(M))),u(e,["cacheTokensDetails"],_)}const x=r(n,["responseTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(M=>ps(M))),u(e,["responseTokensDetails"],_)}const C=r(n,["toolUsePromptTokensDetails"]);if(C!=null){let _=C;Array.isArray(_)&&(_=_.map(M=>ps(M))),u(e,["toolUsePromptTokensDetails"],_)}return e}function Cb(n){const e={},l=r(n,["promptTokenCount"]);l!=null&&u(e,["promptTokenCount"],l);const o=r(n,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const s=r(n,["candidatesTokenCount"]);s!=null&&u(e,["responseTokenCount"],s);const f=r(n,["toolUsePromptTokenCount"]);f!=null&&u(e,["toolUsePromptTokenCount"],f);const m=r(n,["thoughtsTokenCount"]);m!=null&&u(e,["thoughtsTokenCount"],m);const h=r(n,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const y=r(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(D=>gs(D))),u(e,["promptTokensDetails"],M)}const p=r(n,["cacheTokensDetails"]);if(p!=null){let M=p;Array.isArray(M)&&(M=M.map(D=>gs(D))),u(e,["cacheTokensDetails"],M)}const x=r(n,["candidatesTokensDetails"]);if(x!=null){let M=x;Array.isArray(M)&&(M=M.map(D=>gs(D))),u(e,["responseTokensDetails"],M)}const C=r(n,["toolUsePromptTokensDetails"]);if(C!=null){let M=C;Array.isArray(M)&&(M=M.map(D=>gs(D))),u(e,["toolUsePromptTokensDetails"],M)}const _=r(n,["trafficType"]);return _!=null&&u(e,["trafficType"],_),e}function Sb(n){const e={},l=r(n,["timeLeft"]);return l!=null&&u(e,["timeLeft"],l),e}function _b(n){const e={},l=r(n,["timeLeft"]);return l!=null&&u(e,["timeLeft"],l),e}function bb(n){const e={},l=r(n,["newHandle"]);l!=null&&u(e,["newHandle"],l);const o=r(n,["resumable"]);o!=null&&u(e,["resumable"],o);const s=r(n,["lastConsumedClientMessageIndex"]);return s!=null&&u(e,["lastConsumedClientMessageIndex"],s),e}function Eb(n){const e={},l=r(n,["newHandle"]);l!=null&&u(e,["newHandle"],l);const o=r(n,["resumable"]);o!=null&&u(e,["resumable"],o);const s=r(n,["lastConsumedClientMessageIndex"]);return s!=null&&u(e,["lastConsumedClientMessageIndex"],s),e}function Ab(n){const e={};r(n,["setupComplete"])!=null&&u(e,["setupComplete"],X_());const o=r(n,["serverContent"]);o!=null&&u(e,["serverContent"],db(o));const s=r(n,["toolCall"]);s!=null&&u(e,["toolCall"],gb(s));const f=r(n,["toolCallCancellation"]);f!=null&&u(e,["toolCallCancellation"],vb(f));const m=r(n,["usageMetadata"]);m!=null&&u(e,["usageMetadata"],Tb(m));const h=r(n,["goAway"]);h!=null&&u(e,["goAway"],Sb(h));const y=r(n,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],bb(y)),e}function wb(n){const e={},l=r(n,["setupComplete"]);l!=null&&u(e,["setupComplete"],W_(l));const o=r(n,["serverContent"]);o!=null&&u(e,["serverContent"],mb(o));const s=r(n,["toolCall"]);s!=null&&u(e,["toolCall"],yb(s));const f=r(n,["toolCallCancellation"]);f!=null&&u(e,["toolCallCancellation"],xb(f));const m=r(n,["usageMetadata"]);m!=null&&u(e,["usageMetadata"],Cb(m));const h=r(n,["goAway"]);h!=null&&u(e,["goAway"],_b(h));const y=r(n,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],Eb(y)),e}function Mb(){return{}}function Nb(n){const e={},l=r(n,["text"]);l!=null&&u(e,["text"],l);const o=r(n,["weight"]);return o!=null&&u(e,["weight"],o),e}function Rb(n){const e={},l=r(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Nb(s))),u(e,["weightedPrompts"],o)}return e}function Db(n){const e={},l=r(n,["temperature"]);l!=null&&u(e,["temperature"],l);const o=r(n,["topK"]);o!=null&&u(e,["topK"],o);const s=r(n,["seed"]);s!=null&&u(e,["seed"],s);const f=r(n,["guidance"]);f!=null&&u(e,["guidance"],f);const m=r(n,["bpm"]);m!=null&&u(e,["bpm"],m);const h=r(n,["density"]);h!=null&&u(e,["density"],h);const y=r(n,["brightness"]);y!=null&&u(e,["brightness"],y);const p=r(n,["scale"]);p!=null&&u(e,["scale"],p);const x=r(n,["muteBass"]);x!=null&&u(e,["muteBass"],x);const C=r(n,["muteDrums"]);C!=null&&u(e,["muteDrums"],C);const _=r(n,["onlyBassAndDrums"]);return _!=null&&u(e,["onlyBassAndDrums"],_),e}function Ib(n){const e={},l=r(n,["clientContent"]);l!=null&&u(e,["clientContent"],Rb(l));const o=r(n,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],Db(o)),e}function Ub(n){const e={},l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);o!=null&&u(e,["mimeType"],o);const s=r(n,["sourceMetadata"]);return s!=null&&u(e,["sourceMetadata"],Ib(s)),e}function kb(n){const e={},l=r(n,["audioChunks"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Ub(s))),u(e,["audioChunks"],o)}return e}function Lb(n){const e={},l=r(n,["text"]);l!=null&&u(e,["text"],l);const o=r(n,["filteredReason"]);return o!=null&&u(e,["filteredReason"],o),e}function Vb(n){const e={};r(n,["setupComplete"])!=null&&u(e,["setupComplete"],Mb());const o=r(n,["serverContent"]);o!=null&&u(e,["serverContent"],kb(o));const s=r(n,["filteredPrompt"]);return s!=null&&u(e,["filteredPrompt"],Lb(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pb(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function qb(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Bb(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Gb(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],Pb(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],qb(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],Bb(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function Us(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>Gb(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function Ob(n){const e={},l=r(n,["anyOf"]);l!=null&&u(e,["anyOf"],l);const o=r(n,["default"]);o!=null&&u(e,["default"],o);const s=r(n,["description"]);s!=null&&u(e,["description"],s);const f=r(n,["enum"]);f!=null&&u(e,["enum"],f);const m=r(n,["example"]);m!=null&&u(e,["example"],m);const h=r(n,["format"]);h!=null&&u(e,["format"],h);const y=r(n,["items"]);y!=null&&u(e,["items"],y);const p=r(n,["maxItems"]);p!=null&&u(e,["maxItems"],p);const x=r(n,["maxLength"]);x!=null&&u(e,["maxLength"],x);const C=r(n,["maxProperties"]);C!=null&&u(e,["maxProperties"],C);const _=r(n,["maximum"]);_!=null&&u(e,["maximum"],_);const M=r(n,["minItems"]);M!=null&&u(e,["minItems"],M);const D=r(n,["minLength"]);D!=null&&u(e,["minLength"],D);const q=r(n,["minProperties"]);q!=null&&u(e,["minProperties"],q);const B=r(n,["minimum"]);B!=null&&u(e,["minimum"],B);const Z=r(n,["nullable"]);Z!=null&&u(e,["nullable"],Z);const z=r(n,["pattern"]);z!=null&&u(e,["pattern"],z);const Y=r(n,["properties"]);Y!=null&&u(e,["properties"],Y);const X=r(n,["propertyOrdering"]);X!=null&&u(e,["propertyOrdering"],X);const $=r(n,["required"]);$!=null&&u(e,["required"],$);const ae=r(n,["title"]);ae!=null&&u(e,["title"],ae);const ne=r(n,["type"]);return ne!=null&&u(e,["type"],ne),e}function zb(n){const e={};if(r(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=r(n,["category"]);l!=null&&u(e,["category"],l);const o=r(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function Hb(n){const e={},l=r(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const s=r(n,["name"]);s!=null&&u(e,["name"],s);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=r(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function Fb(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function Jb(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],Fb(l)),e}function Yb(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function Zb(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],Yb(l)),e}function $b(){return{}}function jb(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>Hb(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],Jb(o));const s=r(n,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],Zb(s)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],$b());const m=r(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=r(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function Qb(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function Kb(n){const e={},l=r(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function Xb(n){const e={},l=r(n,["latLng"]);l!=null&&u(e,["latLng"],Kb(l));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function Wb(n){const e={},l=r(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],Qb(l));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],Xb(o)),e}function eE(n){const e={},l=r(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function ly(n){const e={},l=r(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],eE(l)),e}function tE(n){const e={},l=r(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=r(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],ly(o)),e}function nE(n){const e={},l=r(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>tE(s))),u(e,["speakerVoiceConfigs"],o)}return e}function iE(n){const e={},l=r(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],ly(l));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],nE(o));const s=r(n,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function lE(n){const e={},l=r(n,["includeThoughts"]);l!=null&&u(e,["includeThoughts"],l);const o=r(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function oE(n,e,l){const o={},s=r(e,["systemInstruction"]);l!==void 0&&s!=null&&u(l,["systemInstruction"],Us(vt(s)));const f=r(e,["temperature"]);f!=null&&u(o,["temperature"],f);const m=r(e,["topP"]);m!=null&&u(o,["topP"],m);const h=r(e,["topK"]);h!=null&&u(o,["topK"],h);const y=r(e,["candidateCount"]);y!=null&&u(o,["candidateCount"],y);const p=r(e,["maxOutputTokens"]);p!=null&&u(o,["maxOutputTokens"],p);const x=r(e,["stopSequences"]);x!=null&&u(o,["stopSequences"],x);const C=r(e,["responseLogprobs"]);C!=null&&u(o,["responseLogprobs"],C);const _=r(e,["logprobs"]);_!=null&&u(o,["logprobs"],_);const M=r(e,["presencePenalty"]);M!=null&&u(o,["presencePenalty"],M);const D=r(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const q=r(e,["seed"]);q!=null&&u(o,["seed"],q);const B=r(e,["responseMimeType"]);B!=null&&u(o,["responseMimeType"],B);const Z=r(e,["responseSchema"]);Z!=null&&u(o,["responseSchema"],Ob(Wo(Z)));const z=r(e,["responseJsonSchema"]);if(z!=null&&u(o,["responseJsonSchema"],z),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=r(e,["safetySettings"]);if(l!==void 0&&Y!=null){let le=Y;Array.isArray(le)&&(le=le.map(re=>zb(re))),u(l,["safetySettings"],le)}const X=r(e,["tools"]);if(l!==void 0&&X!=null){let le=zl(X);Array.isArray(le)&&(le=le.map(re=>jb(Ol(re)))),u(l,["tools"],le)}const $=r(e,["toolConfig"]);if(l!==void 0&&$!=null&&u(l,["toolConfig"],Wb($)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=r(e,["cachedContent"]);l!==void 0&&ae!=null&&u(l,["cachedContent"],Un(n,ae));const ne=r(e,["responseModalities"]);ne!=null&&u(o,["responseModalities"],ne);const J=r(e,["mediaResolution"]);J!=null&&u(o,["mediaResolution"],J);const j=r(e,["speechConfig"]);if(j!=null&&u(o,["speechConfig"],iE(Lc(j))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=r(e,["thinkingConfig"]);return oe!=null&&u(o,["thinkingConfig"],lE(oe)),o}function hg(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["contents"]);if(s!=null){let m=Kt(s);Array.isArray(m)&&(m=m.map(h=>Us(h))),u(l,["contents"],m)}const f=r(e,["config"]);return f!=null&&u(l,["generationConfig"],oE(n,f,l)),l}function aE(n,e){const l={},o=r(n,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const s=r(n,["title"]);e!==void 0&&s!=null&&u(e,["requests[]","title"],s);const f=r(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&u(e,["requests[]","outputDimensionality"],f),r(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function sE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["contents"]);s!=null&&u(l,["requests[]","content"],Og(n,s));const f=r(e,["config"]);f!=null&&u(l,["config"],aE(f,l));const m=r(e,["model"]);return m!==void 0&&u(l,["requests[]","model"],Pe(n,m)),l}function rE(n,e){const l={};if(r(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=r(n,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const s=r(n,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);const f=r(n,["guidanceScale"]);if(e!==void 0&&f!=null&&u(e,["parameters","guidanceScale"],f),r(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=r(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const h=r(n,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const y=r(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&u(e,["parameters","includeSafetyAttributes"],y);const p=r(n,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const x=r(n,["language"]);e!==void 0&&x!=null&&u(e,["parameters","language"],x);const C=r(n,["outputMimeType"]);e!==void 0&&C!=null&&u(e,["parameters","outputOptions","mimeType"],C);const _=r(n,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&u(e,["parameters","outputOptions","compressionQuality"],_),r(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function uE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["prompt"]);s!=null&&u(l,["instances[0]","prompt"],s);const f=r(e,["config"]);return f!=null&&u(l,["config"],rE(f,l)),l}function cE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","name"],Pe(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function fE(n,e,l){const o={},s=r(e,["pageSize"]);l!==void 0&&s!=null&&u(l,["_query","pageSize"],s);const f=r(e,["pageToken"]);l!==void 0&&f!=null&&u(l,["_query","pageToken"],f);const m=r(e,["filter"]);l!==void 0&&m!=null&&u(l,["_query","filter"],m);const h=r(e,["queryBase"]);return l!==void 0&&h!=null&&u(l,["_url","models_url"],Fg(n,h)),o}function dE(n,e){const l={},o=r(e,["config"]);return o!=null&&u(l,["config"],fE(n,o,l)),l}function mE(n,e){const l={},o=r(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const s=r(n,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);const f=r(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&u(e,["defaultCheckpointId"],f),l}function hE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","name"],Pe(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],mE(s,l)),l}function pE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","name"],Pe(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function gE(n){const e={};if(r(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function yE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["contents"]);if(s!=null){let m=Kt(s);Array.isArray(m)&&(m=m.map(h=>Us(h))),u(l,["contents"],m)}const f=r(e,["config"]);return f!=null&&u(l,["config"],gE(f)),l}function vE(n){const e={};if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=r(n,["imageBytes"]);l!=null&&u(e,["bytesBase64Encoded"],kn(l));const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function xE(n,e){const l={},o=r(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),r(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=r(n,["durationSeconds"]);if(e!==void 0&&s!=null&&u(e,["parameters","durationSeconds"],s),r(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=r(n,["aspectRatio"]);if(e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f),r(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=r(n,["personGeneration"]);if(e!==void 0&&m!=null&&u(e,["parameters","personGeneration"],m),r(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=r(n,["negativePrompt"]);e!==void 0&&h!=null&&u(e,["parameters","negativePrompt"],h);const y=r(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&u(e,["parameters","enhancePrompt"],y),r(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(r(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(r(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function TE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["prompt"]);s!=null&&u(l,["instances[0]","prompt"],s);const f=r(e,["image"]);if(f!=null&&u(l,["instances[0]","image"],vE(f)),r(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=r(e,["config"]);return m!=null&&u(l,["config"],xE(m,l)),l}function CE(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function SE(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function _E(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function bE(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],CE(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],SE(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],_E(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function Fl(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>bE(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function EE(n){const e={},l=r(n,["anyOf"]);l!=null&&u(e,["anyOf"],l);const o=r(n,["default"]);o!=null&&u(e,["default"],o);const s=r(n,["description"]);s!=null&&u(e,["description"],s);const f=r(n,["enum"]);f!=null&&u(e,["enum"],f);const m=r(n,["example"]);m!=null&&u(e,["example"],m);const h=r(n,["format"]);h!=null&&u(e,["format"],h);const y=r(n,["items"]);y!=null&&u(e,["items"],y);const p=r(n,["maxItems"]);p!=null&&u(e,["maxItems"],p);const x=r(n,["maxLength"]);x!=null&&u(e,["maxLength"],x);const C=r(n,["maxProperties"]);C!=null&&u(e,["maxProperties"],C);const _=r(n,["maximum"]);_!=null&&u(e,["maximum"],_);const M=r(n,["minItems"]);M!=null&&u(e,["minItems"],M);const D=r(n,["minLength"]);D!=null&&u(e,["minLength"],D);const q=r(n,["minProperties"]);q!=null&&u(e,["minProperties"],q);const B=r(n,["minimum"]);B!=null&&u(e,["minimum"],B);const Z=r(n,["nullable"]);Z!=null&&u(e,["nullable"],Z);const z=r(n,["pattern"]);z!=null&&u(e,["pattern"],z);const Y=r(n,["properties"]);Y!=null&&u(e,["properties"],Y);const X=r(n,["propertyOrdering"]);X!=null&&u(e,["propertyOrdering"],X);const $=r(n,["required"]);$!=null&&u(e,["required"],$);const ae=r(n,["title"]);ae!=null&&u(e,["title"],ae);const ne=r(n,["type"]);return ne!=null&&u(e,["type"],ne),e}function AE(n){const e={},l=r(n,["featureSelectionPreference"]);return l!=null&&u(e,["featureSelectionPreference"],l),e}function wE(n){const e={},l=r(n,["method"]);l!=null&&u(e,["method"],l);const o=r(n,["category"]);o!=null&&u(e,["category"],o);const s=r(n,["threshold"]);return s!=null&&u(e,["threshold"],s),e}function ME(n){const e={};if(r(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(n,["description"]);l!=null&&u(e,["description"],l);const o=r(n,["name"]);o!=null&&u(e,["name"],o);const s=r(n,["parameters"]);s!=null&&u(e,["parameters"],s);const f=r(n,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const m=r(n,["response"]);m!=null&&u(e,["response"],m);const h=r(n,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function NE(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function RE(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],NE(l)),e}function DE(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function IE(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],DE(l)),e}function UE(){return{}}function kE(n){const e={},l=r(n,["apiKeyString"]);return l!=null&&u(e,["apiKeyString"],l),e}function LE(n){const e={},l=r(n,["apiKeyConfig"]);l!=null&&u(e,["apiKeyConfig"],kE(l));const o=r(n,["authType"]);o!=null&&u(e,["authType"],o);const s=r(n,["googleServiceAccountConfig"]);s!=null&&u(e,["googleServiceAccountConfig"],s);const f=r(n,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const m=r(n,["oauthConfig"]);m!=null&&u(e,["oauthConfig"],m);const h=r(n,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function VE(n){const e={},l=r(n,["authConfig"]);return l!=null&&u(e,["authConfig"],LE(l)),e}function PE(){return{}}function oy(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(_=>ME(_))),u(e,["functionDeclarations"],C)}const o=r(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const s=r(n,["googleSearch"]);s!=null&&u(e,["googleSearch"],RE(s));const f=r(n,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],IE(f)),r(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],UE());const h=r(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],VE(h)),r(n,["urlContext"])!=null&&u(e,["urlContext"],PE());const p=r(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const x=r(n,["computerUse"]);return x!=null&&u(e,["computerUse"],x),e}function qE(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function BE(n){const e={},l=r(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function GE(n){const e={},l=r(n,["latLng"]);l!=null&&u(e,["latLng"],BE(l));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function OE(n){const e={},l=r(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],qE(l));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],GE(o)),e}function zE(n){const e={},l=r(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function HE(n){const e={},l=r(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],zE(l)),e}function FE(n){const e={},l=r(n,["voiceConfig"]);if(l!=null&&u(e,["voiceConfig"],HE(l)),r(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function JE(n){const e={},l=r(n,["includeThoughts"]);l!=null&&u(e,["includeThoughts"],l);const o=r(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function YE(n,e,l){const o={},s=r(e,["systemInstruction"]);l!==void 0&&s!=null&&u(l,["systemInstruction"],Fl(vt(s)));const f=r(e,["temperature"]);f!=null&&u(o,["temperature"],f);const m=r(e,["topP"]);m!=null&&u(o,["topP"],m);const h=r(e,["topK"]);h!=null&&u(o,["topK"],h);const y=r(e,["candidateCount"]);y!=null&&u(o,["candidateCount"],y);const p=r(e,["maxOutputTokens"]);p!=null&&u(o,["maxOutputTokens"],p);const x=r(e,["stopSequences"]);x!=null&&u(o,["stopSequences"],x);const C=r(e,["responseLogprobs"]);C!=null&&u(o,["responseLogprobs"],C);const _=r(e,["logprobs"]);_!=null&&u(o,["logprobs"],_);const M=r(e,["presencePenalty"]);M!=null&&u(o,["presencePenalty"],M);const D=r(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const q=r(e,["seed"]);q!=null&&u(o,["seed"],q);const B=r(e,["responseMimeType"]);B!=null&&u(o,["responseMimeType"],B);const Z=r(e,["responseSchema"]);Z!=null&&u(o,["responseSchema"],EE(Wo(Z)));const z=r(e,["responseJsonSchema"]);z!=null&&u(o,["responseJsonSchema"],z);const Y=r(e,["routingConfig"]);Y!=null&&u(o,["routingConfig"],Y);const X=r(e,["modelSelectionConfig"]);X!=null&&u(o,["modelConfig"],AE(X));const $=r(e,["safetySettings"]);if(l!==void 0&&$!=null){let ge=$;Array.isArray(ge)&&(ge=ge.map(E=>wE(E))),u(l,["safetySettings"],ge)}const ae=r(e,["tools"]);if(l!==void 0&&ae!=null){let ge=zl(ae);Array.isArray(ge)&&(ge=ge.map(E=>oy(Ol(E)))),u(l,["tools"],ge)}const ne=r(e,["toolConfig"]);l!==void 0&&ne!=null&&u(l,["toolConfig"],OE(ne));const J=r(e,["labels"]);l!==void 0&&J!=null&&u(l,["labels"],J);const j=r(e,["cachedContent"]);l!==void 0&&j!=null&&u(l,["cachedContent"],Un(n,j));const oe=r(e,["responseModalities"]);oe!=null&&u(o,["responseModalities"],oe);const le=r(e,["mediaResolution"]);le!=null&&u(o,["mediaResolution"],le);const re=r(e,["speechConfig"]);re!=null&&u(o,["speechConfig"],FE(Lc(re)));const Me=r(e,["audioTimestamp"]);Me!=null&&u(o,["audioTimestamp"],Me);const Re=r(e,["thinkingConfig"]);return Re!=null&&u(o,["thinkingConfig"],JE(Re)),o}function pg(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["contents"]);if(s!=null){let m=Kt(s);Array.isArray(m)&&(m=m.map(h=>Fl(h))),u(l,["contents"],m)}const f=r(e,["config"]);return f!=null&&u(l,["generationConfig"],YE(n,f,l)),l}function ZE(n,e){const l={},o=r(n,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const s=r(n,["title"]);e!==void 0&&s!=null&&u(e,["instances[]","title"],s);const f=r(n,["outputDimensionality"]);e!==void 0&&f!=null&&u(e,["parameters","outputDimensionality"],f);const m=r(n,["mimeType"]);e!==void 0&&m!=null&&u(e,["instances[]","mimeType"],m);const h=r(n,["autoTruncate"]);return e!==void 0&&h!=null&&u(e,["parameters","autoTruncate"],h),l}function $E(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["contents"]);s!=null&&u(l,["instances[]","content"],Og(n,s));const f=r(e,["config"]);return f!=null&&u(l,["config"],ZE(f,l)),l}function jE(n,e){const l={},o=r(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const s=r(n,["negativePrompt"]);e!==void 0&&s!=null&&u(e,["parameters","negativePrompt"],s);const f=r(n,["numberOfImages"]);e!==void 0&&f!=null&&u(e,["parameters","sampleCount"],f);const m=r(n,["aspectRatio"]);e!==void 0&&m!=null&&u(e,["parameters","aspectRatio"],m);const h=r(n,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const y=r(n,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const p=r(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const x=r(n,["personGeneration"]);e!==void 0&&x!=null&&u(e,["parameters","personGeneration"],x);const C=r(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&u(e,["parameters","includeSafetyAttributes"],C);const _=r(n,["includeRaiReason"]);e!==void 0&&_!=null&&u(e,["parameters","includeRaiReason"],_);const M=r(n,["language"]);e!==void 0&&M!=null&&u(e,["parameters","language"],M);const D=r(n,["outputMimeType"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","mimeType"],D);const q=r(n,["outputCompressionQuality"]);e!==void 0&&q!=null&&u(e,["parameters","outputOptions","compressionQuality"],q);const B=r(n,["addWatermark"]);e!==void 0&&B!=null&&u(e,["parameters","addWatermark"],B);const Z=r(n,["enhancePrompt"]);return e!==void 0&&Z!=null&&u(e,["parameters","enhancePrompt"],Z),l}function QE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["prompt"]);s!=null&&u(l,["instances[0]","prompt"],s);const f=r(e,["config"]);return f!=null&&u(l,["config"],jE(f,l)),l}function ks(n){const e={},l=r(n,["gcsUri"]);l!=null&&u(e,["gcsUri"],l);const o=r(n,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],kn(o));const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function KE(n){const e={},l=r(n,["maskMode"]);l!=null&&u(e,["maskMode"],l);const o=r(n,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const s=r(n,["maskDilation"]);return s!=null&&u(e,["dilation"],s),e}function XE(n){const e={},l=r(n,["controlType"]);l!=null&&u(e,["controlType"],l);const o=r(n,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function WE(n){const e={},l=r(n,["styleDescription"]);return l!=null&&u(e,["styleDescription"],l),e}function eA(n){const e={},l=r(n,["subjectType"]);l!=null&&u(e,["subjectType"],l);const o=r(n,["subjectDescription"]);return o!=null&&u(e,["subjectDescription"],o),e}function tA(n){const e={},l=r(n,["referenceImage"]);l!=null&&u(e,["referenceImage"],ks(l));const o=r(n,["referenceId"]);o!=null&&u(e,["referenceId"],o);const s=r(n,["referenceType"]);s!=null&&u(e,["referenceType"],s);const f=r(n,["maskImageConfig"]);f!=null&&u(e,["maskImageConfig"],KE(f));const m=r(n,["controlImageConfig"]);m!=null&&u(e,["controlImageConfig"],XE(m));const h=r(n,["styleImageConfig"]);h!=null&&u(e,["styleImageConfig"],WE(h));const y=r(n,["subjectImageConfig"]);return y!=null&&u(e,["subjectImageConfig"],eA(y)),e}function nA(n,e){const l={},o=r(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const s=r(n,["negativePrompt"]);e!==void 0&&s!=null&&u(e,["parameters","negativePrompt"],s);const f=r(n,["numberOfImages"]);e!==void 0&&f!=null&&u(e,["parameters","sampleCount"],f);const m=r(n,["aspectRatio"]);e!==void 0&&m!=null&&u(e,["parameters","aspectRatio"],m);const h=r(n,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const y=r(n,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const p=r(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const x=r(n,["personGeneration"]);e!==void 0&&x!=null&&u(e,["parameters","personGeneration"],x);const C=r(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&u(e,["parameters","includeSafetyAttributes"],C);const _=r(n,["includeRaiReason"]);e!==void 0&&_!=null&&u(e,["parameters","includeRaiReason"],_);const M=r(n,["language"]);e!==void 0&&M!=null&&u(e,["parameters","language"],M);const D=r(n,["outputMimeType"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","mimeType"],D);const q=r(n,["outputCompressionQuality"]);e!==void 0&&q!=null&&u(e,["parameters","outputOptions","compressionQuality"],q);const B=r(n,["editMode"]);e!==void 0&&B!=null&&u(e,["parameters","editMode"],B);const Z=r(n,["baseSteps"]);return e!==void 0&&Z!=null&&u(e,["parameters","editConfig","baseSteps"],Z),l}function iA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["prompt"]);s!=null&&u(l,["instances[0]","prompt"],s);const f=r(e,["referenceImages"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>tA(y))),u(l,["instances[0]","referenceImages"],h)}const m=r(e,["config"]);return m!=null&&u(l,["config"],nA(m,l)),l}function lA(n,e){const l={},o=r(n,["includeRaiReason"]);e!==void 0&&o!=null&&u(e,["parameters","includeRaiReason"],o);const s=r(n,["outputMimeType"]);e!==void 0&&s!=null&&u(e,["parameters","outputOptions","mimeType"],s);const f=r(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&u(e,["parameters","outputOptions","compressionQuality"],f);const m=r(n,["enhanceInputImage"]);e!==void 0&&m!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],m);const h=r(n,["imagePreservationFactor"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const y=r(n,["numberOfImages"]);e!==void 0&&y!=null&&u(e,["parameters","sampleCount"],y);const p=r(n,["mode"]);return e!==void 0&&p!=null&&u(e,["parameters","mode"],p),l}function oA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["image"]);s!=null&&u(l,["instances[0]","image"],ks(s));const f=r(e,["upscaleFactor"]);f!=null&&u(l,["parameters","upscaleConfig","upscaleFactor"],f);const m=r(e,["config"]);return m!=null&&u(l,["config"],lA(m,l)),l}function aA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","name"],Pe(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function sA(n,e,l){const o={},s=r(e,["pageSize"]);l!==void 0&&s!=null&&u(l,["_query","pageSize"],s);const f=r(e,["pageToken"]);l!==void 0&&f!=null&&u(l,["_query","pageToken"],f);const m=r(e,["filter"]);l!==void 0&&m!=null&&u(l,["_query","filter"],m);const h=r(e,["queryBase"]);return l!==void 0&&h!=null&&u(l,["_url","models_url"],Fg(n,h)),o}function rA(n,e){const l={},o=r(e,["config"]);return o!=null&&u(l,["config"],sA(n,o,l)),l}function uA(n,e){const l={},o=r(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const s=r(n,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);const f=r(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&u(e,["defaultCheckpointId"],f),l}function cA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],uA(s,l)),l}function fA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","name"],Pe(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],s),l}function dA(n,e){const l={},o=r(n,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],Fl(vt(o)));const s=r(n,["tools"]);if(e!==void 0&&s!=null){let m=s;Array.isArray(m)&&(m=m.map(h=>oy(h))),u(e,["tools"],m)}const f=r(n,["generationConfig"]);return e!==void 0&&f!=null&&u(e,["generationConfig"],f),l}function mA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["contents"]);if(s!=null){let m=Kt(s);Array.isArray(m)&&(m=m.map(h=>Fl(h))),u(l,["contents"],m)}const f=r(e,["config"]);return f!=null&&u(l,["config"],dA(f,l)),l}function hA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["contents"]);if(s!=null){let m=Kt(s);Array.isArray(m)&&(m=m.map(h=>Fl(h))),u(l,["contents"],m)}const f=r(e,["config"]);return f!=null&&u(l,["config"],f),l}function pA(n){const e={},l=r(n,["uri"]);l!=null&&u(e,["gcsUri"],l);const o=r(n,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],kn(o));const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function gA(n,e){const l={},o=r(n,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const s=r(n,["outputGcsUri"]);e!==void 0&&s!=null&&u(e,["parameters","storageUri"],s);const f=r(n,["fps"]);e!==void 0&&f!=null&&u(e,["parameters","fps"],f);const m=r(n,["durationSeconds"]);e!==void 0&&m!=null&&u(e,["parameters","durationSeconds"],m);const h=r(n,["seed"]);e!==void 0&&h!=null&&u(e,["parameters","seed"],h);const y=r(n,["aspectRatio"]);e!==void 0&&y!=null&&u(e,["parameters","aspectRatio"],y);const p=r(n,["resolution"]);e!==void 0&&p!=null&&u(e,["parameters","resolution"],p);const x=r(n,["personGeneration"]);e!==void 0&&x!=null&&u(e,["parameters","personGeneration"],x);const C=r(n,["pubsubTopic"]);e!==void 0&&C!=null&&u(e,["parameters","pubsubTopic"],C);const _=r(n,["negativePrompt"]);e!==void 0&&_!=null&&u(e,["parameters","negativePrompt"],_);const M=r(n,["enhancePrompt"]);e!==void 0&&M!=null&&u(e,["parameters","enhancePrompt"],M);const D=r(n,["generateAudio"]);e!==void 0&&D!=null&&u(e,["parameters","generateAudio"],D);const q=r(n,["lastFrame"]);e!==void 0&&q!=null&&u(e,["instances[0]","lastFrame"],ks(q));const B=r(n,["compressionQuality"]);return e!==void 0&&B!=null&&u(e,["parameters","compressionQuality"],B),l}function yA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Pe(n,o));const s=r(e,["prompt"]);s!=null&&u(l,["instances[0]","prompt"],s);const f=r(e,["image"]);f!=null&&u(l,["instances[0]","image"],ks(f));const m=r(e,["video"]);m!=null&&u(l,["instances[0]","video"],pA(m));const h=r(e,["config"]);return h!=null&&u(l,["config"],gA(h,l)),l}function vA(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function xA(n){const e={},l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function TA(n){const e={},l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function CA(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],vA(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],xA(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],TA(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function SA(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>CA(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function _A(n){const e={},l=r(n,["citationSources"]);return l!=null&&u(e,["citations"],l),e}function bA(n){const e={},l=r(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=r(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function EA(n){const e={},l=r(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>bA(s))),u(e,["urlMetadata"],o)}return e}function AA(n){const e={},l=r(n,["content"]);l!=null&&u(e,["content"],SA(l));const o=r(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],_A(o));const s=r(n,["tokenCount"]);s!=null&&u(e,["tokenCount"],s);const f=r(n,["finishReason"]);f!=null&&u(e,["finishReason"],f);const m=r(n,["urlContextMetadata"]);m!=null&&u(e,["urlContextMetadata"],EA(m));const h=r(n,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const y=r(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const p=r(n,["index"]);p!=null&&u(e,["index"],p);const x=r(n,["logprobsResult"]);x!=null&&u(e,["logprobsResult"],x);const C=r(n,["safetyRatings"]);return C!=null&&u(e,["safetyRatings"],C),e}function gg(n){const e={},l=r(n,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>AA(h))),u(e,["candidates"],m)}const o=r(n,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const s=r(n,["promptFeedback"]);s!=null&&u(e,["promptFeedback"],s);const f=r(n,["usageMetadata"]);return f!=null&&u(e,["usageMetadata"],f),e}function wA(n){const e={},l=r(n,["values"]);return l!=null&&u(e,["values"],l),e}function MA(){return{}}function NA(n){const e={},l=r(n,["embeddings"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>wA(f))),u(e,["embeddings"],s)}return r(n,["metadata"])!=null&&u(e,["metadata"],MA()),e}function RA(n){const e={},l=r(n,["bytesBase64Encoded"]);l!=null&&u(e,["imageBytes"],kn(l));const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function ay(n){const e={},l=r(n,["safetyAttributes","categories"]);l!=null&&u(e,["categories"],l);const o=r(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const s=r(n,["contentType"]);return s!=null&&u(e,["contentType"],s),e}function DA(n){const e={},l=r(n,["_self"]);l!=null&&u(e,["image"],RA(l));const o=r(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const s=r(n,["_self"]);return s!=null&&u(e,["safetyAttributes"],ay(s)),e}function IA(n){const e={},l=r(n,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>DA(f))),u(e,["generatedImages"],s)}const o=r(n,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],ay(o)),e}function UA(n){const e={},l=r(n,["baseModel"]);l!=null&&u(e,["baseModel"],l);const o=r(n,["createTime"]);o!=null&&u(e,["createTime"],o);const s=r(n,["updateTime"]);return s!=null&&u(e,["updateTime"],s),e}function Nc(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const s=r(n,["description"]);s!=null&&u(e,["description"],s);const f=r(n,["version"]);f!=null&&u(e,["version"],f);const m=r(n,["_self"]);m!=null&&u(e,["tunedModelInfo"],UA(m));const h=r(n,["inputTokenLimit"]);h!=null&&u(e,["inputTokenLimit"],h);const y=r(n,["outputTokenLimit"]);y!=null&&u(e,["outputTokenLimit"],y);const p=r(n,["supportedGenerationMethods"]);return p!=null&&u(e,["supportedActions"],p),e}function kA(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["_self"]);if(o!=null){let s=Jg(o);Array.isArray(s)&&(s=s.map(f=>Nc(f))),u(e,["models"],s)}return e}function LA(){return{}}function VA(n){const e={},l=r(n,["totalTokens"]);l!=null&&u(e,["totalTokens"],l);const o=r(n,["cachedContentTokenCount"]);return o!=null&&u(e,["cachedContentTokenCount"],o),e}function PA(n){const e={},l=r(n,["video","uri"]);l!=null&&u(e,["uri"],l);const o=r(n,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],kn(o));const s=r(n,["encoding"]);return s!=null&&u(e,["mimeType"],s),e}function qA(n){const e={},l=r(n,["_self"]);return l!=null&&u(e,["video"],PA(l)),e}function BA(n){const e={},l=r(n,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>qA(m))),u(e,["generatedVideos"],f)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const s=r(n,["raiMediaFilteredReasons"]);return s!=null&&u(e,["raiMediaFilteredReasons"],s),e}function GA(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const s=r(n,["done"]);s!=null&&u(e,["done"],s);const f=r(n,["error"]);f!=null&&u(e,["error"],f);const m=r(n,["response","generateVideoResponse"]);return m!=null&&u(e,["response"],BA(m)),e}function OA(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function zA(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function HA(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function FA(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],OA(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],zA(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],HA(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function JA(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>FA(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function YA(n){const e={},l=r(n,["citations"]);return l!=null&&u(e,["citations"],l),e}function ZA(n){const e={},l=r(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=r(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function $A(n){const e={},l=r(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>ZA(s))),u(e,["urlMetadata"],o)}return e}function jA(n){const e={},l=r(n,["content"]);l!=null&&u(e,["content"],JA(l));const o=r(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],YA(o));const s=r(n,["finishMessage"]);s!=null&&u(e,["finishMessage"],s);const f=r(n,["finishReason"]);f!=null&&u(e,["finishReason"],f);const m=r(n,["urlContextMetadata"]);m!=null&&u(e,["urlContextMetadata"],$A(m));const h=r(n,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const y=r(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const p=r(n,["index"]);p!=null&&u(e,["index"],p);const x=r(n,["logprobsResult"]);x!=null&&u(e,["logprobsResult"],x);const C=r(n,["safetyRatings"]);return C!=null&&u(e,["safetyRatings"],C),e}function yg(n){const e={},l=r(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>jA(p))),u(e,["candidates"],y)}const o=r(n,["createTime"]);o!=null&&u(e,["createTime"],o);const s=r(n,["responseId"]);s!=null&&u(e,["responseId"],s);const f=r(n,["modelVersion"]);f!=null&&u(e,["modelVersion"],f);const m=r(n,["promptFeedback"]);m!=null&&u(e,["promptFeedback"],m);const h=r(n,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function QA(n){const e={},l=r(n,["truncated"]);l!=null&&u(e,["truncated"],l);const o=r(n,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function KA(n){const e={},l=r(n,["values"]);l!=null&&u(e,["values"],l);const o=r(n,["statistics"]);return o!=null&&u(e,["statistics"],QA(o)),e}function XA(n){const e={},l=r(n,["billableCharacterCount"]);return l!=null&&u(e,["billableCharacterCount"],l),e}function WA(n){const e={},l=r(n,["predictions[]","embeddings"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>KA(f))),u(e,["embeddings"],s)}const o=r(n,["metadata"]);return o!=null&&u(e,["metadata"],XA(o)),e}function ew(n){const e={},l=r(n,["gcsUri"]);l!=null&&u(e,["gcsUri"],l);const o=r(n,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],kn(o));const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function sy(n){const e={},l=r(n,["safetyAttributes","categories"]);l!=null&&u(e,["categories"],l);const o=r(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const s=r(n,["contentType"]);return s!=null&&u(e,["contentType"],s),e}function Pc(n){const e={},l=r(n,["_self"]);l!=null&&u(e,["image"],ew(l));const o=r(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const s=r(n,["_self"]);s!=null&&u(e,["safetyAttributes"],sy(s));const f=r(n,["prompt"]);return f!=null&&u(e,["enhancedPrompt"],f),e}function tw(n){const e={},l=r(n,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>Pc(f))),u(e,["generatedImages"],s)}const o=r(n,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],sy(o)),e}function nw(n){const e={},l=r(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Pc(s))),u(e,["generatedImages"],o)}return e}function iw(n){const e={},l=r(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Pc(s))),u(e,["generatedImages"],o)}return e}function lw(n){const e={},l=r(n,["endpoint"]);l!=null&&u(e,["name"],l);const o=r(n,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function ow(n){const e={},l=r(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&u(e,["baseModel"],l);const o=r(n,["createTime"]);o!=null&&u(e,["createTime"],o);const s=r(n,["updateTime"]);return s!=null&&u(e,["updateTime"],s),e}function aw(n){const e={},l=r(n,["checkpointId"]);l!=null&&u(e,["checkpointId"],l);const o=r(n,["epoch"]);o!=null&&u(e,["epoch"],o);const s=r(n,["step"]);return s!=null&&u(e,["step"],s),e}function Rc(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const s=r(n,["description"]);s!=null&&u(e,["description"],s);const f=r(n,["versionId"]);f!=null&&u(e,["version"],f);const m=r(n,["deployedModels"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(_=>lw(_))),u(e,["endpoints"],C)}const h=r(n,["labels"]);h!=null&&u(e,["labels"],h);const y=r(n,["_self"]);y!=null&&u(e,["tunedModelInfo"],ow(y));const p=r(n,["defaultCheckpointId"]);p!=null&&u(e,["defaultCheckpointId"],p);const x=r(n,["checkpoints"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(_=>aw(_))),u(e,["checkpoints"],C)}return e}function sw(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["_self"]);if(o!=null){let s=Jg(o);Array.isArray(s)&&(s=s.map(f=>Rc(f))),u(e,["models"],s)}return e}function rw(){return{}}function uw(n){const e={},l=r(n,["totalTokens"]);return l!=null&&u(e,["totalTokens"],l),e}function cw(n){const e={},l=r(n,["tokensInfo"]);return l!=null&&u(e,["tokensInfo"],l),e}function fw(n){const e={},l=r(n,["gcsUri"]);l!=null&&u(e,["uri"],l);const o=r(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],kn(o));const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function dw(n){const e={},l=r(n,["_self"]);return l!=null&&u(e,["video"],fw(l)),e}function mw(n){const e={},l=r(n,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>dw(m))),u(e,["generatedVideos"],f)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const s=r(n,["raiMediaFilteredReasons"]);return s!=null&&u(e,["raiMediaFilteredReasons"],s),e}function hw(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const s=r(n,["done"]);s!=null&&u(e,["done"],s);const f=r(n,["error"]);f!=null&&u(e,["error"],f);const m=r(n,["response"]);return m!=null&&u(e,["response"],mw(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pw="Content-Type",gw="X-Server-Timeout",yw="User-Agent",Dc="x-goog-api-client",vw="1.8.0",xw=`google-genai-sdk/${vw}`,Tw="v1beta1",Cw="v1beta",vg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Sw{constructor(e){var l,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:Tw,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Cw,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,o){const s=[this.getRequestUrlInternal(l)];return o&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,l,o);if(e.queryParams)for(const[m,h]of Object.entries(e.queryParams))s.searchParams.append(m,String(h));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.unaryApiCall(s,f,e.httpMethod)}patchHttpOptions(e,l){const o=JSON.parse(JSON.stringify(e));for(const[s,f]of Object.entries(l))typeof f=="object"?o[s]=Object.assign(Object.assign({},o[s]),f):f!==void 0&&(o[s]=f);return o}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,l,o);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.streamApiCall(s,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,o){if(l&&l.timeout||o){const s=new AbortController,f=s.signal;l.timeout&&(l==null?void 0:l.timeout)>0&&setTimeout(()=>s.abort(),l.timeout),o&&o.addEventListener("abort",()=>{s.abort()}),e.signal=f}return l&&l.extraBody!==null&&_w(e,l.extraBody),e.headers=await this.getHeadersInternal(l),e}async unaryApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async s=>(await xg(s),new _c(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async s=>(await xg(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var l;return Il(this,arguments,function*(){const s=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),f=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let m="";for(;;){const{done:h,value:y}=yield Ye(s.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=f.decode(y);try{const C=JSON.parse(p);if("error"in C){const _=JSON.parse(JSON.stringify(C.error)),M=_.status,D=_.code,q=`got status: ${M}. ${JSON.stringify(C)}`;if(D>=400&&D<600)throw new Is({message:q,status:D})}}catch(C){if(C.name==="ApiError")throw C}m+=p;let x=m.match(vg);for(;x;){const C=x[1];try{const _=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ye(new _c(_)),m=m.slice(x[0].length),x=m.match(vg)}catch(_){throw new Error(`exception parsing stream chunk ${C}. ${_}`)}}}}finally{s.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},l=xw+" "+this.clientOptions.userAgentExtra;return e[yw]=l,e[Dc]=l,e[pw]="application/json",e}async getHeadersInternal(e){const l=new Headers;if(e&&e.headers){for(const[o,s]of Object.entries(e.headers))l.append(o,s);e.timeout&&e.timeout>0&&l.append(gw,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(e,l){var o;const s={};l!=null&&(s.mimeType=l.mimeType,s.name=l.name,s.displayName=l.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const f=this.clientOptions.uploader,m=await f.stat(e);s.sizeBytes=String(m.size);const h=(o=l==null?void 0:l.mimeType)!==null&&o!==void 0?o:m.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=h;const y=await this.fetchUploadUrl(s,l);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l){var o;let s={};l!=null&&l.httpOptions?s=l.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},m=await this.request({path:he("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:s});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=m==null?void 0:m.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function xg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const s=JSON.stringify(o);throw l>=400&&l<600?new Is({message:s,status:l}):new Error(s)}}function _w(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(f,m){const h=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const p=m[y],x=h[y];p&&typeof p=="object"&&!Array.isArray(p)&&x&&typeof x=="object"&&!Array.isArray(x)?h[y]=o(x,p):(x&&p&&typeof x!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof p}. Overwriting.`),h[y]=p)}return h}const s=o(l,e);n.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bw="mcp_used/unknown";function ry(n){for(const e of n)if(qc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function uy(n){var e;const l=(e=n[Dc])!==null&&e!==void 0?e:"";n[Dc]=(l+` ${bw}`).trimStart()}function Ew(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(s=>qc(s)))!==null&&o!==void 0?o:!1}function Aw(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(s=>!qc(s)))!==null&&o!==void 0?o:!1}function qc(n){return n!==null&&typeof n=="object"&&n instanceof Bc}function ww(n,e=100){return Il(this,arguments,function*(){let o,s=0;for(;s<e;){const f=yield Ye(n.listTools({cursor:o}));for(const m of f.tools)yield yield Ye(m),s++;if(!f.nextCursor)break;o=f.nextCursor}})}class Bc{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new Bc(e,l)}async initialize(){var e,l,o,s;if(this.mcpTools.length>0)return;const f={},m=[];for(const x of this.mcpClients)try{for(var h=!0,y=(l=void 0,Qo(ww(x))),p;p=await y.next(),e=p.done,!e;h=!0){s=p.value,h=!1;const C=s;m.push(C);const _=C.name;if(f[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);f[_]=x}}catch(C){l={error:C}}finally{try{!h&&!e&&(o=y.return)&&await o.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),TT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[o.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await s.callTool({name:o.name,arguments:o.args},void 0,f);l.push({functionResponse:{name:o.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Mw(n,e,l){const o=new uT;let s;l.data instanceof Blob?s=JSON.parse(await l.data.text()):s=JSON.parse(l.data);const f=Vb(s);Object.assign(o,f),e(o)}class Nw{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o}async connect(e){var l,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=Iw(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${s}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const x=new Promise(Y=>{p=Y}),C=e.callbacks,_=function(){p({})},M=this.apiClient,D={onopen:_,onmessage:Y=>{Mw(M,C.onmessage,Y)},onerror:(l=C==null?void 0:C.onerror)!==null&&l!==void 0?l:function(Y){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function(Y){}},q=this.webSocketFactory.create(y,Dw(m),D);q.connect(),await x;const B=Pe(this.apiClient,e.model),Z=ny({model:B}),z=Mc({setup:Z});return q.send(JSON.stringify(z)),new Rw(q,this.apiClient)}}class Rw{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=Q_(e),o=iy(l);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=K_(e),o=Mc(l);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const l=Mc({playbackControl:e});this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Rl.PLAY)}pause(){this.sendPlaybackControl(Rl.PAUSE)}stop(){this.sendPlaybackControl(Rl.STOP)}resetContext(){this.sendPlaybackControl(Rl.RESET_CONTEXT)}close(){this.conn.close()}}function Dw(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function Iw(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function kw(n,e,l){const o=new rT;let s;l.data instanceof Blob?s=await l.data.text():l.data instanceof ArrayBuffer?s=new TextDecoder().decode(l.data):s=l.data;const f=JSON.parse(s);if(n.isVertexAI()){const m=wb(f);Object.assign(o,m)}else{const m=Ab(f);Object.assign(o,m)}e(o)}class Lw{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o,this.music=new Nw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,o,s,f,m,h;const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let x;const C=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&ry(e.config.tools)&&uy(C);const _=Bw(C);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const j=this.apiClient.getApiKey();let oe="BidiGenerateContent",le="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),oe="BidiGenerateContentConstrained",le="access_token"),x=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${oe}?${le}=${j}`}let M=()=>{};const D=new Promise(j=>{M=j}),q=e.callbacks,B=function(){var j;(j=q==null?void 0:q.onopen)===null||j===void 0||j.call(q),M({})},Z=this.apiClient,z={onopen:B,onmessage:j=>{kw(Z,q.onmessage,j)},onerror:(l=q==null?void 0:q.onerror)!==null&&l!==void 0?l:function(j){},onclose:(o=q==null?void 0:q.onclose)!==null&&o!==void 0?o:function(j){}},Y=this.webSocketFactory.create(x,qw(_),z);Y.connect(),await D;let X=Pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const j=this.apiClient.getProject(),oe=this.apiClient.getLocation();X=`projects/${j}/locations/${oe}/`+X}let $={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ws.AUDIO]}:e.config.responseModalities=[ws.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ae=(h=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[],ne=[];for(const j of ae)if(this.isCallableTool(j)){const oe=j;ne.push(await oe.tool())}else ne.push(j);ne.length>0&&(e.config.tools=ne);const J={model:X,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?$=H_(this.apiClient,J):$=z_(this.apiClient,J),delete $.config,Y.send(JSON.stringify($)),new Pw(Y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Vw={turnComplete:!0};class Pw{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let o=[];try{o=Kt(l.turns),e.isVertexAI()?o=o.map(s=>Fl(s)):o=o.map(s=>Us(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:o,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let o=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?o=l.functionResponses:o=[l.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const f of o){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(Uw)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Vw),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:j_(e)}:l={realtimeInput:$_(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function qw(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function Bw(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tg=10;function Cg(n){var e,l,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const m of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(Ts(m)){s=!0;break}if(!s)return!0;const f=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Ts(n){return"callTool"in n&&typeof n.callTool=="function"}function Sg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gw extends Gi{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var o,s,f,m,h;const y=await this.processParamsForMcpUsage(l);if(!Ew(l)||Cg(l.config))return await this.generateContentInternal(y);if(Aw(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,x;const C=Kt(y.contents),_=(f=(s=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&f!==void 0?f:Tg;let M=0;for(;M<_&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const D=p.candidates[0].content,q=[];for(const B of(h=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[])if(Ts(B)){const z=await B.callTool(p.functionCalls);q.push(...z)}M++,x={role:"user",parts:q},y.contents=Kt(y.contents),y.contents.push(D),y.contents.push(x),Sg(y.config)&&(C.push(D),C.push(x))}return Sg(y.config)&&(p.automaticFunctionCallingHistory=C),p},this.generateContentStream=async l=>{if(Cg(l.config)){const o=await this.processParamsForMcpUsage(l);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(o=>{var s;let f;const m=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((s=y==null?void 0:y.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let h;return f?h={generatedImages:m,positivePromptSafetyAttributes:f}:h={generatedImages:m},h}),this.list=async l=>{var o;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((o=m.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new ea(Bi.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(m),m)},this.editImage=async l=>{const o={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(o.referenceImages=l.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async l=>{let o={numberOfImages:1,mode:"upscale"};l.config&&(o=Object.assign(Object.assign({},o),l.config));const s={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:o};return await this.upscaleImageInternal(s)}}async processParamsForMcpUsage(e){var l,o,s;const f=(l=e.config)===null||l===void 0?void 0:l.tools;if(!f)return e;const m=await Promise.all(f.map(async y=>Ts(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(h.config.tools=m,e.config&&e.config.tools&&ry(e.config.tools)){const y=(s=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&s!==void 0?s:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),uy(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var l,o,s;const f=new Map;for(const m of(o=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&o!==void 0?o:[])if(Ts(m)){const h=m,y=await h.tool();for(const p of(s=y.functionDeclarations)!==null&&s!==void 0?s:[]){if(!p.name)throw new Error("Function declaration name is required.");if(f.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);f.set(p.name,h)}}return f}async processAfcStream(e){var l,o,s;const f=(s=(o=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:Tg;let m=!1,h=0;const y=await this.initAfcToolsMap(e);return function(p,x,C){var _,M;return Il(this,arguments,function*(){for(var D,q,B,Z;h<f;){m&&(h++,m=!1);const $=yield Ye(p.processParamsForMcpUsage(C)),ae=yield Ye(p.generateContentStreamInternal($)),ne=[],J=[];try{for(var z=!0,Y=(q=void 0,Qo(ae)),X;X=yield Ye(Y.next()),D=X.done,!D;z=!0){Z=X.value,z=!1;const j=Z;if(yield yield Ye(j),j.candidates&&(!((_=j.candidates[0])===null||_===void 0)&&_.content)){J.push(j.candidates[0].content);for(const oe of(M=j.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(h<f&&oe.functionCall){if(!oe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(oe.functionCall.name)){const le=yield Ye(x.get(oe.functionCall.name).callTool([oe.functionCall]));ne.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${oe.functionCall.name}`)}}}}catch(j){q={error:j}}finally{try{!z&&!D&&(B=Y.return)&&(yield Ye(B.call(Y)))}finally{if(q)throw q.error}}if(ne.length>0){m=!0;const j=new Zo;j.candidates=[{content:{role:"user",parts:ne}}],yield yield Ye(j);const oe=[];oe.push(...J),oe.push({role:"user",parts:ne});const le=Kt(C.contents).concat(oe);C.contents=le}else break}})}(this,y,e)}async generateContentInternal(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=pg(this.apiClient,e);return h=he("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=yg(x),_=new Zo;return Object.assign(_,C),_})}else{const p=hg(this.apiClient,e);return h=he("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=gg(x),_=new Zo;return Object.assign(_,C),_})}}async generateContentStreamInternal(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=pg(this.apiClient,e);return h=he("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),m.then(function(C){return Il(this,arguments,function*(){var _,M,D,q;try{for(var B=!0,Z=Qo(C),z;z=yield Ye(Z.next()),_=z.done,!_;B=!0){q=z.value,B=!1;const X=yg(yield Ye(q.json())),$=new Zo;Object.assign($,X),yield yield Ye($)}}catch(Y){M={error:Y}}finally{try{!B&&!_&&(D=Z.return)&&(yield Ye(D.call(Z)))}finally{if(M)throw M.error}}})})}else{const p=hg(this.apiClient,e);return h=he("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(C){return Il(this,arguments,function*(){var _,M,D,q;try{for(var B=!0,Z=Qo(C),z;z=yield Ye(Z.next()),_=z.done,!_;B=!0){q=z.value,B=!1;const X=gg(yield Ye(q.json())),$=new Zo;Object.assign($,X),yield yield Ye($)}}catch(Y){M={error:Y}}finally{try{!B&&!_&&(D=Z.return)&&(yield Ye(D.call(Z)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=$E(this.apiClient,e);return h=he("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=WA(x),_=new Zp;return Object.assign(_,C),_})}else{const p=sE(this.apiClient,e);return h=he("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=NA(x),_=new Zp;return Object.assign(_,C),_})}}async generateImagesInternal(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=QE(this.apiClient,e);return h=he("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=tw(x),_=new $p;return Object.assign(_,C),_})}else{const p=uE(this.apiClient,e);return h=he("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=IA(x),_=new $p;return Object.assign(_,C),_})}}async editImageInternal(e){var l,o;let s,f="",m={};if(this.apiClient.isVertexAI()){const h=iA(this.apiClient,e);return f=he("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),s.then(y=>{const p=nw(y),x=new nT;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,o;let s,f="",m={};if(this.apiClient.isVertexAI()){const h=oA(this.apiClient,e);return f=he("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),s.then(y=>{const p=iw(y),x=new iT;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=aA(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Rc(x))}else{const p=cE(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Nc(x))}}async listInternal(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=rA(this.apiClient,e);return h=he("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=sw(x),_=new jp;return Object.assign(_,C),_})}else{const p=dE(this.apiClient,e);return h=he("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=kA(x),_=new jp;return Object.assign(_,C),_})}}async update(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=cA(this.apiClient,e);return h=he("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Rc(x))}else{const p=hE(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Nc(x))}}async delete(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=fA(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(()=>{const x=rw(),C=new Qp;return Object.assign(C,x),C})}else{const p=pE(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(()=>{const x=LA(),C=new Qp;return Object.assign(C,x),C})}}async countTokens(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=mA(this.apiClient,e);return h=he("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=uw(x),_=new Kp;return Object.assign(_,C),_})}else{const p=yE(this.apiClient,e);return h=he("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=VA(x),_=new Kp;return Object.assign(_,C),_})}}async computeTokens(e){var l,o;let s,f="",m={};if(this.apiClient.isVertexAI()){const h=hA(this.apiClient,e);return f=he("{model}:computeTokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),s.then(y=>{const p=cw(y),x=new lT;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=yA(this.apiClient,e);return h=he("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>hw(x))}else{const p=TE(this.apiClient,e);return h=he("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>GA(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ow(n){const e={},l=r(n,["operationName"]);l!=null&&u(e,["_url","operationName"],l);const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function zw(n){const e={},l=r(n,["operationName"]);l!=null&&u(e,["_url","operationName"],l);const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function Hw(n){const e={},l=r(n,["operationName"]);l!=null&&u(e,["operationName"],l);const o=r(n,["resourceName"]);o!=null&&u(e,["_url","resourceName"],o);const s=r(n,["config"]);return s!=null&&u(e,["config"],s),e}function Fw(n){const e={},l=r(n,["video","uri"]);l!=null&&u(e,["uri"],l);const o=r(n,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],kn(o));const s=r(n,["encoding"]);return s!=null&&u(e,["mimeType"],s),e}function Jw(n){const e={},l=r(n,["_self"]);return l!=null&&u(e,["video"],Fw(l)),e}function Yw(n){const e={},l=r(n,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>Jw(m))),u(e,["generatedVideos"],f)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const s=r(n,["raiMediaFilteredReasons"]);return s!=null&&u(e,["raiMediaFilteredReasons"],s),e}function Zw(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const s=r(n,["done"]);s!=null&&u(e,["done"],s);const f=r(n,["error"]);f!=null&&u(e,["error"],f);const m=r(n,["response","generateVideoResponse"]);return m!=null&&u(e,["response"],Yw(m)),e}function $w(n){const e={},l=r(n,["gcsUri"]);l!=null&&u(e,["uri"],l);const o=r(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],kn(o));const s=r(n,["mimeType"]);return s!=null&&u(e,["mimeType"],s),e}function jw(n){const e={},l=r(n,["_self"]);return l!=null&&u(e,["video"],$w(l)),e}function Qw(n){const e={},l=r(n,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>jw(m))),u(e,["generatedVideos"],f)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const s=r(n,["raiMediaFilteredReasons"]);return s!=null&&u(e,["raiMediaFilteredReasons"],s),e}function _g(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const s=r(n,["done"]);s!=null&&u(e,["done"],s);const f=r(n,["error"]);f!=null&&u(e,["error"],f);const m=r(n,["response"]);return m!=null&&u(e,["response"],Qw(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kw extends Gi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,o=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=l.name.split("/operations/")[0];let f;return o&&"httpOptions"in o&&(f=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:s,config:{httpOptions:f}})}else return this.getVideosOperationInternal({operationName:l.name,config:o})}async getVideosOperationInternal(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=zw(e);return h=he("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>_g(x))}else{const p=Ow(e);return h=he("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Zw(x))}}async fetchPredictVideosOperationInternal(e){var l,o;let s,f="",m={};if(this.apiClient.isVertexAI()){const h=Hw(e);return f=he("{resourceName}:fetchPredictOperation",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),s.then(y=>_g(y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xw(n){const e={},l=r(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function cy(n){const e={},l=r(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],Xw(l)),e}function Ww(n){const e={},l=r(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=r(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],cy(o)),e}function eM(n){const e={},l=r(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>Ww(s))),u(e,["speakerVoiceConfigs"],o)}return e}function tM(n){const e={},l=r(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],cy(l));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],eM(o));const s=r(n,["languageCode"]);return s!=null&&u(e,["languageCode"],s),e}function nM(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const s=r(n,["startOffset"]);return s!=null&&u(e,["startOffset"],s),e}function iM(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function lM(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function oM(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],nM(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const s=r(n,["inlineData"]);s!=null&&u(e,["inlineData"],iM(s));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],lM(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function aM(n){const e={},l=r(n,["parts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(f=>oM(f))),u(e,["parts"],s)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function sM(n){const e={},l=r(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const s=r(n,["name"]);s!=null&&u(e,["name"],s);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=r(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function rM(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function uM(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],rM(l)),e}function cM(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function fM(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],cM(l)),e}function dM(){return{}}function mM(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>sM(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],uM(o));const s=r(n,["googleSearchRetrieval"]);if(s!=null&&u(e,["googleSearchRetrieval"],fM(s)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],dM());const m=r(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=r(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function hM(n){const e={},l=r(n,["handle"]);if(l!=null&&u(e,["handle"],l),r(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bg(){return{}}function pM(n){const e={},l=r(n,["disabled"]);l!=null&&u(e,["disabled"],l);const o=r(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const s=r(n,["endOfSpeechSensitivity"]);s!=null&&u(e,["endOfSpeechSensitivity"],s);const f=r(n,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const m=r(n,["silenceDurationMs"]);return m!=null&&u(e,["silenceDurationMs"],m),e}function gM(n){const e={},l=r(n,["automaticActivityDetection"]);l!=null&&u(e,["automaticActivityDetection"],pM(l));const o=r(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const s=r(n,["turnCoverage"]);return s!=null&&u(e,["turnCoverage"],s),e}function yM(n){const e={},l=r(n,["targetTokens"]);return l!=null&&u(e,["targetTokens"],l),e}function vM(n){const e={},l=r(n,["triggerTokens"]);l!=null&&u(e,["triggerTokens"],l);const o=r(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],yM(o)),e}function xM(n){const e={},l=r(n,["proactiveAudio"]);return l!=null&&u(e,["proactiveAudio"],l),e}function TM(n,e){const l={},o=r(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const s=r(n,["responseModalities"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","responseModalities"],s);const f=r(n,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const m=r(n,["topP"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topP"],m);const h=r(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const y=r(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const p=r(n,["mediaResolution"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","mediaResolution"],p);const x=r(n,["seed"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","seed"],x);const C=r(n,["speechConfig"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","speechConfig"],tM(Vc(C)));const _=r(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],_);const M=r(n,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],aM(vt(M)));const D=r(n,["tools"]);if(e!==void 0&&D!=null){let $=zl(D);Array.isArray($)&&($=$.map(ae=>mM(Ol(ae)))),u(e,["setup","tools"],$)}const q=r(n,["sessionResumption"]);e!==void 0&&q!=null&&u(e,["setup","sessionResumption"],hM(q));const B=r(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&u(e,["setup","inputAudioTranscription"],bg());const Z=r(n,["outputAudioTranscription"]);e!==void 0&&Z!=null&&u(e,["setup","outputAudioTranscription"],bg());const z=r(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&u(e,["setup","realtimeInputConfig"],gM(z));const Y=r(n,["contextWindowCompression"]);e!==void 0&&Y!=null&&u(e,["setup","contextWindowCompression"],vM(Y));const X=r(n,["proactivity"]);return e!==void 0&&X!=null&&u(e,["setup","proactivity"],xM(X)),l}function CM(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["setup","model"],Pe(n,o));const s=r(e,["config"]);return s!=null&&u(l,["config"],TM(s,l)),l}function SM(n,e,l){const o={},s=r(e,["expireTime"]);l!==void 0&&s!=null&&u(l,["expireTime"],s);const f=r(e,["newSessionExpireTime"]);l!==void 0&&f!=null&&u(l,["newSessionExpireTime"],f);const m=r(e,["uses"]);l!==void 0&&m!=null&&u(l,["uses"],m);const h=r(e,["liveConnectConstraints"]);l!==void 0&&h!=null&&u(l,["bidiGenerateContentSetup"],CM(n,h));const y=r(e,["lockAdditionalFields"]);return l!==void 0&&y!=null&&u(l,["fieldMask"],y),o}function _M(n,e){const l={},o=r(e,["config"]);return o!=null&&u(l,["config"],SM(n,o,l)),l}function bM(n){const e={},l=r(n,["name"]);return l!=null&&u(e,["name"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EM(n){const e=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const o=n[l];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const s=Object.keys(o).map(f=>`${l}.${f}`);e.push(...s)}else e.push(l)}return e.join(",")}function AM(n,e){let l=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const f=o.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,l=f):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const s=n.fieldMask;if(l){const f=EM(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];s.length>0&&(h=s.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];f&&y.push(f),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?n.fieldMask=s.join(","):delete n.fieldMask;return n}class wM extends Gi{constructor(e){super(),this.apiClient=e}async create(e){var l,o;let s,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=_M(this.apiClient,e);f=he("auth_tokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query;const y=AM(h,e.config);return s=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),s.then(p=>bM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MM(n){const e={},l=r(n,["name"]);l!=null&&u(e,["_url","name"],l);const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function NM(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=r(n,["pageToken"]);e!==void 0&&s!=null&&u(e,["_query","pageToken"],s);const f=r(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),l}function RM(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],NM(l,e)),e}function DM(n){const e={},l=r(n,["textInput"]);l!=null&&u(e,["textInput"],l);const o=r(n,["output"]);return o!=null&&u(e,["output"],o),e}function IM(n){const e={};if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=r(n,["examples"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(s=>DM(s))),u(e,["examples","examples"],o)}return e}function UM(n,e){const l={};if(r(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=r(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),r(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=r(n,["epochCount"]);e!==void 0&&s!=null&&u(e,["tuningTask","hyperparameters","epochCount"],s);const f=r(n,["learningRateMultiplier"]);if(f!=null&&u(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),r(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=r(n,["batchSize"]);e!==void 0&&m!=null&&u(e,["tuningTask","hyperparameters","batchSize"],m);const h=r(n,["learningRate"]);return e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","learningRate"],h),l}function kM(n){const e={},l=r(n,["baseModel"]);l!=null&&u(e,["baseModel"],l);const o=r(n,["trainingDataset"]);o!=null&&u(e,["tuningTask","trainingData"],IM(o));const s=r(n,["config"]);return s!=null&&u(e,["config"],UM(s,e)),e}function LM(n){const e={},l=r(n,["name"]);l!=null&&u(e,["_url","name"],l);const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function VM(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const s=r(n,["pageToken"]);e!==void 0&&s!=null&&u(e,["_query","pageToken"],s);const f=r(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),l}function PM(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],VM(l,e)),e}function qM(n,e){const l={},o=r(n,["gcsUri"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o);const s=r(n,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s),r(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function BM(n,e){const l={},o=r(n,["gcsUri"]);o!=null&&u(l,["validationDatasetUri"],o);const s=r(n,["vertexDatasetResource"]);return e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s),l}function GM(n,e){const l={},o=r(n,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],BM(o,l));const s=r(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&u(e,["tunedModelDisplayName"],s);const f=r(n,["description"]);e!==void 0&&f!=null&&u(e,["description"],f);const m=r(n,["epochCount"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const h=r(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const y=r(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=r(n,["adapterSize"]);if(e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),r(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function OM(n){const e={},l=r(n,["baseModel"]);l!=null&&u(e,["baseModel"],l);const o=r(n,["trainingDataset"]);o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],qM(o,e));const s=r(n,["config"]);return s!=null&&u(e,["config"],GM(s,e)),e}function zM(n){const e={},l=r(n,["name"]);l!=null&&u(e,["model"],l);const o=r(n,["name"]);return o!=null&&u(e,["endpoint"],o),e}function fy(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["state"]);o!=null&&u(e,["state"],zg(o));const s=r(n,["createTime"]);s!=null&&u(e,["createTime"],s);const f=r(n,["tuningTask","startTime"]);f!=null&&u(e,["startTime"],f);const m=r(n,["tuningTask","completeTime"]);m!=null&&u(e,["endTime"],m);const h=r(n,["updateTime"]);h!=null&&u(e,["updateTime"],h);const y=r(n,["description"]);y!=null&&u(e,["description"],y);const p=r(n,["baseModel"]);p!=null&&u(e,["baseModel"],p);const x=r(n,["_self"]);x!=null&&u(e,["tunedModel"],zM(x));const C=r(n,["distillationSpec"]);C!=null&&u(e,["distillationSpec"],C);const _=r(n,["experiment"]);_!=null&&u(e,["experiment"],_);const M=r(n,["labels"]);M!=null&&u(e,["labels"],M);const D=r(n,["pipelineJob"]);D!=null&&u(e,["pipelineJob"],D);const q=r(n,["satisfiesPzi"]);q!=null&&u(e,["satisfiesPzi"],q);const B=r(n,["satisfiesPzs"]);B!=null&&u(e,["satisfiesPzs"],B);const Z=r(n,["serviceAccount"]);Z!=null&&u(e,["serviceAccount"],Z);const z=r(n,["tunedModelDisplayName"]);return z!=null&&u(e,["tunedModelDisplayName"],z),e}function HM(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(f=>fy(f))),u(e,["tuningJobs"],s)}return e}function FM(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const s=r(n,["done"]);s!=null&&u(e,["done"],s);const f=r(n,["error"]);return f!=null&&u(e,["error"],f),e}function JM(n){const e={},l=r(n,["checkpointId"]);l!=null&&u(e,["checkpointId"],l);const o=r(n,["epoch"]);o!=null&&u(e,["epoch"],o);const s=r(n,["step"]);s!=null&&u(e,["step"],s);const f=r(n,["endpoint"]);return f!=null&&u(e,["endpoint"],f),e}function YM(n){const e={},l=r(n,["model"]);l!=null&&u(e,["model"],l);const o=r(n,["endpoint"]);o!=null&&u(e,["endpoint"],o);const s=r(n,["checkpoints"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>JM(m))),u(e,["checkpoints"],f)}return e}function Ic(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["state"]);o!=null&&u(e,["state"],zg(o));const s=r(n,["createTime"]);s!=null&&u(e,["createTime"],s);const f=r(n,["startTime"]);f!=null&&u(e,["startTime"],f);const m=r(n,["endTime"]);m!=null&&u(e,["endTime"],m);const h=r(n,["updateTime"]);h!=null&&u(e,["updateTime"],h);const y=r(n,["error"]);y!=null&&u(e,["error"],y);const p=r(n,["description"]);p!=null&&u(e,["description"],p);const x=r(n,["baseModel"]);x!=null&&u(e,["baseModel"],x);const C=r(n,["tunedModel"]);C!=null&&u(e,["tunedModel"],YM(C));const _=r(n,["supervisedTuningSpec"]);_!=null&&u(e,["supervisedTuningSpec"],_);const M=r(n,["tuningDataStats"]);M!=null&&u(e,["tuningDataStats"],M);const D=r(n,["encryptionSpec"]);D!=null&&u(e,["encryptionSpec"],D);const q=r(n,["partnerModelTuningSpec"]);q!=null&&u(e,["partnerModelTuningSpec"],q);const B=r(n,["distillationSpec"]);B!=null&&u(e,["distillationSpec"],B);const Z=r(n,["experiment"]);Z!=null&&u(e,["experiment"],Z);const z=r(n,["labels"]);z!=null&&u(e,["labels"],z);const Y=r(n,["pipelineJob"]);Y!=null&&u(e,["pipelineJob"],Y);const X=r(n,["satisfiesPzi"]);X!=null&&u(e,["satisfiesPzi"],X);const $=r(n,["satisfiesPzs"]);$!=null&&u(e,["satisfiesPzs"],$);const ae=r(n,["serviceAccount"]);ae!=null&&u(e,["serviceAccount"],ae);const ne=r(n,["tunedModelDisplayName"]);return ne!=null&&u(e,["tunedModelDisplayName"],ne),e}function ZM(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(f=>Ic(f))),u(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $M extends Gi{constructor(e){super(),this.apiClient=e,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new ea(Bi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.tune=async l=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(l);{const o=await this.tuneMldevInternal(l);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:Sc.JOB_STATE_QUEUED}}}}async getInternal(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=LM(e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Ic(x))}else{const p=MM(e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>fy(x))}}async listInternal(e){var l,o,s,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=PM(e);return h=he("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=ZM(x),_=new Xp;return Object.assign(_,C),_})}else{const p=RM(e);return h=he("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=HM(x),_=new Xp;return Object.assign(_,C),_})}}async tuneInternal(e){var l,o;let s,f="",m={};if(this.apiClient.isVertexAI()){const h=OM(e);return f=he("tuningJobs",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),s.then(y=>Ic(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,o;let s,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=kM(e);return f=he("tunedModels",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),s.then(y=>FM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jM{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const QM=1024*1024*8,KM=3,XM=1e3,WM=2,sc="x-goog-upload-status";async function eN(n,e,l){var o,s,f;let m=0,h=0,y=new _c(new Response),p="upload";for(m=n.size;h<m;){const C=Math.min(QM,m-h),_=n.slice(h,h+C);h+C>=m&&(p+=", finalize");let M=0,D=XM;for(;M<KM&&(y=await l.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(h),"Content-Length":String(C)}}}),!(!((o=y==null?void 0:y.headers)===null||o===void 0)&&o[sc]));)M++,await nN(D),D=D*WM;if(h+=C,((s=y==null?void 0:y.headers)===null||s===void 0?void 0:s[sc])!=="active")break;if(m<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const x=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[sc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return x.file}async function tN(n){return{size:n.size,type:n.type}}function nN(n){return new Promise(e=>setTimeout(e,n))}class iN{async upload(e,l,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eN(e,l,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lN{create(e,l,o){return new oN(e,l,o)}}class oN{constructor(e,l,o){this.url=e,this.headers=l,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Eg="x-goog-api-key";class aN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Eg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Eg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sN="gl-node/";class rN{constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const o=tT(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const s=new aN(this.apiKey);this.apiClient=new Sw({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:sN+"web",uploader:new iN,downloader:new jM}),this.models=new Gw(this.apiClient),this.live=new Lw(this.apiClient,s,new lN),this.batches=new NC(this.apiClient),this.chats=new US(this.models,this.apiClient),this.caches=new RS(this.apiClient),this.files=new YS(this.apiClient),this.operations=new Kw(this.apiClient),this.authTokens=new wM(this.apiClient),this.tunings=new $M(this.apiClient)}}const Ln=new rN({apiKey:"YOUR_GEMINI_API_KEY_HERE"}),ui=n=>{let e=n.trim();const l=/^```(?:json)?\s*\n?(.*?)\n?\s*```$/s,o=e.match(l);o&&o[2]&&(e=o[2].trim());try{return JSON.parse(e)}catch(s){console.error("Failed to parse JSON response:",s,"Raw text:",`"${n}"`);try{let f=e.replace(/,\s*([}\]])/g,"$1");return JSON.parse(f)}catch(f){return console.error("Failed to parse even after fixing trailing commas.",f),null}}},ci=`You are a machine that returns only raw, valid JSON.
- Your entire response must be a single JSON object or array.
- Do not add any text before or after the JSON.
- Do not use markdown (e.g., \`\`\`json).
- Do not add comments.
- Do not leave trailing commas.
- Ensure all strings are properly quoted and terminated.`,uN=async(n,e,l,o)=>{let s=`Generate a JSON array of 75 unique TOEIC vocabulary items.
`;s+=`The vocabulary should be sourced from a diverse range of contexts, including recent news, business articles, academic texts, and topics commonly found in past TOEIC tests.
`,s+=`Prioritize less common, more specific vocabulary suitable for the TOEIC test. Avoid overly basic or common words.
`;const f=['"english"','"japanese"','"example_en"','"example_jp"'];n===kl?(f.push('"level"'),s+=`The items should span various difficulty levels. For each item, you MUST include a "level" key with one of these exact string values: ["${Dn.join('", "')}"].
`):s+=`The items MUST be for a '${n}' learner.
`,e===Li?(f.push('"category"'),s+=`The items should cover various topics. For each item, you MUST include a "category" key with one of these exact string values: ["${Dt.join('", "')}"].
`):s+=`The items MUST be related to the category '${e}'.
`,l==="all"?(f.push('"type"'),s+=`The items should be a mix of words and idioms. For each item, you MUST include a "type" key with one of these values: "word", "idiom".
`,s+=`If the type is "word", you MUST include a "pos" key with one of these values: ["${Ul.join('", "')}"]. If the type is "idiom", do not include the "pos" key.
`,f.push('"pos"'),s+=`The combination of "english" and "pos" for words, and "english" for idioms must be unique. Do not include any of the following existing items:
${JSON.stringify(o)}
`):l==="word"?(f.push('"pos"'),s+=`All items must be of type 'word'.
`,s+=`For each item, you MUST include a "pos" key with one of these exact string values: ["${Ul.join('", "')}"].
`,s+=`The combination of the "english" and "pos" values must be unique. DO NOT include any of the following "english-pos" combinations:
${JSON.stringify(o)}
`):(s+=`All items must be of type 'idiom'.
`,s+=`The "english" value for each object must be unique. DO NOT include any of the following existing phrases:
${JSON.stringify(o)}
`),s+=`Each object in the array MUST have exactly these keys: ${[...new Set(f)].join(", ")}. For idioms, "pos" should be omitted.
`,s+=`
The output MUST be a single, raw, valid JSON array. It must start with '[' and end with ']'. ABSOLUTELY NO other text, characters, comments, or markdown should be included in the response.`;try{const m=await Ln.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:s,config:{systemInstruction:ci,responseMimeType:"application/json"}});return ui(m.text)}catch(m){return console.error("Error generating vocabulary:",m),null}},cN=async(n,e)=>{const l=`
      Generate a JSON object for a TOEIC Part 7 style reading exercise for a '${n}' learner. The topic MUST be related to '${e}'.
      The JSON object must have exactly four keys: "passage", "idioms", "questions", "key_sentence_indices".
      1. "passage": An array of objects. Each object must have "english" and "japanese" string keys, representing one sentence and its translation. The passage should be about 150-200 words long.
      2. "idioms": An array of 2-3 objects, where each object has "english" and "japanese" string keys for idioms or key vocabulary found in the passage.
      3. "questions": An array of 2-4 objects. Each object represents a multiple-choice comprehension question based on the passage and must have these keys: "question" (string), "options" (array of 4 strings), "correctOptionIndex" (number from 0-3), and "explanation" (string).
      4. "key_sentence_indices": An array of numbers, representing the 0-based indices of the 2-3 most important sentences in the "passage" array.
      The output MUST be a single, raw, valid JSON object.
    `;try{const o=await Ln.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:l,config:{systemInstruction:ci,responseMimeType:"application/json"}});return ui(o.text)}catch(o){return console.error("Error generating reading passage:",o),null}},fN=async(n,e,l)=>{let o;switch(n){case Rt.Part2:o=`
              Generate a JSON object for a TOEIC Listening Part 2 (Question-Response) exercise for a '${e}' learner.
              The JSON object must have exactly these keys: "part", "question", "options", "correctOptionIndex", "explanation".
              1. "part": The string value "${Rt.Part2}".
              2. "question": A single, short question or statement, as would be heard in the test (e.g., "When is the deadline for the report?").
              3. "options": An array of exactly 3 short string responses. One is the correct response, the other two are plausible but incorrect distractors.
              4. "correctOptionIndex": A number from 0 to 2, representing the index of the correct response in the "options" array.
              5. "explanation": A concise explanation of why the correct option is the best response.
              The output MUST be a single, raw, valid JSON object.
            `;break;case Rt.Part3:o=`
              Generate a JSON object for a TOEIC Listening Part 3 (Conversation) exercise for a '${e}' learner on the topic of '${l}'.
              The JSON object must have exactly these keys: "part", "title", "passage", "question", "options", "correctOptionIndex", "explanation".
              1. "part": The string value "${Rt.Part3}".
              2. "title": A short title (e.g., "Discussing a Project Delay").
              3. "passage": An array of objects representing a conversation between two or three people. Each object must have "english" and "japanese" string keys. The total length should be 4-8 turns.
              4. "question": A comprehension question based on the conversation.
              5. "options": An array of exactly 4 objects. Each object MUST have "en" (English) and "jp" (Japanese translation) keys.
              6. "correctOptionIndex": The 0-based index of the correct option.
              7. "explanation": A concise explanation.
              The output MUST be a single, raw, valid JSON object.
            `;break;case Rt.Part4:o=`
              Generate a JSON object for a TOEIC Listening Part 4 (Short Talk) exercise for a '${e}' learner on the topic of '${l}'.
              The JSON object must have exactly these keys: "part", "title", "passage", "question", "options", "correctOptionIndex", "explanation".
              1. "part": The string value "${Rt.Part4}".
              2. "title": A short title (e.g., "Weather Forecast" or "Museum Announcement").
              3. "passage": An array of objects representing a short talk by a single speaker. Each object must have "english" and "japanese" string keys. Total length about 100-150 words.
              4. "question": A comprehension question based on the talk.
              5. "options": An array of exactly 4 objects. Each object MUST have "en" (English) and "jp" (Japanese translation) keys.
              6. "correctOptionIndex": The 0-based index of the correct option.
              7. "explanation": A concise explanation.
              The output MUST be a single, raw, valid JSON object.
            `;break}try{const s=await Ln.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:o,config:{systemInstruction:ci,responseMimeType:"application/json"}});return ui(s.text)}catch(s){return console.error(`Error generating listening exercise for ${n}:`,s),null}},dN=async(n,e)=>{const l=`
      Generate a JSON object for a TOEIC Part 5 (Incomplete Sentence) exercise for a '${n}' learner. The topic should be related to '${e}'.
      The JSON object must have exactly these keys: "sentence_with_blank", "options", "correctOptionIndex", "explanation_jp".
      1. "sentence_with_blank": A single sentence with a missing word or phrase, indicated by "____".
      2. "options": An array of exactly 4 strings. One correctly fills the blank, the others are common distractors (e.g., wrong tense, wrong part of speech).
      3. "correctOptionIndex": A number from 0 to 3, for the correct option.
      4. "explanation_jp": A concise grammar or vocabulary explanation for the correct answer, written in Japanese.
      The output MUST be a single, raw, valid JSON object.
    `;try{const o=await Ln.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:l,config:{systemInstruction:ci,responseMimeType:"application/json"}});return ui(o.text)}catch(o){return console.error("Error generating incomplete sentence exercise:",o),null}},mN=async(n,e)=>{const l=`
      Generate a JSON object for a TOEIC Part 6 (Text Completion) exercise for a '${n}' learner. The topic should be related to '${e}'.
      The JSON object must have exactly these keys: "passage", "questions".
      1. "passage": A single string of text (e.g., an email, notice, or article) containing exactly 4 numbered blanks, like "[1]", "[2]", "[3]", and "[4]".
      2. "questions": An array of exactly 4 objects, one for each blank. Each object must have these keys: "blank_number" (1-4), "options" (array of 4 strings), "correctOptionIndex" (0-3), and "explanation_jp". The explanation must be in Japanese.
      The output MUST be a single, raw, valid JSON object. Ensure the 'questions' array has exactly 4 items.
    `;try{const o=await Ln.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:l,config:{systemInstruction:ci,responseMimeType:"application/json"}});return ui(o.text)}catch(o){return console.error("Error generating text completion exercise:",o),null}},hN=async n=>{const e=`
      「${n}」に関する英語の文法ルールを、英語を久しぶりに再学習する日本人向けに、非常に分かりやすく詳しく解説してください。
      初心者がつまずきやすいポイント、基本的な使い方、応用的な使い方、よくある間違いや例外的な用法なども含めて、豊富な例文（英語と日本語訳を併記）を交えながら説明してください。
      応答は、マークダウン形式ではなく、改行を活かしたプレーンテキストで、人間が読みやすいように整形してください。
    `;try{return(await Ln.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:e})).text}catch(l){return console.error(`Error generating grammar explanation for ${n}:`,l),null}},Ag=async(n,e,l)=>{let o;const s=e?5:50;if(e&&n.length===1){const f=n[0];o=`
        以下の文法解説を元に、学習者の理解度を確認するためのTOEIC Part 5形式の選択問題を${s}問生成してください。
        解説のトピック: 「${f}」

        ---
        ${e.substring(0,2e3)}
        ---

        問題は「${f}」の知識を問うものにしてください。JSONオブジェクトの配列として、以下のキーを持つオブジェクトを${s}個生成してください:
        - "question_jp": 問題の指示や文脈を日本語で記述 (例: 「空欄に最も適切な単語を選びなさい。」)
        - "sentence_with_blank": "____" を含む、空欄付きの英文
        - "options": 4つの選択肢の配列
        - "correctOptionIndex": 0から3の正解のインデックス番号
        - "explanation_jp": 正解の選択肢がなぜ正しいか、他の選択肢がなぜ間違いかを日本語で簡潔に解説

        The output MUST be a single, raw, valid JSON array.
      `}else{const f=n.join(`
- `);o=`
        TOEIC Part 5形式の文法選択問題を${s}問、生成してください。
        ${l?`問題の難易度は「${l}」レベルに調整してください。`:""}

        問題は、以下の基本的な英文法のトピックからランダムに組み合わせて出題してください:
        - ${f}

        JSONオブジェクトの配列として、以下のキーを持つオブジェクトを${s}個生成してください:
        - "question_jp": 問題の指示や文脈を日本語で記述 (例: 「空欄に最も適切な単語を選びなさい。」)
        - "sentence_with_blank": "____" を含む、空欄付きの英文
        - "options": 4つの選択肢の配列
        - "correctOptionIndex": 0から3の正解のインデックス番号
        - "explanation_jp": 正解の選択肢がなぜ正しいか、他の選択肢がなぜ間違いかを日本語で簡潔に解説

        The output MUST be a single, raw, valid JSON array.
      `}try{const f=await Ln.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:o,config:{systemInstruction:ci,responseMimeType:"application/json"}});return ui(f.text)}catch(f){return console.error(`Error generating grammar quiz for topics ${n.join(", ")}:`,f),null}},pN=async n=>{const e=`
        You are an expert English grammar checker for Japanese learners.
        Analyze the following English sentence for any grammatical errors, awkward phrasing, or typos.
        Provide a corrected version of the sentence and a concise, easy-to-understand explanation in Japanese.

        The user's sentence is: "${n}"

        If the sentence is already grammatically perfect and natural, the "correctedSentence" should be the same as the original, and the "explanation_jp" should simply state that the sentence is correct (e.g., "この文は文法的に正しく、自然です。").

        The JSON object must have exactly these three keys:
        1. "originalSentence": The original sentence provided by the user.
        2. "correctedSentence": The corrected, natural-sounding English sentence.
        3. "explanation_jp": The explanation of the corrections in Japanese.

        The output MUST be a single, raw, valid JSON object.
    `;try{const l=await Ln.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:e,config:{systemInstruction:ci,responseMimeType:"application/json"}});return ui(l.text)}catch(l){return console.error("Error generating grammar check:",l),null}},gN=async n=>{const e=`
        You are an expert TOEIC test analyst. I will provide you with a list of English words and idioms.
        For each item, classify its frequency of appearance on the TOEIC test into one of three levels: "High", "Medium", or "Low".
        - "High": Very common, essential vocabulary. Appears frequently.
        - "Medium": Appears regularly, good to know for a solid score.
        - "Low": Less common, but could appear in higher-level questions. Important for advanced scores.
        
        The list of items to classify is:
        ${JSON.stringify(n)}

        Your response MUST be a single, raw, valid JSON array. Each object in the array must correspond to an item in the input list and MUST have exactly these three keys:
        1. "id": The original integer ID of the item.
        2. "type": The original type of the item ("word" or "idiom").
        3. "frequency": Your classification as a string ("High", "Medium", or "Low").
    `;try{const l=await Ln.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:e,config:{systemInstruction:ci,responseMimeType:"application/json"}}),o=ui(l.text);if(!o)return console.error("AI returned null or unparsable response for frequency levels."),null;const s={High:3,Medium:2,Low:1};return o.map(f=>({id:f.id,type:f.type,frequencyLevel:s[f.frequency]||2}))}catch(l){return console.error("Error assigning frequency levels:",l),null}},dy=({className:n="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),yN=({idioms:n,isOpen:e,onClose:l})=>{const{speak:o,stop:s,isSpeaking:f}=Rs();if(!e)return null;const m=(h,y)=>{s(),o(h,y)};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:l,children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg h-auto max-h-[80vh] flex flex-col",onClick:h=>h.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 flex-shrink-0",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Key Idioms & Phrases"}),v.jsx("button",{onClick:l,className:"text-slate-500 hover:text-slate-800",children:v.jsx(dy,{className:"w-7 h-7"})})]}),v.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[n.map((h,y)=>v.jsx("div",{className:"p-4 border rounded-lg bg-slate-50",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-lg font-semibold text-slate-800",children:h.english}),v.jsx("p",{className:"text-md text-slate-600",children:h.japanese})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>m(h.english,"en-US"),className:"text-blue-500 hover:text-blue-700 disabled:text-slate-400",disabled:f,children:v.jsx(Ko,{className:"w-6 h-6"})}),v.jsx("button",{onClick:()=>m(h.japanese,"ja-JP"),className:"text-green-500 hover:text-green-700 disabled:text-slate-400",disabled:f,children:v.jsx(Ko,{className:"w-6 h-6"})})]})]})},y)),n.length===0&&v.jsx("p",{className:"text-slate-500 text-center py-4",children:"No specific idioms or key phrases were highlighted for this passage."})]}),v.jsx("div",{className:"p-4 border-t border-slate-200 text-right flex-shrink-0",children:v.jsx("button",{onClick:l,className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition",children:"Close"})})]})})},vN=({onGoHome:n,initialCategory:e,level:l})=>{const[o,s]=P.useState(null),[f,m]=P.useState(!0),[h,y]=P.useState(null),[p,x]=P.useState(l),[C,_]=P.useState([]),[M,D]=P.useState(!1),[q,B]=P.useState(!1),[Z,z]=P.useState(!1),Y=P.useCallback(async()=>{m(!0),y(null),s(null),_([]),D(!1),z(!1);try{const J=e==="Random"?Dt[Math.floor(Math.random()*Dt.length)]:e,j=await cN(p,J);!j||!j.questions||j.questions.length===0?y("Could not generate a reading passage with questions. Please try again."):(s(j),_(new Array(j.questions.length).fill(null)))}catch(J){y("An error occurred while fetching the passage."),console.error(J)}finally{m(!1)}},[p,e]);P.useEffect(()=>{Y()},[Y]);const X=(J,j)=>{if(M)return;const oe=[...C];oe[J]=j,_(oe)},$=()=>{D(!0)},ae=()=>{Y()},ne=()=>{if(f)return v.jsx(Tt,{});if(h)return v.jsx("p",{className:"text-center text-red-500 bg-red-100 p-4 rounded-lg",children:h});if(!o)return v.jsx("p",{className:"text-center text-slate-500",children:"No passage loaded."});const J=C.every(oe=>oe!==null),j=C.filter((oe,le)=>oe===o.questions[le].correctOptionIndex).length;return v.jsx("div",{className:"w-full",children:v.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[v.jsx("div",{className:"md:w-1/2 lg:w-3/5",children:v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl sticky top-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Reading Passage"}),M&&v.jsx("button",{onClick:()=>z(oe=>!oe),className:"bg-cyan-600 text-white font-bold py-2 px-3 rounded-lg hover:bg-cyan-700 transition text-sm",children:Z?"日本語訳を隠す":"日本語訳を表示"})]}),v.jsx("div",{className:"space-y-4 text-base leading-relaxed max-h-[65vh] overflow-y-auto pr-2",children:o.passage.map((oe,le)=>v.jsxs("div",{className:"pb-2",children:[v.jsx("p",{className:"text-slate-800 font-medium leading-relaxed",children:oe.english}),Z&&v.jsx("p",{className:"text-slate-500 mt-1 leading-relaxed",children:oe.japanese})]},le))})]})}),v.jsx("div",{className:"md:w-1/2 lg:w-2/5",children:v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Questions"}),v.jsx("div",{className:"space-y-6",children:o.questions.map((oe,le)=>{const re=C[le];return v.jsxs("div",{className:"border-t border-slate-200 pt-4 first:border-t-0 first:pt-0",children:[v.jsxs("p",{className:"font-semibold text-slate-800 mb-3",children:[le+1,". ",oe.question]}),v.jsx("div",{className:"space-y-2",children:oe.options.map((Me,Re)=>{const ge=re===Re,E=oe.correctOptionIndex===Re;let H="w-full text-left p-3 rounded-lg border-2 transition text-sm ";return M?ge?H+=E?"bg-green-100 border-green-500 text-green-900 font-bold":"bg-red-100 border-red-500 text-red-900 font-bold":E?H+="bg-green-100 border-green-500":H+="bg-slate-50 border-slate-200 text-slate-600":H+=ge?"bg-blue-100 border-blue-500":"bg-white border-slate-300 hover:bg-blue-50 hover:border-blue-400",v.jsxs("button",{onClick:()=>X(le,Re),disabled:M,className:H,children:["(",String.fromCharCode(65+Re),") ",Me]},Re)})}),M&&v.jsxs("div",{className:"mt-3 p-3 rounded-lg bg-slate-50 text-sm",children:[v.jsx("p",{className:"font-bold text-slate-700",children:"Explanation:"}),v.jsx("p",{className:"text-slate-600",children:oe.explanation})]})]},le)})}),v.jsx("div",{className:"mt-8 pt-6 border-t border-slate-200",children:M?v.jsxs("div",{className:"text-center space-y-4",children:[v.jsxs("p",{className:"text-xl font-bold",children:["Score: ",j," / ",o.questions.length]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[v.jsx("button",{onClick:()=>B(!0),className:"bg-purple-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-purple-700 transition",children:"重要単語・熟語"}),v.jsx("button",{onClick:ae,className:"bg-slate-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 transition",children:"新しい問題に挑戦"})]})]}):v.jsx("button",{onClick:$,disabled:!J,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition disabled:bg-slate-400 disabled:cursor-not-allowed",children:J?"Check Answers":"Please answer all questions"})})]})})]})})};return v.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4",children:[o&&v.jsx(yN,{idioms:o.idioms,isOpen:q,onClose:()=>B(!1)}),v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Part 7: Reading Comprehension"}),v.jsx("div",{})]}),v.jsx("p",{className:"text-center text-slate-600 -mt-4 mb-6",children:"AIが生成した長文読解問題（パート7形式）です。"}),v.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md flex flex-col sm:flex-row flex-wrap gap-4 justify-center items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"font-semibold text-slate-600",children:"Level:"}),v.jsx("select",{value:p,onChange:J=>x(J.target.value),className:"p-2 border rounded-md bg-white text-slate-800 focus:ring-2 focus:ring-blue-500",disabled:f,children:Dn.map(J=>v.jsx("option",{value:J,children:J},J))})]}),v.jsx("button",{onClick:Y,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition",disabled:f,children:f?"Generating...":"New Passage"})]}),ne()]})},my=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),xN=({className:n="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),TN=({level:n,onGoHome:e})=>{const[l,o]=P.useState(n),[s,f]=P.useState(Li),[m,h]=P.useState([]),[y,p]=P.useState(0),[x,C]=P.useState(!1),[_,M]=P.useState(null),[D,q]=P.useState("paused"),[B,Z]=P.useState(null),[z,Y]=P.useState("word"),[X,$]=P.useState("all"),[ae,ne]=P.useState("Random"),[J,j]=P.useState(),{speak:oe,stop:le}=Rs();P.useEffect(()=>{o(n)},[n]);const re=P.useMemo(()=>m[y],[m,y]),Me=P.useCallback(async()=>{C(!0),M(null),h([]),p(0),q("paused"),Z(null),le();try{let R=[];if(s===Li){const b=Dt.map(Q=>Yh(l,Q,z,X,"Random",J));R=(await Promise.all(b)).flat()}else R=await Yh(l,s,z,X,ae,J);if(R.length===0)M("No vocabulary found for this selection. Try changing filters or wait for more words to be generated.");else{if(ae==="Random")for(let b=R.length-1;b>0;b--){const V=Math.floor(Math.random()*(b+1));[R[b],R[V]]=[R[V],R[b]]}h(R)}}catch(R){M("An error occurred while fetching vocabulary."),console.error(R)}finally{C(!1)}},[l,s,z,X,ae,le,J]);P.useEffect(()=>(Me(),()=>le()),[Me]);const Re=P.useCallback(()=>{le(),Z(null),p(R=>(R+1)%(m.length||1))},[le,m.length]),ge=P.useCallback(()=>{D==="playing"?q("paused"):m.length>0&&q("playing")},[D,m.length]);P.useEffect(()=>{if(D!=="playing"||!re)return;let R=!1;return(async()=>{try{const V=re;if(await new Promise(Q=>setTimeout(Q,2e3)),R||(Z("english"),await oe(V.english,"en-US"),R)||(await new Promise(Q=>setTimeout(Q,2e3)),R)||(Z("japanese"),await oe(V.japanese,"ja-JP"),R)||(await new Promise(Q=>setTimeout(Q,2e3)),R)||(Z("example_en"),await oe(V.example_en,"en-US"),R)||(await new Promise(Q=>setTimeout(Q,2e3)),R)||(Z("example_jp"),await oe(V.example_jp,"ja-JP"),R)||(await new Promise(Q=>setTimeout(Q,2e3)),R))return;Re()}catch(V){V instanceof Ll?console.log("Playback cancelled."):(console.error("An error occurred during speech playback:",V),q("paused"))}})(),()=>{R=!0,le()}},[D,re,Re,oe,le]);const E=()=>{if(!re)return null;const R=({text:b,highlight:V,sizeClass:Q})=>v.jsx("p",{className:`${Q} break-words transition-colors duration-300 ${V?"text-blue-600 font-bold":"text-slate-800"}`,children:b});return v.jsxs("div",{className:"text-left mb-8 bg-white p-6 rounded-xl shadow-md w-full space-y-3",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("p",{className:"text-sm text-slate-500",children:[y+1," / ",m.length]}),v.jsxs("div",{className:"flex gap-2 items-center",children:[re.pos&&v.jsx("span",{className:"capitalize text-xs font-semibold py-1 px-2 rounded-full bg-blue-200 text-blue-800",children:re.pos.toLowerCase()}),v.jsx("span",{className:`capitalize text-xs font-semibold py-1 px-2 rounded-full ${re.type==="idiom"?"bg-purple-200 text-purple-800":"bg-green-200 text-green-800"}`,children:re.type})]})]}),v.jsx(R,{text:re.english,highlight:B==="english",sizeClass:"text-2xl md:text-3xl font-bold"}),v.jsx(R,{text:re.japanese,highlight:B==="japanese",sizeClass:"text-xl md:text-2xl"}),v.jsx("hr",{className:"my-2 border-slate-200"}),v.jsx(R,{text:re.example_en,highlight:B==="example_en",sizeClass:"text-lg"}),v.jsx(R,{text:re.example_jp,highlight:B==="example_jp",sizeClass:"text-base text-slate-600"})]})},H=()=>x?v.jsx(Tt,{}):_?v.jsx("p",{className:"text-center text-red-500 p-4",children:_}):m.length===0?v.jsx("p",{className:"text-center text-slate-500 p-4",children:"Select filters and start learning."}):v.jsx("div",{className:"flex flex-col items-center gap-8",children:v.jsxs("div",{className:"flex items-center justify-center gap-8",children:[v.jsx("button",{onClick:ge,className:"text-blue-600 bg-white rounded-full p-2 shadow-lg hover:bg-slate-100 transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:D==="playing"?v.jsx(xN,{className:"w-16 h-16"}):v.jsx(my,{className:"w-16 h-16"})}),v.jsx("button",{onClick:Re,disabled:D==="playing",className:"text-slate-700 bg-white rounded-full p-2 shadow-lg hover:bg-slate-100 transition disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:v.jsx(hc,{className:"w-12 h-12"})})]})}),ie=({type:R,children:b})=>v.jsx("button",{onClick:()=>Y(R),disabled:D==="playing"||x,className:`flex-1 px-4 py-2 rounded-md text-sm font-semibold transition ${z===R?"bg-white shadow":"disabled:opacity-50"}`,children:b});return v.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4 flex flex-col h-[calc(100vh-2rem)]",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[v.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Drive Mode"}),v.jsx("div",{})]}),v.jsx("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md flex flex-col gap-4 flex-shrink-0",children:v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 items-end",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"level-select",className:"block text-sm font-semibold text-slate-600 mb-1",children:"Level:"}),v.jsx("select",{id:"level-select",value:l,onChange:R=>o(R.target.value),disabled:D==="playing"||x,className:"w-full p-2 border rounded-md bg-slate-50 focus:ring-2 focus:ring-blue-500",children:Dn.map(R=>v.jsx("option",{value:R,children:R},R))})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"category-select",className:"block text-sm font-semibold text-slate-600 mb-1",children:"Category:"}),v.jsx("select",{id:"category-select",value:s,onChange:R=>f(R.target.value),disabled:D==="playing"||x,className:"w-full p-2 border rounded-md bg-slate-50 focus:ring-2 focus:ring-blue-500",children:Mg.map(R=>v.jsx("option",{value:R,children:R},R))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-600 mb-1",children:"Practice:"}),v.jsxs("div",{className:"flex-1 flex gap-1 rounded-lg p-1 bg-slate-200",children:[v.jsx(ie,{type:"word",children:"Words"}),v.jsx(ie,{type:"idiom",children:"Idioms"}),v.jsx(ie,{type:"all",children:"All"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-600 mb-1",children:"Order:"}),v.jsxs("select",{value:ae,onChange:R=>ne(R.target.value),className:"p-2 border rounded-md bg-slate-50 w-full",disabled:D==="playing"||x,children:[v.jsx("option",{value:"Random",children:"Random"}),v.jsx("option",{value:"Alphabetical",children:"Alphabetical"})]})]}),z==="word"&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-600 mb-1",children:"Part of Speech:"}),v.jsxs("select",{value:X,onChange:R=>$(R.target.value),className:"p-2 border rounded-md bg-slate-50 w-full",disabled:D==="playing"||x,children:[v.jsx("option",{value:"all",children:"All Parts of Speech"}),Ul.map(R=>v.jsx("option",{value:R,children:R},R))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-600 mb-1",children:"Frequency:"}),v.jsxs("select",{value:J||"",onChange:R=>j(R.target.value?Number(R.target.value):void 0),disabled:D==="playing"||x,className:"p-2 border rounded-md bg-slate-50 w-full",children:[v.jsx("option",{value:"",children:"All Frequencies"}),v.jsx("option",{value:"3",children:"High (★★★)"}),v.jsx("option",{value:"2",children:"Medium (★★☆)"}),v.jsx("option",{value:"1",children:"Low (★☆☆)"})]})]})]})}),v.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center bg-slate-200 rounded-2xl p-4 md:p-8",children:[E(),H()]})]})},CN=({passage:n,title:e,onClose:l})=>v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:l,children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl h-[80vh] flex flex-col",onClick:o=>o.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 flex-shrink-0",children:[v.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[e," - Full Script"]}),v.jsx("button",{onClick:l,className:"text-slate-500 hover:text-slate-800",children:v.jsx(dy,{className:"w-7 h-7"})})]}),v.jsx("div",{className:"p-6 overflow-y-auto space-y-4",children:n.map((o,s)=>v.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[v.jsx("p",{className:"text-slate-800 font-medium leading-relaxed",children:o.english}),v.jsx("p",{className:"text-slate-500 mt-1 leading-relaxed",children:o.japanese})]},s))}),v.jsx("div",{className:"p-4 border-t border-slate-200 text-right flex-shrink-0",children:v.jsx("button",{onClick:l,className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition",children:"Close"})})]})}),SN=({onGoHome:n,initialCategory:e,level:l,part:o})=>{const[s,f]=P.useState(null),[m,h]=P.useState("loading"),[y,p]=P.useState(null),[x,C]=P.useState(null),[_,M]=P.useState(l),[D,q]=P.useState(!1),{speak:B,stop:Z,isSpeaking:z}=Rs(),Y=P.useCallback(async()=>{h("loading"),p(null),f(null),C(null),q(!1),Z();try{const J=e==="Random"?Dt[Math.floor(Math.random()*Dt.length)]:e,j=await fN(o,_,J);if(!j)throw new Error("AI failed to generate a valid exercise. Please try again.");f(j),h("ready")}catch(J){p(J.message||"An error occurred while fetching the exercise."),h("ready"),console.error(J)}},[_,e,o,Z]);P.useEffect(()=>(Y(),()=>Z()),[Y]);const X=P.useCallback(async()=>{if(!(!s||z)){h("listening");try{if(s.part===Rt.Part2){await B(s.question,"en-US"),await new Promise(J=>setTimeout(J,500));for(const J of s.options)await B(J,"en-US"),await new Promise(j=>setTimeout(j,400))}else for(const J of s.passage)await B(J.english,"en-US"),await new Promise(j=>setTimeout(j,300));h("answering")}catch(J){J instanceof Ll?console.log("Playback was cancelled."):p("An audio playback error occurred."),h("ready")}}},[s,z,B]),$=P.useCallback(async()=>{if(!(!s||z))try{if(s.part===Rt.Part2)await B(s.question,"en-US");else for(const J of s.passage)await B(J.english,"en-US"),await new Promise(j=>setTimeout(j,300))}catch(J){J instanceof Ll||console.error("Replay error:",J)}},[s,z,B]),ae=J=>{m==="answering"&&(C(J),h("answered"))},ne=()=>{if(m==="loading")return v.jsx(Tt,{});if(y)return v.jsx("p",{className:"text-center text-red-500 bg-red-100 p-4 rounded-lg",children:y});if(!s)return v.jsx("p",{className:"text-center text-slate-500",children:"No exercise loaded."});const J=x===s.correctOptionIndex,j=s.part===Rt.Part2;return v.jsxs("div",{className:"w-full bg-white p-6 md:p-8 rounded-2xl shadow-xl flex flex-col items-center",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4 text-center",children:j?"Question-Response":s.title}),m==="ready"&&v.jsxs("button",{onClick:X,className:"bg-blue-600 text-white font-bold py-4 px-8 rounded-lg text-xl hover:bg-blue-700 transition flex items-center gap-3",children:[v.jsx(my,{className:"w-8 h-8"})," Start Listening"]}),m==="listening"&&v.jsxs("div",{className:"text-center my-8",children:[v.jsx(Ko,{className:"w-16 h-16 text-blue-500 animate-pulse"}),v.jsx("p",{className:"mt-4 text-slate-600 font-semibold",children:"Listen carefully..."})]}),(m==="answering"||m==="answered")&&v.jsxs("div",{className:"w-full text-left mt-4",children:[!j&&v.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-4",children:s.question}),v.jsx("div",{className:"space-y-3",children:s.options.map((oe,le)=>{const re=x===le;let Me="w-full text-left p-4 rounded-lg border-2 transition-all duration-300 ";m==="answered"?re?Me+=J?"bg-green-100 border-green-500 text-green-900 font-bold":"bg-red-100 border-red-500 text-red-900 font-bold":le===s.correctOptionIndex?Me+="bg-green-100 border-green-500":Me+="bg-slate-50 border-slate-200 text-slate-600":Me+="bg-white border-slate-300 hover:bg-blue-50 hover:border-blue-400";const Re=j?`(${String.fromCharCode(65+le)}) ${oe}`:oe.en,ge=j?null:oe.jp;return v.jsxs("button",{onClick:()=>ae(le),disabled:m==="answered",className:Me,children:[v.jsx("p",{children:Re}),m==="answered"&&ge&&v.jsx("p",{className:"text-sm text-slate-500 mt-1",children:ge})]},le)})})]}),m==="answered"&&v.jsxs("div",{className:"w-full mt-6 space-y-4",children:[v.jsxs("div",{className:"p-4 rounded-lg bg-slate-50 border border-slate-200",children:[v.jsx("h3",{className:`text-xl font-bold mb-2 ${J?"text-green-600":"text-red-600"}`,children:J?"Correct!":"Incorrect"}),v.jsx("p",{className:"text-slate-700",children:s.explanation})]}),!j&&v.jsx("button",{onClick:()=>q(!0),className:"w-full bg-slate-100 text-slate-700 font-bold py-3 px-6 rounded-lg hover:bg-slate-200 border border-slate-300 transition",children:"View Full Script & Translation"}),v.jsxs("div",{className:"flex justify-center items-center gap-4 pt-2",children:[v.jsx("button",{onClick:$,disabled:z,className:"flex-1 bg-sky-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-sky-600 transition disabled:bg-slate-400",children:"Replay Audio"}),v.jsx("button",{onClick:Y,className:"flex-1 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition",children:"Next Exercise"})]})]})]})};return v.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4",children:[D&&s&&s.part!==Rt.Part2&&v.jsx(CN,{passage:s.passage,title:s.title,onClose:()=>q(!1)}),v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:o}),v.jsx("div",{})]}),v.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md flex gap-4 justify-center items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"font-semibold text-slate-600",children:"Level:"}),v.jsx("select",{value:_,onChange:J=>M(J.target.value),className:"p-2 border rounded-md bg-white text-slate-800 focus:ring-2 focus:ring-blue-500",disabled:m==="loading"||m==="listening",children:Dn.map(J=>v.jsx("option",{value:J,children:J},J))})]}),v.jsx("button",{onClick:Y,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition",disabled:m==="loading"||m==="listening",children:"New Exercise"})]}),ne()]})},_N=({onGoHome:n,initialCategory:e,level:l})=>{const[o,s]=P.useState(null),[f,m]=P.useState("loading"),[h,y]=P.useState(null),[p,x]=P.useState(null),[C,_]=P.useState(l),M=P.useCallback(async()=>{m("loading"),y(null),s(null),x(null);try{const B=e==="Random"?Dt[Math.floor(Math.random()*Dt.length)]:e,Z=await dN(C,B);if(!Z||!Z.options||Z.options.length!==4)throw new Error("AI failed to generate a valid exercise. Please try again.");s(Z),m("answering")}catch(B){y(B.message||"An error occurred while fetching the exercise."),m("answering"),console.error(B)}},[C,e]);P.useEffect(()=>{M()},[M]);const D=B=>{f==="answering"&&(x(B),m("answered"))},q=()=>{if(f==="loading")return v.jsx(Tt,{});if(h)return v.jsx("p",{className:"text-center text-red-500 bg-red-100 p-4 rounded-lg",children:h});if(!o)return v.jsx("p",{className:"text-center text-slate-500",children:"No exercise loaded."});const B=p===o.correctOptionIndex,Z=o.sentence_with_blank.replace("____",`[ ${o.options[o.correctOptionIndex]} ]`);return v.jsxs("div",{className:"w-full bg-white p-6 md:p-8 rounded-2xl shadow-xl flex flex-col items-center",children:[v.jsx("p",{className:"text-lg md:text-xl font-medium text-slate-700 mb-6 text-center leading-relaxed",children:f==="answered"?v.jsx("span",{className:"p-1 bg-yellow-100 rounded",children:Z}):o.sentence_with_blank}),v.jsx("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 gap-3",children:o.options.map((z,Y)=>{const X=p===Y;let $="w-full text-left p-4 rounded-lg border-2 transition-all duration-300 ";return f==="answered"?X?$+=B?"bg-green-100 border-green-500 text-green-900 font-bold":"bg-red-100 border-red-500 text-red-900 font-bold":Y===o.correctOptionIndex?$+="bg-green-100 border-green-500":$+="bg-slate-50 border-slate-200 text-slate-600":$+="bg-white border-slate-300 hover:bg-blue-50 hover:border-blue-400",v.jsxs("button",{onClick:()=>D(Y),disabled:f==="answered",className:$,children:["(",String.fromCharCode(65+Y),") ",z]},Y)})}),f==="answered"&&v.jsxs("div",{className:"w-full mt-6 space-y-4",children:[v.jsxs("div",{className:"p-4 rounded-lg bg-slate-50 border border-slate-200",children:[v.jsx("h3",{className:`text-xl font-bold mb-2 ${B?"text-green-600":"text-red-600"}`,children:B?"Correct! (正解)":"Incorrect (不正解)"}),v.jsx("p",{className:"font-bold text-slate-700 mt-3",children:"解説 (Explanation):"}),v.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:o.explanation_jp})]}),v.jsx("button",{onClick:M,className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition",children:"Next Question"})]})]})};return v.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Part 5: Sentence Completion"}),v.jsx("div",{})]}),v.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md flex gap-4 justify-center items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"font-semibold text-slate-600",children:"Level:"}),v.jsx("select",{value:C,onChange:B=>_(B.target.value),className:"p-2 border rounded-md bg-white text-slate-800 focus:ring-2 focus:ring-blue-500",disabled:f==="loading",children:Dn.map(B=>v.jsx("option",{value:B,children:B},B))})]}),v.jsx("button",{onClick:M,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition",disabled:f==="loading",children:"New Question"})]}),q()]})},bN=({onGoHome:n,initialCategory:e,level:l})=>{const[o,s]=P.useState(null),[f,m]=P.useState(0),[h,y]=P.useState("loading"),[p,x]=P.useState(null),[C,_]=P.useState(null),[M,D]=P.useState([]),[q,B]=P.useState(l),Z=P.useCallback(async()=>{y("loading"),x(null),s(null),m(0),_(null),D([]);try{const ne=e==="Random"?Dt[Math.floor(Math.random()*Dt.length)]:e,J=await mN(q,ne);if(!J||!J.questions||J.questions.length===0)throw new Error("AI failed to generate a valid exercise. Please try again.");s(J),D(new Array(J.questions.length).fill(null)),y("answering")}catch(ne){x(ne.message||"An error occurred while fetching the exercise."),y("answering"),console.error(ne)}},[q,e]);P.useEffect(()=>{Z()},[Z]);const z=o==null?void 0:o.questions[f],Y=ne=>{if(h!=="answering"||!z)return;_(ne),y("answered");const J=[...M];J[f]=z.options[ne],D(J)},X=()=>{o&&(_(null),f<o.questions.length-1?(m(ne=>ne+1),y("answering")):y("answered"))},$=()=>{if(!o)return null;let ne=o.passage;return o.questions.forEach((J,j)=>{const oe=J.blank_number;let le,re;j<f||j===f&&h==="answered"?(le=M[j]||`[${oe}]`,re=M[j]===J.options[J.correctOptionIndex]?"bg-green-200 text-green-900 font-bold":"bg-red-200 text-red-900 font-bold"):j===f&&h==="answering"?(le=`[${oe}]`,re="bg-yellow-300 font-bold animate-pulse"):(le=`[${oe}]`,re="bg-slate-200 font-bold"),ne=ne.replace(`[${oe}]`,`<span class="px-2 py-1 rounded-md ${re}">${le}</span>`)}),v.jsx("p",{className:"text-base md:text-lg text-slate-800 mb-6 leading-relaxed whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:ne}})},ae=()=>{if(h==="loading")return v.jsx(Tt,{});if(p)return v.jsx("p",{className:"text-center text-red-500 bg-red-100 p-4 rounded-lg",children:p});if(!o||!z)return v.jsx("p",{className:"text-center text-slate-500",children:"No exercise loaded."});const ne=C===z.correctOptionIndex,J=f===o.questions.length-1&&h==="answered";return v.jsxs("div",{className:"w-full bg-white p-6 md:p-8 rounded-2xl shadow-xl flex flex-col items-center",children:[$(),v.jsxs("div",{className:"w-full border-t border-slate-200 pt-6",children:[v.jsxs("p",{className:"text-lg font-semibold text-slate-700 mb-4",children:["Question for blank [",z.blank_number,"]"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:z.options.map((j,oe)=>{const le=C===oe;let re="w-full text-left p-4 rounded-lg border-2 transition-all duration-300 ";return h==="answered"?le?re+=ne?"bg-green-100 border-green-500 font-bold":"bg-red-100 border-red-500 font-bold":oe===z.correctOptionIndex?re+="bg-green-100 border-green-500":re+="bg-slate-50 border-slate-200 text-slate-600":re+="bg-white border-slate-300 hover:bg-blue-50 hover:border-blue-400",v.jsxs("button",{onClick:()=>Y(oe),disabled:h==="answered",className:re,children:["(",String.fromCharCode(65+oe),") ",j]},oe)})})]}),h==="answered"&&v.jsxs("div",{className:"w-full mt-6 space-y-4",children:[v.jsxs("div",{className:"p-4 rounded-lg bg-slate-50 border border-slate-200",children:[v.jsx("h3",{className:`text-xl font-bold mb-2 ${ne?"text-green-600":"text-red-600"}`,children:ne?"Correct! (正解)":"Incorrect (不正解)"}),v.jsx("p",{className:"font-bold text-slate-700 mt-3",children:"解説 (Explanation):"}),v.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:z.explanation_jp})]}),v.jsx("button",{onClick:J?Z:X,className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition",children:J?"New Passage":"Next Question"})]})]})};return v.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Part 6: Text Completion"}),v.jsx("div",{})]}),v.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md flex gap-4 justify-center items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"font-semibold text-slate-600",children:"Level:"}),v.jsx("select",{value:q,onChange:ne=>B(ne.target.value),className:"p-2 border rounded-md bg-white text-slate-800 focus:ring-2 focus:ring-blue-500",disabled:h==="loading",children:Dn.map(ne=>v.jsx("option",{value:ne,children:ne},ne))})]}),v.jsx("button",{onClick:Z,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition",disabled:h==="loading",children:"New Passage"})]}),ae()]})},EN=({onGoHome:n})=>{const[e,l]=P.useState([]),[o,s]=P.useState(!0),[f,m]=P.useState(null),[h,y]=P.useState(1),[p,x]=P.useState(20),[C,_]=P.useState(1),[M,D]=P.useState(0),[q,B]=P.useState({sortOrder:"default"}),[Z,z]=P.useState(!1),[Y,X]=P.useState(""),[$,ae]=P.useState(0),ne=P.useCallback(async()=>{s(!0),m(null);try{const{items:E,total:H}=await rx(h,p,q);l(E),_(Math.ceil(H/p)),D(H)}catch(E){console.error("Failed to fetch word list:",E),m("Could not retrieve word list from the database.")}finally{s(!1)}},[h,p,q]),J=P.useCallback(async()=>{try{const E=await Zh();ae(E.length)}catch(E){console.error("Failed to fetch uncategorized count:",E)}},[]);P.useEffect(()=>{J()},[J]),P.useEffect(()=>{const E=setTimeout(()=>{ne()},300);return()=>clearTimeout(E)},[ne]);const j=(E,H)=>{if(y(1),E==="frequencyLevel"){const ie=H?parseInt(H,10):void 0;B(R=>({...R,[E]:ie}))}else B(ie=>({...ie,[E]:H||void 0}))},oe=E=>{x(Number(E)),y(1)},le=async E=>{alert(`Preparing all ${E}s for download. This might take a moment for large databases.`);try{const R=(await ux()).filter(W=>W.type===E).filter(W=>{const ce=W&&typeof W.english=="string"&&W.english.length>0&&typeof W.japanese=="string"&&typeof W.example_en=="string"&&typeof W.example_jp=="string"&&typeof W.level=="string"&&typeof W.category=="string"&&typeof W.type=="string"&&(W.type==="word"||W.type==="idiom");return ce||console.warn("Skipping potentially malformed item during JSON export:",W),ce}).map(W=>({english:W.english,japanese:W.japanese,pos:W.pos??null,example_en:W.example_en,example_jp:W.example_jp,level:W.level,category:W.category,type:W.type}));if(R.length===0){alert(`No ${E}s found in the database to export.`);return}const b=JSON.stringify({vocabulary:R},null,2),V="data:application/json;charset=utf-8,"+encodeURIComponent(b),Q=`toeic_${E}s_export.json`,K=document.createElement("a");K.setAttribute("href",V),K.setAttribute("download",Q),K.click()}catch(H){alert(`Failed to export ${E}s. Please check the console for errors.`),console.error(`Export for ${E} failed:`,H)}},re=P.useCallback(async()=>{z(!0),X("Fetching uncategorized items...");try{const E=await Zh();if(E.length===0){X("All items are already categorized. Nothing to do!"),z(!1);return}const H=100,ie=Math.ceil(E.length/H);let R=0;for(let b=0;b<ie;b++){const V=E.slice(b*H,(b+1)*H);X(`Analyzing batch ${b+1} of ${ie}... (${V.length} items)`);const Q=V.map(W=>({id:W.id,type:W.type,english:W.english})),K=await gN(Q);if(K)await cx(K),R+=V.length,await J();else throw new Error(`AI analysis failed for batch ${b+1}. No results returned.`)}X(`Analysis complete! Processed ${R} items.`),z(!1),ne()}catch(E){console.error(E),X(`Error during analysis: ${E.message}. Process stopped.`),z(!1)}},[J,ne]),Me=E=>{if(E===void 0)return v.jsx("span",{className:"text-slate-400",children:"-"});const H="★".repeat(E)+"☆".repeat(3-E),ie=["text-slate-400","text-yellow-500","text-orange-500","text-red-500"],R=["N/A","低","中","高"];return v.jsx("span",{className:`${ie[E]} font-bold`,title:`頻出度: ${R[E]}`,children:H})},Re=()=>C<=1?null:v.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[v.jsx("button",{onClick:()=>y(E=>Math.max(1,E-1)),disabled:h===1,className:"px-4 py-2 bg-white border rounded-md shadow-sm disabled:opacity-50",children:"← Prev"}),v.jsxs("span",{className:"text-slate-600",children:["Page ",h," of ",C]}),v.jsx("button",{onClick:()=>y(E=>Math.min(C,E+1)),disabled:h===C,className:"px-4 py-2 bg-white border rounded-md shadow-sm disabled:opacity-50",children:"Next →"})]}),ge="w-full p-2 border rounded-md bg-white text-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500";return v.jsxs("div",{className:"w-full max-w-5xl mx-auto p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Vocabulary List"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>le("word"),className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition text-sm",children:"Export Words"}),v.jsx("button",{onClick:()=>le("idiom"),className:"bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 transition text-sm",children:"Export Idioms"})]})]}),v.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md mb-6",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-700 mb-2",children:"AI 頻出度分析"}),v.jsx("p",{className:"text-slate-600 mb-3",children:"データベース内の未分類の単語・熟語のTOEICでの頻出度をAIが分析し、高・中・低の3段階でレベルを割り振ります。"}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[v.jsx("button",{onClick:re,disabled:Z||$===0,className:"bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 transition disabled:bg-slate-400 disabled:cursor-not-allowed flex-grow",children:Z?"分析中...":`頻出度の振り分けを開始 (${$}件)`}),Z&&v.jsxs("div",{className:"w-full sm:w-auto flex items-center gap-3",children:[v.jsx(Tt,{}),v.jsx("span",{className:"text-indigo-700 font-semibold",children:Y})]})]}),!Z&&Y&&v.jsx("p",{className:"text-sm text-slate-600 mt-2",children:Y})]}),v.jsx("div",{className:"p-4 bg-white rounded-lg shadow-md mb-6",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsx("input",{type:"text",placeholder:"Search English/Japanese...",onChange:E=>j("search",E.target.value),className:`${ge} lg:col-span-4`}),v.jsxs("select",{onChange:E=>j("level",E.target.value),className:ge,children:[v.jsx("option",{value:"",children:"All Levels"}),Dn.map(E=>v.jsx("option",{value:E,children:E},E))]}),v.jsxs("select",{onChange:E=>j("category",E.target.value),className:ge,children:[v.jsx("option",{value:"",children:"All Categories"}),Dt.map(E=>v.jsx("option",{value:E,children:E},E))]}),v.jsxs("select",{onChange:E=>j("type",E.target.value),className:ge,children:[v.jsx("option",{value:"",children:"All Types"}),v.jsx("option",{value:"word",children:"Word"}),v.jsx("option",{value:"idiom",children:"Idiom"})]}),v.jsxs("select",{onChange:E=>j("frequencyLevel",E.target.value),className:ge,children:[v.jsx("option",{value:"",children:"All Frequencies"}),v.jsx("option",{value:"3",children:"高 (★★★)"}),v.jsx("option",{value:"2",children:"中 (★★☆)"}),v.jsx("option",{value:"1",children:"低 (★☆☆)"})]}),v.jsxs("select",{value:q.sortOrder,onChange:E=>j("sortOrder",E.target.value),className:ge,children:[v.jsx("option",{value:"default",children:"Default Order"}),v.jsx("option",{value:"alphabetical",children:"Alphabetical (A-Z)"})]}),v.jsxs("select",{value:p,onChange:E=>oe(E.target.value),className:ge,children:[v.jsx("option",{value:"20",children:"20 / page"}),v.jsx("option",{value:"40",children:"40 / page"}),v.jsx("option",{value:"100",children:"100 / page"})]})]})}),o?v.jsx(Tt,{}):f?v.jsx("p",{className:"text-red-500 text-center",children:f}):v.jsxs("div",{children:[v.jsxs("div",{className:"mb-4 text-slate-600",children:["Found ",v.jsx("span",{className:"font-bold",children:M})," matching items."]}),v.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[v.jsx("thead",{className:"bg-slate-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"English"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Japanese"}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider hidden md:table-cell",children:"Details"}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider hidden lg:table-cell",children:"Frequency"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:e.map(E=>v.jsxs("tr",{children:[v.jsxs("td",{className:"px-6 py-4 whitespace-normal",children:[v.jsx("div",{className:"text-sm font-medium text-slate-900",children:E.english}),v.jsx("div",{className:"text-sm text-slate-500 hidden sm:block",children:E.example_en})]}),v.jsxs("td",{className:"px-6 py-4 whitespace-normal",children:[v.jsx("div",{className:"text-sm text-slate-900",children:E.japanese}),v.jsx("div",{className:"text-sm text-slate-500 hidden sm:block",children:E.example_jp})]}),v.jsx("td",{className:"px-4 py-4 whitespace-normal hidden md:table-cell",children:v.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[v.jsx("span",{className:`capitalize text-xs font-semibold py-1 px-2 rounded-full ${E.type==="idiom"?"bg-purple-200 text-purple-800":"bg-green-200 text-green-800"}`,children:E.type}),E.pos&&v.jsx("span",{className:"capitalize text-xs font-semibold py-1 px-2 rounded-full bg-blue-200 text-blue-800",children:E.pos}),v.jsx("span",{className:"text-xs text-slate-500 py-1 px-2",children:E.level})]})}),v.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-lg text-center hidden lg:table-cell",children:Me(E.frequencyLevel)})]},E.id))})]})}),e.length===0&&v.jsx("p",{className:"text-center text-slate-500 p-8",children:"No items match your filters."}),Re()]})]})},AN=({onGoHome:n})=>{const[e,l]=P.useState("selecting"),[o,s]=P.useState(new Set),[f,m]=P.useState(Ui.Beginner),[h,y]=P.useState(null),[p,x]=P.useState(null),[C,_]=P.useState(null),[M,D]=P.useState(0),[q,B]=P.useState([]),[Z,z]=P.useState(!1),[Y,X]=P.useState(null),$=R=>{s(b=>{const V=new Set(b);return V.has(R)?V.delete(R):V.add(R),V})},ae=R=>{R.target.checked?s(new Set(hs)):s(new Set)},ne=P.useCallback(async()=>{if(o.size!==1)return;const R=Array.from(o)[0];y(R),l("learning"),z(!0),X(null),x(null),_(null);try{const b=await hN(R);if(!b)throw new Error("AIから解説を取得できませんでした。");x(b)}catch(b){X(b.message||"解説の生成中にエラーが発生しました。")}finally{z(!1)}},[o]),J=P.useCallback(async()=>{if(o.size===0)return;const R=Array.from(o);y(null),l("quizzing"),z(!0),X(null),_(null);try{const b=await Ag(R,void 0,f);if(!b||b.length===0)throw new Error("AIからクイズを取得できませんでした。");_(b),B(new Array(b.length).fill(null)),D(0)}catch(b){X(b.message||"クイズの生成中にエラーが発生しました。")}finally{z(!1)}},[o,f]),j=P.useCallback(async()=>{if(!(!h||!p)){l("quizzing"),z(!0),X(null);try{const R=await Ag([h],p);if(!R||R.length===0)throw new Error("AIからクイズを取得できませんでした。");_(R),B(new Array(R.length).fill(null)),D(0)}catch(R){X(R.message||"クイズの生成中にエラーが発生しました。")}finally{z(!1)}}},[h,p]),oe=R=>{if(C===null||q[M]!==null)return;const b=[...q];b[M]=R,B(b)},le=()=>{C!==null&&(M<C.length-1?D(R=>R+1):l("results"))},re=()=>{l("selecting"),s(new Set),y(null),x(null),_(null),D(0),B([]),X(null)},Me=()=>{if(!h){re();return}s(new Set([h])),ne()},Re=()=>v.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-xl",children:[v.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 mb-2",children:"学習方法を選択してください"}),v.jsx("p",{className:"text-center text-slate-600 mb-6",children:"解説を読んでからクイズに挑戦するか、複数のトピックを選んで練習クイズに挑戦できます。"}),v.jsxs("div",{className:"border rounded-lg p-4 max-h-[40vh] overflow-y-auto mb-6",children:[v.jsxs("div",{className:"flex items-center justify-between border-b pb-2 mb-2",children:[v.jsx("label",{htmlFor:"select-all",className:"font-semibold text-slate-700",children:"文法トピック"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{htmlFor:"select-all",className:"text-sm text-slate-600",children:"全て選択"}),v.jsx("input",{type:"checkbox",id:"select-all",checked:o.size===hs.length&&hs.length>0,onChange:ae,className:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]})]}),v.jsx("div",{className:"space-y-2",children:hs.map(R=>v.jsxs("label",{htmlFor:`topic-${R}`,className:"flex items-center p-2 rounded-md hover:bg-slate-100 cursor-pointer",children:[v.jsx("input",{type:"checkbox",id:`topic-${R}`,checked:o.has(R),onChange:()=>$(R),className:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),v.jsx("span",{className:"ml-3 text-slate-800",children:R})]},R))})]}),v.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-slate-50",children:[v.jsx("label",{htmlFor:"practice-level-select",className:"block text-lg font-medium text-slate-700 mb-2",children:"練習クイズのレベル"}),v.jsx("select",{id:"practice-level-select",value:f,onChange:R=>m(R.target.value),className:"w-full p-3 border border-slate-300 rounded-lg bg-white text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",children:Dn.map(R=>v.jsx("option",{value:R,children:R},R))}),v.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["上記のレベルは「練習クイズを開始」ボタンに適用されます。",v.jsx("br",{}),"解説を読むモードはトピックの基本を学習します。"]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("button",{onClick:ne,disabled:o.size!==1,className:"bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition shadow-md disabled:bg-slate-400 disabled:cursor-not-allowed flex flex-col items-center justify-center text-center",children:["解説を読んでからクイズ",v.jsx("span",{className:"text-xs font-normal opacity-80",children:"(トピックを1つ選択)"})]}),v.jsxs("button",{onClick:J,disabled:o.size===0,className:"bg-rose-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-rose-600 transition shadow-md disabled:bg-slate-400 disabled:cursor-not-allowed flex flex-col items-center justify-center text-center",children:["練習クイズを開始",v.jsx("span",{className:"text-xs font-normal opacity-80",children:"(50問 / 1つ以上選択)"})]})]})]}),ge=()=>v.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-xl w-full",children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:h}),Z&&v.jsx(Tt,{}),Y&&v.jsx("p",{className:"text-red-500 bg-red-100 p-4 rounded-lg",children:Y}),p&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"max-h-[50vh] overflow-y-auto pr-4 mb-6",children:v.jsx("p",{className:"text-slate-700 whitespace-pre-wrap leading-relaxed",children:p})}),v.jsx("button",{onClick:j,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition text-lg",children:"理解度チェッククイズに進む"})]})]}),E=()=>{const R=C==null?void 0:C[M],b=q[M];return R?v.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-xl w-full",children:[v.jsxs("p",{className:"text-sm text-slate-500 mb-2 text-right",children:["Question ",M+1," / ",C==null?void 0:C.length]}),v.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:R.question_jp}),v.jsx("p",{className:"text-xl font-medium text-slate-800 mb-6 bg-slate-100 p-4 rounded-md",children:R.sentence_with_blank}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:R.options.map((V,Q)=>{const K=b===Q,W=R.correctOptionIndex===Q;let ce="w-full text-left p-4 rounded-lg border-2 transition-all duration-300 ";return b!==null?K?ce+=W?"bg-green-100 border-green-500 text-green-900":"bg-red-100 border-red-500 text-red-900":W?ce+="bg-green-100 border-green-500":ce+="bg-slate-50 border-slate-200 text-slate-600":ce+="bg-white border-slate-300 hover:bg-blue-50 hover:border-blue-400",v.jsxs("button",{onClick:()=>oe(Q),disabled:b!==null,className:ce,children:["(",String.fromCharCode(65+Q),") ",V]},Q)})}),b!==null&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"w-full mt-6 p-4 rounded-lg bg-slate-50 border border-slate-200",children:[v.jsx("p",{className:"font-bold text-slate-700",children:"解説:"}),v.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:R.explanation_jp})]}),v.jsx("button",{onClick:le,className:"w-full mt-4 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition",children:M<((C==null?void 0:C.length)??0)-1?"次の問題へ":"結果を見る"})]})]}):v.jsx(Tt,{})},H=()=>{const R=(C==null?void 0:C.filter((Q,K)=>Q.correctOptionIndex===q[K]).length)||0,b=(C==null?void 0:C.length)||0,V=!h;return v.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-xl w-full text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"クイズ結果"}),v.jsxs("p",{className:"text-5xl font-bold text-blue-600 my-6",children:[R," / ",b]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[v.jsx("button",{onClick:V?J:Me,className:"flex-1 bg-slate-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-slate-700 transition",children:V?"同じ設定で再度練習":"もう一度学習する"}),v.jsx("button",{onClick:re,className:"flex-1 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition",children:"別のトピックを選ぶ"})]})]})},ie=()=>{if(Z&&e!=="quizzing"&&e!=="learning")return v.jsx(Tt,{});switch(e){case"selecting":return Re();case"learning":return ge();case"quizzing":return Z?v.jsx(Tt,{}):E();case"results":return H();default:return v.jsx("p",{children:"エラーが発生しました。"})}};return v.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("button",{onClick:e==="selecting"?n:re,className:"text-blue-600 hover:text-blue-800",children:["← ",e==="selecting"?"Back to Home":"Back to Topics"]}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"基礎文法モード"}),v.jsx("div",{})]}),ie()]})},wN=({onGoHome:n})=>{const[e,l]=P.useState(""),[o,s]=P.useState(null),[f,m]=P.useState(!1),[h,y]=P.useState(null),p=P.useCallback(async()=>{if(!e.trim()){y("Please enter a sentence to check.");return}m(!0),y(null),s(null);try{const _=await pN(e);if(!_)throw new Error("AI failed to return a valid response. Please try again.");s(_)}catch(_){y(_.message||"An unexpected error occurred."),console.error(_)}finally{m(!1)}},[e]),x=()=>{l(""),s(null),y(null),m(!1)},C=o&&o.originalSentence===o.correctedSentence;return v.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"AI Grammar Check"}),v.jsx("div",{})]}),v.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-xl",children:[v.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Enter an English sentence"}),v.jsx("textarea",{value:e,onChange:_=>l(_.target.value),placeholder:"e.g., He don't like apple.",className:"w-full h-32 p-4 border border-slate-300 rounded-lg bg-slate-50 text-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",disabled:f}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[v.jsx("button",{onClick:p,disabled:f||!e.trim(),className:"flex-grow bg-blue-600 text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-blue-700 transition shadow-md disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?v.jsx(Tt,{}):v.jsxs(v.Fragment,{children:[v.jsx(Ig,{className:"w-6 h-6"})," Check Grammar"]})}),v.jsx("button",{onClick:x,disabled:f,className:"flex-grow bg-slate-200 text-slate-700 font-bold py-3 px-6 rounded-lg text-lg hover:bg-slate-300 transition shadow-sm disabled:bg-slate-300",children:"Clear"})]}),h&&v.jsx("p",{className:"mt-4 text-center text-red-500 bg-red-100 p-3 rounded-lg",children:h}),o&&v.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6 space-y-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-500 mb-1",children:"Original Sentence"}),v.jsx("p",{className:"p-3 bg-slate-100 rounded-md text-slate-700",children:o.originalSentence})]}),v.jsxs("div",{children:[v.jsx("h3",{className:`text-sm font-semibold mb-1 ${C?"text-green-600":"text-orange-600"}`,children:C?"Correct Sentence":"Corrected Sentence"}),v.jsx("p",{className:`p-3 rounded-md ${C?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:o.correctedSentence})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-500 mb-1",children:"AIの解説 (Explanation)"}),v.jsx("div",{className:"p-3 bg-blue-50 rounded-md text-blue-900 border border-blue-200 whitespace-pre-wrap leading-relaxed",children:o.explanation_jp})]})]})]})]})},MN=({onSelectCategory:n,onClose:e})=>{const l=["Random",...Dt];return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:e,children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 w-full max-w-md",onClick:o=>o.stopPropagation(),children:[v.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 mb-6",children:"Select a Category"}),v.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.map(o=>v.jsx("button",{onClick:()=>n(o),className:"bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 transition-transform transform hover:scale-105 shadow-md",children:o},o))}),v.jsx("div",{className:"text-center mt-8",children:v.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-700 font-semibold py-2 px-4",children:"Cancel"})})]})})},NN=({onSelectPart:n,onClose:e})=>{const l=["Random",...rc];return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:e,children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 w-full max-w-md",onClick:o=>o.stopPropagation(),children:[v.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 mb-6",children:"Select Listening Part"}),v.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.map(o=>v.jsx("button",{onClick:()=>n(o),className:"bg-teal-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-teal-700 transition-transform transform hover:scale-105 shadow-md",children:o},o))}),v.jsx("div",{className:"text-center mt-8",children:v.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-700 font-semibold py-2 px-4",children:"Cancel"})})]})})};let Di=null,ys=!1;const RN=()=>{const[n,e]=P.useState(ys);return{unlockAudio:P.useCallback(()=>{if(ys||typeof window>"u"||!(window.AudioContext||window.webkitAudioContext)||(Di||(Di=new(window.AudioContext||window.webkitAudioContext)),Di.state==="suspended"&&Di.resume(),ys))return;const o=Di.createBuffer(1,1,22050),s=Di.createBufferSource();s.buffer=o,s.connect(Di.destination),s.start(0),ys=!0,e(!0),console.log("AudioContext unlocked.")},[]),isAudioUnlocked:n}},DN=()=>{const[n,e]=P.useState(Ke.Home),[l,o]=P.useState(Ui.Beginner),[s,f]=P.useState(!0),[m,h]=P.useState("Initializing..."),[y,p]=P.useState(0),[x,C]=P.useState(null),[_,M]=P.useState(!1),[D,q]=P.useState("Random"),[B,Z]=P.useState("Random"),{unlockAudio:z}=RN(),Y=P.useCallback(async()=>{const R=await ax();return p(R),R},[]);P.useEffect(()=>{(async()=>{f(!0),h("Loading vocabulary from local database...");try{const b=await Y();h(`Database ready. ${b} items loaded.`)}catch(b){console.error("Failed to initialize database:",b),h("Error setting up vocabulary. Please refresh.")}finally{f(!1)}})()},[Y]);const X=P.useCallback(()=>{e(Ke.Home),Y()},[Y]),$=async(R,b,V)=>{z();const Q=await sx(R,b,V,1500),K=await uN(R,b,V,Q);if(!K||K.length===0)return 0;const W=K.map(ce=>{const ee=V==="all"?ce.type:V;return{...ce,level:ce.level||(R!==kl?R:void 0),category:ce.category||(b!==Li?b:void 0),type:ee,pos:ee==="word"?ce.pos:null}}).filter(ce=>!ce.english||!ce.japanese||!ce.example_en||!ce.example_jp||!ce.level||!ce.category||!ce.type?(console.warn("Skipping item with missing core data:",ce),!1):ce.type==="word"&&(!ce.pos||!Object.values(Nl).includes(ce.pos))?(console.warn("Skipping word with invalid or missing POS:",ce),!1):!0);if(W.length>0){const ce=await Dg(W);return await Y(),ce}return 0},ae=(R,b,V=!1)=>{z(),o(b),V?C(R):e(R)},ne=R=>ae(Ke.Vocabulary,R),J=R=>ae(Ke.Drive,R),j=R=>ae(Ke.Reading,R,!0),oe=R=>ae(Ke.Part5,R,!0),le=R=>ae(Ke.Part6,R,!0),re=()=>{z(),e(Ke.BasicGrammar)},Me=()=>{z(),e(Ke.GrammarCheck)},Re=R=>{z(),o(R),M(!0)},ge=R=>{Z(R),M(!1),C(Ke.Listening)},E=()=>{z(),e(Ke.WordList)},H=R=>{x&&(q(R),e(x),C(null))},ie=()=>{switch(n){case Ke.Vocabulary:return v.jsx(xx,{level:l,onGoHome:X});case Ke.Reading:return v.jsx(vN,{level:l,onGoHome:X,initialCategory:D});case Ke.Drive:return v.jsx(TN,{level:l,onGoHome:X});case Ke.Listening:const R=B==="Random"?rc[Math.floor(Math.random()*rc.length)]:B;return v.jsx(SN,{level:l,onGoHome:X,initialCategory:D,part:R});case Ke.Part5:return v.jsx(_N,{level:l,onGoHome:X,initialCategory:D});case Ke.Part6:return v.jsx(bN,{level:l,onGoHome:X,initialCategory:D});case Ke.WordList:return v.jsx(EN,{onGoHome:X});case Ke.BasicGrammar:return v.jsx(AN,{onGoHome:X});case Ke.GrammarCheck:return v.jsx(wN,{onGoHome:X});case Ke.Home:default:return v.jsx(vx,{onStartVocabulary:ne,onStartReading:j,onStartDrive:J,onStartListening:Re,onStartPart5:oe,onStartPart6:le,onStartBasicGrammar:re,onStartGrammarCheck:Me,onViewWordList:E,onImportJson:Y,onAiCollect:$,dbWordCount:y,isInitializing:s,initStatus:m})}};return v.jsxs("div",{className:"min-h-screen bg-slate-100 font-sans flex flex-col items-center p-4",children:[_&&v.jsx(NN,{onSelectPart:ge,onClose:()=>M(!1)}),x&&v.jsx(MN,{onSelectCategory:H,onClose:()=>C(null)}),v.jsx("main",{className:"w-full max-w-4xl mx-auto",children:ie()})]})},hy=document.getElementById("root");if(!hy)throw new Error("Could not find root element to mount to");const IN=z0.createRoot(hy);IN.render(v.jsx(k0.StrictMode,{children:v.jsx(DN,{})}));
